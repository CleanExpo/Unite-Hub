# Unite-Hub Environment Variables

# ====================================
# Authentication
# ====================================
NEXTAUTH_URL=http://localhost:3008
NEXTAUTH_SECRET=your-secret-key-here

# ====================================
# Supabase
# ====================================
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Connection Pooling (RECOMMENDED for production)
# Enables 60-80% latency reduction via PgBouncer (port 6543)
# Get from: Supabase Dashboard â†’ Database â†’ Connection Pooling
# Format: postgresql://postgres:[password]@[host]:6543/postgres?pgbouncer=true
# Leave empty to use direct connection (port 5432)
SUPABASE_POOLER_URL=

# Advanced Connection Pooling Configuration
# Enable database pooling (true/false)
ENABLE_DB_POOLER=false

# Pooling mode: "transaction" (recommended) or "session"
# Transaction mode: Better performance, supports most queries
# Session mode: Required for prepared statements, advisory locks
DB_POOLER_MODE=transaction

# Pool size: Number of connections per worker (default: 20 for production)
# Development: 5, Staging: 10, Production: 20
DB_POOL_SIZE=20

# Idle timeout: Seconds before closing idle connections (default: 600 = 10 minutes)
DB_IDLE_TIMEOUT=600

# Max lifetime: Maximum connection lifetime in seconds (default: 3600 = 1 hour)
# Prevents connection leaks and ensures fresh connections
DB_MAX_LIFETIME=3600

# ====================================
# Autonomous Monitoring System (No External Dependencies)
# ====================================
# Email addresses for critical error alerts (comma-separated)
# Uses existing SendGrid/Gmail SMTP (configured below)
ALERT_EMAILS=admin@unite-hub.com,ops@unite-hub.com

# Cron secret for automated health checks (generate random string)
# Used by Vercel Cron to authenticate /api/cron/health-check
CRON_SECRET=

# Database Logging (Production only - set to 'true' to enable in dev)
ENABLE_DB_LOGGING=false

# Optional: Legacy Sentry (External) - Not used by autonomous monitoring
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id
# NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id
# SENTRY_AUTH_TOKEN=your-sentry-auth-token-here

# ====================================
# Redis Caching (RECOMMENDED for Production)
# ====================================
# Self-Hosted Redis for high-performance caching
# Options: DigitalOcean Managed Redis, Docker, Standalone Server
# Documentation: docs/REDIS_PRODUCTION_SETUP.md
#
# Benefits:
# - 60-80% latency reduction for cached queries
# - 70% reduction in database load
# - 80%+ cache hit rate (target)
# - Automatic fallback to in-memory if not configured
# - No external SaaS dependencies
#
# Setup Options:
# 1. DigitalOcean Managed Redis (Production): $15/month, auto-backups, HA
# 2. Docker (Local/Staging): Free, easy setup, included in docker-compose
# 3. Standalone Server (VPS): Full control, custom configuration
#
# Quick Start (Docker):
# docker run -d -p 6379:6379 --name redis redis:7-alpine
# node scripts/test-redis.mjs

# Redis URL (choose based on setup)
# - DigitalOcean Managed: rediss://default:password@your-redis-do-user.db.ondigitalocean.com:25061
# - Docker/Local: redis://localhost:6379
# - Standalone: redis://your-server-ip:6379
REDIS_URL=redis://localhost:6379

# Redis Password (if using requirepass authentication)
REDIS_PASSWORD=

# Redis Configuration
REDIS_KEY_PREFIX=unite-hub:
REDIS_TLS_ENABLED=false

# Connection Settings (Optional - defaults shown)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_MAX_RETRIES=3
REDIS_CONNECT_TIMEOUT=10000

# ====================================
# Google OAuth
# ====================================
# Gmail Integration
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3008/api/integrations/gmail/callback

# AIDO 2026 - Google API Integrations (Optional)
# For: Google Search Console, Google Business Profile, Google Analytics 4
# Setup instructions: See AIDO_OAUTH_INTEGRATIONS_COMPLETE.md
# Required scopes:
# - Google Search Console: https://www.googleapis.com/auth/webmasters.readonly
# - Google Business Profile: https://www.googleapis.com/auth/business.manage
# - Google Analytics 4: https://www.googleapis.com/auth/analytics.readonly
# Note: Use the same GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET above
NEXT_PUBLIC_APP_URL=http://localhost:3008  # Change to production URL in production

# ====================================
# AI Models (Multi-Provider Intelligent Routing)
# ====================================
# ðŸ¥‡ PRIORITY 1: Google Gemini 3 (20% of traffic - Gmail/Google Workspace)
# For: Gmail intelligence, PDF analysis, Google Calendar/Drive integration
# Get key from: https://ai.google.dev/
GOOGLE_AI_API_KEY=your-gemini-api-key-here
GEMINI_DAILY_BUDGET=20.00       # USD per day for Gemini (default: $20)
GEMINI_ALERT_THRESHOLD=16       # Alert at 80% ($16)
GEMINI_ENABLE_THINKING=true     # Allow high thinking level

# ðŸ¥ˆ PRIORITY 2: OpenRouter (70% of traffic - Standard AI operations)
# For: Cost-effective Claude/GPT access (70-80% cost savings)
# Get key from: https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-v1-your-key-here
OPENROUTER_API_KEY_2=sk-or-v1-your-backup-key-here

# ðŸ¥‰ PRIORITY 3: Anthropic Claude Direct (10% of traffic - Advanced features)
# Only for: Extended Thinking, Prompt Caching, Latest Models (Sonnet 4, Opus 4)
# Get key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-key-here

# PRIORITY 4: OpenAI (Specialized tasks only)
# Only for: Whisper transcription, DALL-E image generation
# Get key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-key-here

# AI Budget Controls (Combined across all providers)
AI_DAILY_BUDGET=50.00           # USD per day total (default: $50)
AI_MONTHLY_BUDGET=1500.00       # USD per month total (default: $1,500)
AI_ALERT_THRESHOLD=80           # Alert at 80% of budget
AI_ENFORCE_BUDGET=true          # Hard stop when budget exceeded

# ====================================
# Optional Services
# ====================================
# Email Service (Resend - for contact form notifications)
RESEND_API_KEY=re_your_api_key_here
CONTACT_EMAIL=hello@unite-hub.com

# WhatsApp
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
WHATSAPP_ACCESS_TOKEN=your-access-token

# Stripe (Required for billing/subscriptions)
STRIPE_SECRET_KEY=sk_test_your-key-here
STRIPE_PRICE_ID_STARTER=price_your_starter_price_id
STRIPE_PRICE_ID_PROFESSIONAL=price_your_professional_price_id
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ====================================
# Observability & Monitoring
# ====================================
# Redis configuration is defined above (see Redis Caching section)

# Logging
LOG_LEVEL=info
LOG_TO_FILE=true
LOG_DIR=logs

# Telemetry (OpenTelemetry - disabled by default in dev)
ENABLE_TELEMETRY=false

# APM (Application Performance Monitoring)
# Enable APM tracking (true/false)
ENABLE_APM=false

# APM Provider: "datadog", "opentelemetry", "custom", or "none"
# - Datadog: Best for production with comprehensive dashboards
# - OpenTelemetry: Vendor-agnostic, flexible backend options
# - Custom: Your own metrics backend
APM_PROVIDER=none

# Service name for APM tracking
APM_SERVICE_NAME=unite-hub

# Sample rate (0.0 to 1.0): Percentage of requests to track
# Production: 0.1-0.3 (10-30%), Staging: 1.0 (100%)
APM_SAMPLE_RATE=1.0

# Flush interval: How often to send metrics (milliseconds)
APM_FLUSH_INTERVAL=10000

# Datadog Configuration (if using Datadog)
# Get from: https://app.datadoghq.com/organization-settings/api-keys
DD_API_KEY=
DD_SITE=datadoghq.com
DD_SERVICE=unite-hub
DD_ENV=production

# OpenTelemetry Configuration (if using OpenTelemetry)
# OTLP endpoint for trace/metrics export
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=unite-hub

# ====================================
# Media Processing
# ====================================
# Maximum file size for uploads (in MB)
MAX_FILE_SIZE_MB=100

# ====================================
# DigitalOcean Infrastructure (for deployment automation)
# ====================================
# API Token for DigitalOcean - get from: https://cloud.digitalocean.com/account/api/tokens
# This allows automated management of apps, droplets, databases, and domains
DIGITALOCEAN_API_TOKEN=your-digitalocean-api-token-here

# Optional: DigitalOcean App name (used for deployment automation)
DIGITALOCEAN_APP_NAME=synthex-social

# Optional: DigitalOcean region (defaults to 'nyc' - see DigitalOcean docs for codes)
# Other regions: sfo, lon, ams, fra, tor, blr, sgp, etc.
DIGITALOCEAN_REGION=nyc

# ====================================
# SEO Intelligence & Self-Monitoring (Synthex.social Track 3)
# ====================================
# DataForSEO API - for keyword rankings, SERP data, SEO intelligence
# Get key from: https://app.dataforseo.com/api-access
# Format: login:password (e.g., "user@example.com:api_password")
# Cost: ~$0.01-0.05 per keyword lookup (pay-as-you-go)
DATAFORSEO_API_KEY=your-login:your-password

# Semrush API - for keyword data, competitor analysis, domain metrics
# Get key from: https://www.semrush.com/api-analytics/
# Cost: Requires Semrush subscription ($119-449/month)
# Note: Optional - system works with DataForSEO alone
SEMRUSH_API_KEY=your-semrush-api-key-here

# No Bluff Content Policy Enforcement
# Automatically validates all generated content against ethical standards:
# - No fake scarcity tactics
# - No unverifiable claims
# - Must cite data sources (DataForSEO/Semrush)
# - No dark patterns
# - Transparency required
# Set to 'true' to enforce (blocks publication on violations)
# Set to 'false' for warnings only
ENFORCE_NO_BLUFF_POLICY=true
# ====================================
# ATO Integration (Australian Tax Office)
# ====================================
# ATO API Integration for BAS lodgement, STP compliance, ABN verification
# Get credentials from: https://softwaredevelopers.ato.gov.au/
# Register your application and obtain OAuth2 client credentials

# ATO OAuth2 Client Credentials (M2M flow)
ATO_CLIENT_ID=your-ato-client-id
ATO_CLIENT_SECRET=your-ato-client-secret

# ATO OAuth2 Endpoints
ATO_AUTH_URL=https://auth.ato.gov.au/oauth2/authorize
ATO_TOKEN_URL=https://auth.ato.gov.au/oauth2/token

# ATO API URL (sandbox or production)
# Sandbox: https://sandbox.api.ato.gov.au/v1
# Production: https://api.ato.gov.au/v1
ATO_API_URL=https://sandbox.api.ato.gov.au/v1

# ATO API Scope
ATO_SCOPE=https://ato.gov.au/api/v1

# Sandbox Mode (true for testing, false for production)
ATO_SANDBOX_MODE=true

# ABR (Australian Business Register) GUID for ABN lookups
# Get from: https://abr.business.gov.au/Tools/WebServices
ABR_GUID=your-abr-api-guid


D:\Unite-Hub\src\lib\auth\audit-logger.ts:26:  workspaceId?: string;
D:\Unite-Hub\src\lib\auth\audit-logger.ts:47:      workspace_id: entry.workspaceId,
D:\Unite-Hub\src\lib\auth\audit-logger.ts:104:  workspaceId?: string
D:\Unite-Hub\src\lib\auth\audit-logger.ts:111:    workspaceId,
D:\Unite-Hub\src\lib\auth\audit-logger.ts:158:  fromWorkspaceId: string | undefined,
D:\Unite-Hub\src\lib\auth\audit-logger.ts:159:  toWorkspaceId: string
D:\Unite-Hub\src\lib\auth\audit-logger.ts:164:    workspaceId: toWorkspaceId,
D:\Unite-Hub\src\lib\auth\audit-logger.ts:165:    metadata: { fromWorkspaceId },
D:\Unite-Hub\src\lib\auth\audit-logger.ts:177:  workspaceId?: string,
D:\Unite-Hub\src\lib\auth\audit-logger.ts:184:    workspaceId,
D:\Unite-Hub\src\lib\auth\audit-logger.ts:238:  workspaceId: string,
D:\Unite-Hub\src\lib\auth\audit-logger.ts:250:    .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\lib\auth\middleware.ts:16:  workspaceId?: string;
D:\Unite-Hub\src\lib\auth\middleware.ts:30:    requireWorkspace?: boolean;
D:\Unite-Hub\src\lib\auth\middleware.ts:82:    const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\lib\auth\middleware.ts:85:    if (options?.requireWorkspace && !workspaceId && !isAdmin) {
D:\Unite-Hub\src\lib\auth\middleware.ts:88:        error: "workspaceId is required",
D:\Unite-Hub\src\lib\auth\middleware.ts:94:    if (workspaceId && !isAdmin) {
D:\Unite-Hub\src\lib\auth\middleware.ts:114:        .eq("id", workspaceId)
D:\Unite-Hub\src\lib\auth\middleware.ts:137:        workspaceId,
D:\Unite-Hub\src\lib\auth\middleware.ts:144:    if (isAdmin && workspaceId) {
D:\Unite-Hub\src\lib\auth\middleware.ts:149:        .eq("id", workspaceId)
D:\Unite-Hub\src\lib\auth\middleware.ts:156:        workspaceId,
D:\Unite-Hub\src\lib\auth\middleware.ts:197:    requireWorkspace?: boolean;
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:14:  tenantId?: string
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:18:  // If tenantId provided, verify access
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:19:  if (tenantId) {
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:33:      .eq('agency_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:47:      tenantId: agency.id,
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:58:  // No tenantId provided, get user's default (first) agency
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:86:    tenantId: agency.id,
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:102:  tenantId: string
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:110:    .eq('agency_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:156:  tenantId: string
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:164:    .eq('agency_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:175:  tenantId: string
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:177:  const role = await getUserRole(userId, tenantId);
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:186:  tenantId: string
D:\Unite-Hub\src\lib\tenancy\tenantContextResolver.ts:188:  const role = await getUserRole(userId, tenantId);
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:11:export async function loadTenantIntel(tenantId: string, limit: number = 10) {
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:17:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:32:export async function loadTenantAlerts(tenantId: string) {
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:38:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:54:export async function loadTenantPerformance(tenantId: string, limit: number = 10) {
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:60:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:75:export async function loadTenantCombatResults(tenantId: string, limit: number = 20) {
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:85:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:100:export async function getTenantIntelSummary(tenantId: string) {
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:102:    loadTenantIntel(tenantId, 1),
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:103:    loadTenantAlerts(tenantId),
D:\Unite-Hub\src\lib\tenancy\tenantIntelAdapter.ts:104:    loadTenantPerformance(tenantId, 1),
D:\Unite-Hub\src\lib\tenancy\tenantOrchestrationAdapter.ts:11:export async function getTenantSchedules(tenantId: string) {
D:\Unite-Hub\src\lib\tenancy\tenantOrchestrationAdapter.ts:17:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantOrchestrationAdapter.ts:32:export async function getTenantAssets(tenantId: string) {
D:\Unite-Hub\src\lib\tenancy\tenantOrchestrationAdapter.ts:39:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantOrchestrationAdapter.ts:46:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantOrchestrationAdapter.ts:60:export async function getTenantPendingTasks(tenantId: string) {
D:\Unite-Hub\src\lib\tenancy\tenantOrchestrationAdapter.ts:66:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantOrchestrationAdapter.ts:82:  tenantId: string,
D:\Unite-Hub\src\lib\tenancy\tenantOrchestrationAdapter.ts:95:      tenant_id: tenantId,
D:\Unite-Hub\src\lib\tenancy\tenantPostingAdapter.ts:11:export async function getTenantTokens(tenantId: string) {
D:\Unite-Hub\src\lib\tenancy\tenantPostingAdapter.ts:17:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantPostingAdapter.ts:32:  tenantId: string,
D:\Unite-Hub\src\lib\tenancy\tenantPostingAdapter.ts:45:      tenant_id: tenantId,
D:\Unite-Hub\src\lib\tenancy\tenantPostingAdapter.ts:65:export async function getTenantPostingQueue(tenantId: string) {
D:\Unite-Hub\src\lib\tenancy\tenantPostingAdapter.ts:71:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantPostingAdapter.ts:87:  tenantId: string,
D:\Unite-Hub\src\lib\tenancy\tenantPostingAdapter.ts:95:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantScalingAdapter.ts:11:export async function computeTenantScaling(tenantId: string) {
D:\Unite-Hub\src\lib\tenancy\tenantScalingAdapter.ts:18:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantScalingAdapter.ts:39:export async function recommendTenantMode(tenantId: string) {
D:\Unite-Hub\src\lib\tenancy\tenantScalingAdapter.ts:40:  const scaling = await computeTenantScaling(tenantId);
D:\Unite-Hub\src\lib\tenancy\tenantScalingAdapter.ts:62:  tenantId: string,
D:\Unite-Hub\src\lib\tenancy\tenantScalingAdapter.ts:72:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantScalingAdapter.ts:87:export async function getTenantCurrentMode(tenantId: string) {
D:\Unite-Hub\src\lib\tenancy\tenantScalingAdapter.ts:88:  const scaling = await computeTenantScaling(tenantId);
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:14:  tenantId: string,
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:15:  options: Omit<TenantQueryOptions, 'tenantId'> = {}
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:22:    .eq('tenant_id', tenantId);
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:64:  tenantId: string,
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:73:      tenant_id: tenantId,
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:90:  tenantId: string,
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:100:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:116:  tenantId: string,
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:125:    .eq('tenant_id', tenantId);
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:139:  tenantId: string,
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:147:    .eq('tenant_id', tenantId);
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:169:  tenantId: string,
D:\Unite-Hub\src\lib\tenancy\tenantScopedQueryService.ts:178:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\lib\tenancy\tenantTypes.ts:45:  tenantId: string;
D:\Unite-Hub\src\lib\tenancy\tenantTypes.ts:78:  tenantId: string;
D:\Unite-Hub\src\app\api\API-GUIDE.md:23:  const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\API-GUIDE.md:24:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\API-GUIDE.md:25:    throw new ValidationError("workspaceId parameter is required");
D:\Unite-Hub\src\app\api\API-GUIDE.md:29:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\API-GUIDE.md:38:    .eq("workspace_id", workspaceId);
D:\Unite-Hub\src\app\api\API-GUIDE.md:49:- Missing workspace filter: `.select("*")` without `.eq("workspace_id", workspaceId)`
D:\Unite-Hub\src\app\api\API-GUIDE.md:99:1. **workspaceId from searchParams, not body** - For GET requests
D:\Unite-Hub\src\app\api\admin\audit-events\route.ts:34:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\admin\audit-events\route.ts:40:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\admin\audit-events\route.ts:42:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\admin\audit-events\route.ts:48:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\admin\audit-events\route.ts:56:        workspaceId,
D:\Unite-Hub\src\app\api\admin\audit-events\route.ts:65:        workspaceId,
D:\Unite-Hub\src\app\api\admin\audit-events\route.ts:74:      const summary = await getAuditSummary(workspaceId, hours);
D:\Unite-Hub\src\app\api\admin\audit-events\route.ts:81:        workspaceId,
D:\Unite-Hub\src\app\api\admin\audit-events\route.ts:89:    const summary = await getAuditSummary(workspaceId);
D:\Unite-Hub\src\app\api\admin\audit-events\route.ts:90:    const events = await listAuditEvents(workspaceId, undefined, 50);
D:\Unite-Hub\src\app\api\admin\backup\route.ts:34:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\admin\backup\route.ts:40:    if (workspaceId) {
D:\Unite-Hub\src\app\api\admin\backup\route.ts:41:      const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\admin\backup\route.ts:51:      backups = await listBackupJobs(workspaceId || undefined, scope || undefined, limit);
D:\Unite-Hub\src\app\api\admin\backup\route.ts:55:      restores = await listRestoreJobs(workspaceId || undefined, limit);
D:\Unite-Hub\src\app\api\admin\backup\route.ts:87:    const { scope, tenantId, notes, metadata } = body;
D:\Unite-Hub\src\app\api\admin\backup\route.ts:94:    if (tenantId) {
D:\Unite-Hub\src\app\api\admin\backup\route.ts:95:      const canCreate = await hasPermission(user.id, tenantId, "settings", "write");
D:\Unite-Hub\src\app\api\admin\backup\route.ts:104:      tenantId || undefined,
D:\Unite-Hub\src\app\api\admin\exports\route.ts:38:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\admin\exports\route.ts:44:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\admin\exports\route.ts:46:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\admin\exports\route.ts:52:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\admin\exports\route.ts:66:      const job = await getExportJob(jobId, workspaceId);
D:\Unite-Hub\src\app\api\admin\exports\route.ts:76:      const stats = await getExportStats(workspaceId, days);
D:\Unite-Hub\src\app\api\admin\exports\route.ts:81:    const jobs = await listExportJobs(workspaceId, status || undefined, limit);
D:\Unite-Hub\src\app\api\admin\exports\route.ts:111:    const { workspaceId, action, type, jobId, metadata } = body;
D:\Unite-Hub\src\app\api\admin\exports\route.ts:113:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\admin\exports\route.ts:115:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\admin\exports\route.ts:121:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\admin\exports\route.ts:136:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\admin\exports\route.ts:145:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\admin\exports\route.ts:172:      await cancelExportJob(jobId, workspaceId);
D:\Unite-Hub\src\app\api\admin\exports\route.ts:177:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\admin\features\route.ts:29:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\admin\features\route.ts:32:    if (workspaceId) {
D:\Unite-Hub\src\app\api\admin\features\route.ts:33:      const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\admin\features\route.ts:69:    const { workspaceId, flagData } = body;
D:\Unite-Hub\src\app\api\admin\features\route.ts:76:    if (workspaceId) {
D:\Unite-Hub\src\app\api\admin\features\route.ts:77:      const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\admin\health\route.ts:34:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\admin\health\route.ts:39:    if (workspaceId) {
D:\Unite-Hub\src\app\api\admin\health\route.ts:40:      const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\admin\health\route.ts:47:    if (action === "results" && workspaceId) {
D:\Unite-Hub\src\app\api\admin\health\route.ts:48:      const results = await getLatestResults(workspaceId);
D:\Unite-Hub\src\app\api\admin\health\route.ts:52:    if (action === "summary" && workspaceId) {
D:\Unite-Hub\src\app\api\admin\health\route.ts:53:      const summary = await getHealthSummary(workspaceId);
D:\Unite-Hub\src\app\api\admin\health\route.ts:63:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\admin\health\route.ts:65:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\admin\health\route.ts:70:    const summary = await getHealthSummary(workspaceId);
D:\Unite-Hub\src\app\api\admin\health\route.ts:71:    const results = await getLatestResults(workspaceId);
D:\Unite-Hub\src\app\api\admin\health\route.ts:102:    const { workspaceId } = body;
D:\Unite-Hub\src\app\api\admin\health\route.ts:104:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\admin\health\route.ts:106:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\admin\health\route.ts:112:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\admin\health\route.ts:118:    const results = await runTenantChecks(workspaceId);
D:\Unite-Hub\src\app\api\admin\health\route.ts:121:    const summary = await getHealthSummary(workspaceId);
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:40:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:45:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:47:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:53:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:67:      const enabled = await isKillSwitchEnabled(workspaceId, flagKey);
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:77:      const stats = await getKillSwitchStats(workspaceId);
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:82:      const overrides = await listKillSwitchOverrides(workspaceId);
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:87:    const switches = await listKillSwitches(workspaceId, category || undefined);
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:117:    const { workspaceId, action, flagKey, enabled, reason, expiresAt } = body;
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:119:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:121:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:134:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:141:      await enableKillSwitch(workspaceId, flagKey, reason);
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:146:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:165:      await disableKillSwitch(workspaceId, flagKey, reason);
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:170:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:197:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\admin\kill-switches\route.ts:208:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:36:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:42:    if (workspaceId) {
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:43:      const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:51:      const limits = await listRateLimits(workspaceId || undefined);
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:55:    if (action === "abuse-flags" && workspaceId) {
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:57:        workspaceId,
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:63:    if (action === "usage-stats" && workspaceId) {
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:65:        workspaceId,
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:73:    const limits = await listRateLimits(workspaceId || undefined);
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:74:    const flags = workspaceId ? await listAbuseFlags(workspaceId) : [];
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:75:    const stats = workspaceId
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:76:      ? await getUsageStats(workspaceId)
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:112:    const { workspaceId, action, limitConfig, flagId, resolutionNotes } = body;
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:114:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:116:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:122:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\admin\rate-limits\route.ts:137:        tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:36:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:42:    if (workspaceId) {
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:43:      const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:51:      const roles = await listRoles(workspaceId || undefined);
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:60:    if (action === "assignments" && workspaceId) {
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:61:      const assignments = await listRoleAssignments(workspaceId);
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:65:    if (action === "user-summary" && workspaceId && userId) {
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:66:      const summary = await getUserPermissionsSummary(workspaceId, userId);
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:71:    const roles = await listRoles(workspaceId || undefined);
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:73:    const assignments = workspaceId
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:74:      ? await listRoleAssignments(workspaceId)
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:111:    const { workspaceId, action, userId, roleKey, expiresAt } = body;
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:113:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:115:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:121:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:128:      const success = await seedDefaultRoles(workspaceId, user.id);
D:\Unite-Hub\src\app\api\admin\rbac\route.ts:145:        workspaceId,
D:\Unite-Hub\src\app\api\ads\accounts\route.ts:29:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\ads\accounts\route.ts:31:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ads\accounts\route.ts:32:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\ads\accounts\route.ts:40:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\ads\accounts\route.ts:73:    const { workspaceId, provider, accessToken, refreshToken, accountId, developerToken, loginCustomerId } = body;
D:\Unite-Hub\src\app\api\ads\accounts\route.ts:75:    if (!workspaceId || !provider || !accessToken || !accountId) {
D:\Unite-Hub\src\app\api\ads\accounts\route.ts:77:        { error: 'workspaceId, provider, accessToken, and accountId are required' },
D:\Unite-Hub\src\app\api\ads\accounts\route.ts:83:      workspaceId,
D:\Unite-Hub\src\app\api\ads\campaigns\route.ts:29:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\ads\campaigns\route.ts:35:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ads\campaigns\route.ts:36:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\ads\campaigns\route.ts:44:      .eq('workspace_id', workspaceId);
D:\Unite-Hub\src\app\api\ads\campaigns\route.ts:110:      const workspaceId = body.workspaceId;
D:\Unite-Hub\src\app\api\ads\campaigns\route.ts:111:      if (!workspaceId) {
D:\Unite-Hub\src\app\api\ads\campaigns\route.ts:112:        return NextResponse.json({ error: 'workspaceId required for stats' }, { status: 400 });
D:\Unite-Hub\src\app\api\ads\campaigns\route.ts:115:      const stats = await adsIngestionService.getPerformanceStats(workspaceId, {
D:\Unite-Hub\src\app\api\ads\opportunities\route.ts:29:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\ads\opportunities\route.ts:32:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ads\opportunities\route.ts:33:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\ads\opportunities\route.ts:37:      const stats = await adsOptimizationService.getOpportunityStats(workspaceId);
D:\Unite-Hub\src\app\api\ads\opportunities\route.ts:47:    const opportunities = await adsOptimizationService.getOpenOpportunities(workspaceId, {
D:\Unite-Hub\src\app\api\ads\opportunities\route.ts:84:    const { action, workspaceId, accountId, opportunityId, notes } = body;
D:\Unite-Hub\src\app\api\ads\opportunities\route.ts:87:      if (!workspaceId) {
D:\Unite-Hub\src\app\api\ads\opportunities\route.ts:88:        return NextResponse.json({ error: 'workspaceId required for analysis' }, { status: 400 });
D:\Unite-Hub\src\app\api\ads\opportunities\route.ts:91:      const result = await adsOptimizationService.analyzeCampaigns(workspaceId, accountId, {
D:\Unite-Hub\src\app\api\agency\switch\route.ts:34:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\agency\switch\route.ts:36:    if (!tenantId) {
D:\Unite-Hub\src\app\api\agency\switch\route.ts:38:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\agency\switch\route.ts:44:    const context = await resolveForRequest(userId, tenantId);
D:\Unite-Hub\src\app\api\agent\execute\route.ts:52:    const { workspaceId, planId, dryRun } = await req.json();
D:\Unite-Hub\src\app\api\agent\execute\route.ts:54:    if (!workspaceId || !planId) {
D:\Unite-Hub\src\app\api\agent\execute\route.ts:56:        { error: "workspaceId and planId are required" },
D:\Unite-Hub\src\app\api\agent\execute\route.ts:66:      .eq("id", workspaceId)
D:\Unite-Hub\src\app\api\agent\execute\route.ts:96:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\agent\execute\route.ts:136:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\agent\execute\route.ts:159:    const archive = createAgentArchiveBridge(workspaceId, userId);
D:\Unite-Hub\src\app\api\agent\execute\route.ts:164:      workspaceId,
D:\Unite-Hub\src\app\api\agent\plan\route.ts:49:    const { workspaceId, objective, constraints, maxSteps, allowApprovalCommands } =
D:\Unite-Hub\src\app\api\agent\plan\route.ts:52:    if (!workspaceId || !objective) {
D:\Unite-Hub\src\app\api\agent\plan\route.ts:54:        { error: "workspaceId and objective are required" },
D:\Unite-Hub\src\app\api\agent\plan\route.ts:64:      .eq("id", workspaceId)
D:\Unite-Hub\src\app\api\agent\plan\route.ts:93:      workspaceId,
D:\Unite-Hub\src\app\api\agent\plan\route.ts:100:    const safety = createAgentSafety(workspaceId);
D:\Unite-Hub\src\app\api\agent\plan\route.ts:118:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\agent\plan\route.ts:144:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\agent\plan\route.ts:166:    const archive = createAgentArchiveBridge(workspaceId, userId);
D:\Unite-Hub\src\app\api\agent\status\route.ts:46:    const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\agent\status\route.ts:50:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\agent\status\route.ts:52:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\agent\status\route.ts:62:      .eq("id", workspaceId)
D:\Unite-Hub\src\app\api\agent\status\route.ts:94:        .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\agent\status\route.ts:109:        .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\agent\status\route.ts:137:        .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\agent\status\route.ts:198:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\agent-mandates\route.ts:19:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\agent-mandates\route.ts:20:    if (!tenantId) {
D:\Unite-Hub\src\app\api\agent-mandates\route.ts:21:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\agent-mandates\route.ts:24:    const mandates = await getMandates(tenantId);
D:\Unite-Hub\src\app\api\agent-mandates\route.ts:51:    const { action, tenantId, agentName, mandate, autonomyLevel, riskCaps, mandateId, actionType, actionDetails, estimatedRisk } = await req.json();
D:\Unite-Hub\src\app\api\agent-mandates\route.ts:59:          tenant_id: tenantId,
D:\Unite-Hub\src\app\api\agent-mandates\route.ts:84:      // validateAction takes (tenantId, agentName, action)
D:\Unite-Hub\src\app\api\agent-mandates\route.ts:85:      const result = await validateAction(tenantId, agentName, actionType);
D:\Unite-Hub\src\app\api\agents\contact-intelligence\route.ts:26:    workspace_id: body.workspaceId,
D:\Unite-Hub\src\app\api\agents\contact-intelligence\route.ts:34:  const { action, contact_id: contactId, workspace_id: workspaceId } = validationResult.data;
D:\Unite-Hub\src\app\api\agents\contact-intelligence\route.ts:41:  // Validate workspaceId if provided
D:\Unite-Hub\src\app\api\agents\contact-intelligence\route.ts:42:  if (workspaceId) {
D:\Unite-Hub\src\app\api\agents\contact-intelligence\route.ts:43:    await validateWorkspaceAccess(workspaceId, user.orgId);
D:\Unite-Hub\src\app\api\agents\contact-intelligence\route.ts:49:      workspaceId
D:\Unite-Hub\src\app\api\agents\contact-intelligence\route.ts:54:  if (action === "analyze_workspace" && workspaceId) {
D:\Unite-Hub\src\app\api\agents\contact-intelligence\route.ts:55:    const result = await analyzeWorkspaceContacts(workspaceId);
D:\Unite-Hub\src\app\api\agents\contact-intelligence\route.ts:59:  if (action === "get_hot_leads" && workspaceId) {
D:\Unite-Hub\src\app\api\agents\contact-intelligence\route.ts:60:    const hotLeads = await getHotLeads(workspaceId);
D:\Unite-Hub\src\app\api\agents\content-personalization\route.ts:49:      workspace_id: body.workspaceId,
D:\Unite-Hub\src\app\api\agents\content-personalization\route.ts:57:  const { action, contactId, contentType, workspaceId } = body;
D:\Unite-Hub\src\app\api\agents\content-personalization\route.ts:59:  // Validate workspaceId if provided
D:\Unite-Hub\src\app\api\agents\content-personalization\route.ts:60:  if (workspaceId) {
D:\Unite-Hub\src\app\api\agents\content-personalization\route.ts:64:      .eq("id", workspaceId)
D:\Unite-Hub\src\app\api\agents\content-personalization\route.ts:81:  if (action === "generate_bulk" && workspaceId && contentType) {
D:\Unite-Hub\src\app\api\agents\content-personalization\route.ts:82:    const hotLeads = await getHotLeads(workspaceId);
D:\Unite-Hub\src\app\api\agents\content-personalization\route.ts:87:  if (action === "metrics" && workspaceId) {
D:\Unite-Hub\src\app\api\agents\content-personalization\route.ts:88:    const metrics = await getPersonalizationMetrics(workspaceId);
D:\Unite-Hub\src\app\api\agents\continuous-intelligence\route.ts:52:  const uniqueWorkspaceIds = [
D:\Unite-Hub\src\app\api\agents\continuous-intelligence\route.ts:56:  if (uniqueWorkspaceIds.length === 0) {
D:\Unite-Hub\src\app\api\agents\continuous-intelligence\route.ts:70:  for (const workspaceId of uniqueWorkspaceIds) {
D:\Unite-Hub\src\app\api\agents\continuous-intelligence\route.ts:72:      const result = await extractEmailIntelligence(workspaceId, batchSizePerWorkspace);
D:\Unite-Hub\src\app\api\agents\continuous-intelligence\route.ts:74:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\agents\continuous-intelligence\route.ts:82:      console.error(`Error processing workspace ${workspaceId}:`, error);
D:\Unite-Hub\src\app\api\agents\continuous-intelligence\route.ts:84:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\agents\continuous-intelligence\route.ts:92:    workspace_id: uniqueWorkspaceIds[0], // Use first workspace for logging
D:\Unite-Hub\src\app\api\agents\continuous-intelligence\route.ts:96:      workspaces_count: uniqueWorkspaceIds.length,
D:\Unite-Hub\src\app\api\agents\continuous-intelligence\route.ts:114:    workspaces_processed: uniqueWorkspaceIds.length,
D:\Unite-Hub\src\app\api\agents\intelligence-extraction\route.ts:40:  const { workspaceId, batchSize = 10 } = body;
D:\Unite-Hub\src\app\api\agents\intelligence-extraction\route.ts:42:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\agents\intelligence-extraction\route.ts:43:    throw new ValidationError("workspaceId is required", { workspaceId: "Required parameter" });
D:\Unite-Hub\src\app\api\agents\intelligence-extraction\route.ts:48:    await validateWorkspaceAccess(workspaceId, user.orgId);
D:\Unite-Hub\src\app\api\agents\intelligence-extraction\route.ts:54:  const result = await extractEmailIntelligence(workspaceId, batchSize);
D:\Unite-Hub\src\app\api\agents\intelligence-extraction\route.ts:81:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\agents\intelligence-extraction\route.ts:83:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\agents\intelligence-extraction\route.ts:84:    throw new ValidationError("workspaceId is required", { workspaceId: "Required query parameter" });
D:\Unite-Hub\src\app\api\agents\intelligence-extraction\route.ts:89:    await validateWorkspaceAccess(workspaceId, user.orgId);
D:\Unite-Hub\src\app\api\agents\intelligence-extraction\route.ts:102:    .eq("workspace_id", workspaceId);
D:\Unite-Hub\src\app\api\agents\intelligence-extraction\route.ts:115:    .eq("workspace_id", workspaceId);
D:\Unite-Hub\src\app\api\ai\budget\route.ts:3: * GET /api/ai/budget?workspaceId=xxx - Get budget limits
D:\Unite-Hub\src\app\api\ai\budget\route.ts:13:    const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\ai\budget\route.ts:15:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ai\budget\route.ts:16:      return NextResponse.json({ error: "workspaceId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\ai\budget\route.ts:39:      .eq("id", workspaceId)
D:\Unite-Hub\src\app\api\ai\budget\route.ts:48:    const limits = await getBudgetLimits(workspaceId);
D:\Unite-Hub\src\app\api\ai\budget\route.ts:63:    const { workspaceId, ...limits } = body;
D:\Unite-Hub\src\app\api\ai\budget\route.ts:65:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ai\budget\route.ts:66:      return NextResponse.json({ error: "workspaceId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\ai\budget\route.ts:89:      .eq("id", workspaceId)
D:\Unite-Hub\src\app\api\ai\budget\route.ts:102:    const updated = await updateBudgetLimits(workspaceId, limits);
D:\Unite-Hub\src\app\api\ai\chat\route.ts:20:    const { message, workspaceId, context } = body;
D:\Unite-Hub\src\app\api\ai\cost-dashboard\route.ts:3: * GET /api/ai/cost-dashboard?workspaceId=xxx
D:\Unite-Hub\src\app\api\ai\cost-dashboard\route.ts:15:    const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\ai\cost-dashboard\route.ts:17:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ai\cost-dashboard\route.ts:18:      return NextResponse.json({ error: "workspaceId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\ai\cost-dashboard\route.ts:41:      .eq("id", workspaceId)
D:\Unite-Hub\src\app\api\ai\cost-dashboard\route.ts:50:    const dashboard = await getAICostDashboard(workspaceId);
D:\Unite-Hub\src\app\api\ai\extended-thinking\batch\route.ts:24:    let workspaceId: string;
D:\Unite-Hub\src\app\api\ai\extended-thinking\batch\route.ts:47:    workspaceId = req.nextUrl.searchParams.get("workspaceId") || "";
D:\Unite-Hub\src\app\api\ai\extended-thinking\batch\route.ts:48:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ai\extended-thinking\batch\route.ts:50:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\ai\extended-thinking\batch\route.ts:128:          workspaceId,
D:\Unite-Hub\src\app\api\ai\extended-thinking\batch\route.ts:151:          workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\ai\extended-thinking\execute\route.ts:24:    let workspaceId: string;
D:\Unite-Hub\src\app\api\ai\extended-thinking\execute\route.ts:47:    workspaceId = req.nextUrl.searchParams.get("workspaceId") || "";
D:\Unite-Hub\src\app\api\ai\extended-thinking\execute\route.ts:48:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ai\extended-thinking\execute\route.ts:50:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\ai\extended-thinking\execute\route.ts:106:      workspaceId,
D:\Unite-Hub\src\app\api\ai\extended-thinking\execute\route.ts:129:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\ai\extended-thinking\stats\route.ts:18:    let workspaceId: string;
D:\Unite-Hub\src\app\api\ai\extended-thinking\stats\route.ts:41:    workspaceId = req.nextUrl.searchParams.get("workspaceId") || "";
D:\Unite-Hub\src\app\api\ai\extended-thinking\stats\route.ts:42:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ai\extended-thinking\stats\route.ts:44:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\ai\extended-thinking\stats\route.ts:60:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\ai\generate-image\route.ts:17:    const { prompt, style, size = "1024x1024", workspaceId } = body;
D:\Unite-Hub\src\app\api\ai\generate-image\route.ts:26:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ai-workload\policies\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\ai-workload\policies\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\ai-workload\policies\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\ai-workload\policies\route.ts:23:    const policies = await getPolicies(tenantId);
D:\Unite-Hub\src\app\api\ai-workload\policies\route.ts:45:    const { tenantId, monthlyBudgetUnits, priorityRules, regionId } = body;
D:\Unite-Hub\src\app\api\ai-workload\policies\route.ts:47:    if (!tenantId || !monthlyBudgetUnits) {
D:\Unite-Hub\src\app\api\ai-workload\policies\route.ts:51:    const policy = await createPolicy(tenantId, monthlyBudgetUnits, priorityRules || [], regionId);
D:\Unite-Hub\src\app\api\ai-workload\snapshots\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\ai-workload\snapshots\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\ai-workload\snapshots\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\ai-workload\snapshots\route.ts:23:    const snapshots = await getSnapshots(tenantId);
D:\Unite-Hub\src\app\api\aido\auth\ga4\callback\route.ts:24:    const state = searchParams.get('state'); // Contains workspaceId
D:\Unite-Hub\src\app\api\aido\auth\ga4\callback\route.ts:42:    const workspaceId = state || undefined;
D:\Unite-Hub\src\app\api\aido\auth\ga4\callback\route.ts:44:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\auth\ga4\callback\route.ts:59:      workspaceId,
D:\Unite-Hub\src\app\api\aido\auth\ga4\callback\route.ts:67:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\aido\auth\ga4\url\route.ts:11: *   - workspaceId: string (required)
D:\Unite-Hub\src\app\api\aido\auth\ga4\url\route.ts:26:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\auth\ga4\url\route.ts:28:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\auth\ga4\url\route.ts:30:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\aido\auth\ga4\url\route.ts:35:    const authUrl = getGA4AuthUrl(workspaceId);
D:\Unite-Hub\src\app\api\aido\auth\gbp\callback\route.ts:24:    const state = searchParams.get('state'); // Contains workspaceId
D:\Unite-Hub\src\app\api\aido\auth\gbp\callback\route.ts:42:    const workspaceId = state || undefined;
D:\Unite-Hub\src\app\api\aido\auth\gbp\callback\route.ts:44:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\auth\gbp\callback\route.ts:59:      workspaceId,
D:\Unite-Hub\src\app\api\aido\auth\gbp\callback\route.ts:67:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\aido\auth\gbp\url\route.ts:11: *   - workspaceId: string (required)
D:\Unite-Hub\src\app\api\aido\auth\gbp\url\route.ts:26:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\auth\gbp\url\route.ts:28:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\auth\gbp\url\route.ts:30:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\aido\auth\gbp\url\route.ts:35:    const authUrl = getGBPAuthUrl(workspaceId);
D:\Unite-Hub\src\app\api\aido\auth\gsc\callback\route.ts:24:    const state = searchParams.get('state'); // Contains workspaceId
D:\Unite-Hub\src\app\api\aido\auth\gsc\callback\route.ts:42:    const workspaceId = state || undefined;
D:\Unite-Hub\src\app\api\aido\auth\gsc\callback\route.ts:44:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\auth\gsc\callback\route.ts:59:      workspaceId,
D:\Unite-Hub\src\app\api\aido\auth\gsc\callback\route.ts:67:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\aido\auth\gsc\url\route.ts:11: *   - workspaceId: string (required)
D:\Unite-Hub\src\app\api\aido\auth\gsc\url\route.ts:26:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\auth\gsc\url\route.ts:28:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\auth\gsc\url\route.ts:30:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\aido\auth\gsc\url\route.ts:35:    const authUrl = getGSCAuthUrl(workspaceId);
D:\Unite-Hub\src\app\api\aido\clients\route.ts:50:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\clients\route.ts:51:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\clients\route.ts:52:      return validationError({ workspaceId: 'workspaceId parameter is required' });
D:\Unite-Hub\src\app\api\aido\clients\route.ts:83:      workspaceId,
D:\Unite-Hub\src\app\api\aido\clients\route.ts:140:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\clients\route.ts:141:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\clients\route.ts:142:      return validationError({ workspaceId: 'workspaceId parameter is required' });
D:\Unite-Hub\src\app\api\aido\clients\route.ts:146:    const profiles = await getClientProfiles(workspaceId);
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:51:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:52:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:53:    throw new ValidationError([{ field: 'workspaceId', message: 'workspaceId parameter is required' }]);
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:57:  const profile = await getClientProfile(id, workspaceId);
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:93:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:94:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:95:    throw new ValidationError([{ field: 'workspaceId', message: 'workspaceId parameter is required' }]);
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:143:  const profile = await updateClientProfile(id, workspaceId, updates);
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:179:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:180:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:181:    throw new ValidationError([{ field: 'workspaceId', message: 'workspaceId parameter is required' }]);
D:\Unite-Hub\src\app\api\aido\clients\[id]\route.ts:185:  await deleteClientProfile(id, workspaceId);
D:\Unite-Hub\src\app\api\aido\content\route.ts:20:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\content\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\content\route.ts:22:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\content\route.ts:29:    const assets = await getContentAssets(workspaceId, {
D:\Unite-Hub\src\app\api\aido\content\generate\route.ts:37:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\content\generate\route.ts:38:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\content\generate\route.ts:39:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\content\generate\route.ts:78:    const clientContext = await getClientProfile(clientId, workspaceId);
D:\Unite-Hub\src\app\api\aido\content\generate\route.ts:94:      workspaceId,
D:\Unite-Hub\src\app\api\aido\content\[id]\route.ts:23:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\content\[id]\route.ts:24:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\content\[id]\route.ts:25:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\content\[id]\route.ts:28:    const asset = await getContentAsset(params.id, workspaceId);
D:\Unite-Hub\src\app\api\aido\content\[id]\route.ts:67:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\content\[id]\route.ts:68:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\content\[id]\route.ts:69:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\content\[id]\route.ts:86:    const updated = await updateContentAsset(params.id, workspaceId, updates);
D:\Unite-Hub\src\app\api\aido\google-curve\analyze\route.ts:36:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\google-curve\analyze\route.ts:37:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\google-curve\analyze\route.ts:38:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\google-curve\analyze\route.ts:54:      workspaceId,
D:\Unite-Hub\src\app\api\aido\google-curve\analyze\route.ts:82:        workspaceId,
D:\Unite-Hub\src\app\api\aido\google-curve\analyze\route.ts:101:        workspaceId,
D:\Unite-Hub\src\app\api\aido\google-curve\analyze\route.ts:137:        workspaceId,
D:\Unite-Hub\src\app\api\aido\google-curve\monitor\route.ts:21:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\google-curve\monitor\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\google-curve\monitor\route.ts:23:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\google-curve\monitor\route.ts:48:        workspaceId,
D:\Unite-Hub\src\app\api\aido\google-curve\signals\route.ts:20:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\google-curve\signals\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\google-curve\signals\route.ts:22:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\google-curve\signals\route.ts:29:      workspaceId,
D:\Unite-Hub\src\app\api\aido\intent-clusters\route.ts:20:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\intent-clusters\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\intent-clusters\route.ts:22:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\intent-clusters\route.ts:29:    const allClusters = await getIntentClusters(workspaceId, {
D:\Unite-Hub\src\app\api\aido\intent-clusters\route.ts:70:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\intent-clusters\route.ts:71:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\intent-clusters\route.ts:72:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\intent-clusters\route.ts:82:    const updated = await updateIntentCluster(id, workspaceId, updates);
D:\Unite-Hub\src\app\api\aido\intent-clusters\generate\route.ts:35:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\intent-clusters\generate\route.ts:36:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\intent-clusters\generate\route.ts:37:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\intent-clusters\generate\route.ts:67:      workspaceId,
D:\Unite-Hub\src\app\api\aido\onboarding\generate\route.ts:63:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\onboarding\generate\route.ts:64:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\onboarding\generate\route.ts:65:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\onboarding\generate\route.ts:112:          .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\aido\onboarding\generate\route.ts:136:              .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\aido\onboarding\generate\route.ts:161:          .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\aido\onboarding\generate\route.ts:183:              .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\aido\onboarding\generate\route.ts:216:          .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\aido\onboarding\generate\route.ts:238:              .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\aido\onboarding\generate\route.ts:291:    //     workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\aido\reality-loop\events\route.ts:20:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\reality-loop\events\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\reality-loop\events\route.ts:22:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\reality-loop\events\route.ts:30:    const allEvents = await getRealityEvents(workspaceId, {
D:\Unite-Hub\src\app\api\aido\reality-loop\ingest\route.ts:20:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\reality-loop\ingest\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\reality-loop\ingest\route.ts:22:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\reality-loop\ingest\route.ts:65:      workspaceId,
D:\Unite-Hub\src\app\api\aido\reality-loop\process\route.ts:30:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\reality-loop\process\route.ts:31:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\reality-loop\process\route.ts:32:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\reality-loop\process\route.ts:42:      const events = await getRealityEvents(workspaceId, {
D:\Unite-Hub\src\app\api\aido\reality-loop\process\route.ts:52:      eventsToProcess = await getRealityEvents(workspaceId, {
D:\Unite-Hub\src\app\api\aido\reality-loop\process\route.ts:78:          await updateRealityEventStatus(event.id, workspaceId, 'completed');
D:\Unite-Hub\src\app\api\aido\topics\route.ts:31:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\topics\route.ts:32:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\topics\route.ts:33:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\topics\route.ts:57:      workspaceId,
D:\Unite-Hub\src\app\api\aido\topics\route.ts:97:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\aido\topics\route.ts:98:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\aido\topics\route.ts:99:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\aido\topics\route.ts:105:    const allTopics = await getTopics(workspaceId, clientId || undefined);
D:\Unite-Hub\src\app\api\alignment\snapshot\route.ts:24:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\alignment\snapshot\route.ts:25:    if (!tenantId) {
D:\Unite-Hub\src\app\api\alignment\snapshot\route.ts:26:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\alignment\snapshot\route.ts:29:    const snapshot = await getAlignmentSnapshot(tenantId);
D:\Unite-Hub\src\app\api\alignment\snapshot\route.ts:56:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\alignment\snapshot\route.ts:58:    if (!tenantId) {
D:\Unite-Hub\src\app\api\alignment\snapshot\route.ts:59:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\alignment\snapshot\route.ts:62:    const snapshot = await generateAlignmentSnapshot(tenantId);
D:\Unite-Hub\src\app\api\analytics\overview\route.ts:17:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\analytics\overview\route.ts:24:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\analytics\overview\route.ts:25:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\analytics\overview\route.ts:44:    if (!profile || profile.role !== 'founder' || profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\analytics\overview\route.ts:53:      searchConsoleService.getCachedData(workspaceId, brandSlug || undefined, 'google_search_console'),
D:\Unite-Hub\src\app\api\analytics\overview\route.ts:54:      searchConsoleService.getCachedData(workspaceId, brandSlug || undefined, 'bing_webmaster_tools'),
D:\Unite-Hub\src\app\api\analytics\overview\route.ts:55:      analyticsService.getAnalyticsOverview(workspaceId, brandSlug || 'all', dateStart, dateEnd),
D:\Unite-Hub\src\app\api\analytics\overview\route.ts:56:      dataForSEOWrapper.getCachedKeywordData(workspaceId, brandSlug || undefined),
D:\Unite-Hub\src\app\api\analytics\overview\route.ts:57:      analyticsService.getCacheStatus(workspaceId),
D:\Unite-Hub\src\app\api\analytics\overview\route.ts:222:      workspaceId,
D:\Unite-Hub\src\app\api\analytics\search-console\route.ts:15:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\analytics\search-console\route.ts:28:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\analytics\search-console\route.ts:29:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\analytics\search-console\route.ts:48:    if (!profile || profile.role !== 'founder' || profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\analytics\search-console\route.ts:62:          workspaceId,
D:\Unite-Hub\src\app\api\analytics\search-console\route.ts:70:          workspaceId,
D:\Unite-Hub\src\app\api\analytics\search-console\route.ts:80:        workspaceId,
D:\Unite-Hub\src\app\api\analytics\search-console\route.ts:89:        workspaceId,
D:\Unite-Hub\src\app\api\analytics\search-console\route.ts:159:      workspaceId,
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:17:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:19:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:20:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:39:    if (!profile || profile.role !== 'founder' || profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:69:      await searchConsoleService.invalidateCache(workspaceId, brandSlug);
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:72:      await analyticsService.invalidateCache(workspaceId, brandSlug);
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:75:      await dataForSEOWrapper.invalidateCache(workspaceId, brandSlug);
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:82:          workspaceId,
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:101:        logger.error('Google Search Console sync error', { error, workspaceId, brandSlug });
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:111:          workspaceId,
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:130:        logger.error('Bing Webmaster Tools sync error', { error, workspaceId, brandSlug });
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:140:          workspaceId,
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:157:        logger.error('Google Analytics 4 sync error', { error, workspaceId, brandSlug });
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:170:          .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:182:          workspaceId,
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:199:        logger.error('DataForSEO sync error', { error, workspaceId, brandSlug });
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:206:    const cacheStatus = await analyticsService.getCacheStatus(workspaceId);
D:\Unite-Hub\src\app\api\analytics\sync\route.ts:209:      workspaceId,
D:\Unite-Hub\src\app\api\arbitration\events\route.ts:24:    const tenantId = req.nextUrl.searchParams.get('tenantId') || undefined;
D:\Unite-Hub\src\app\api\arbitration\events\route.ts:27:    const events = await getArbitrationEvents(tenantId, status);
D:\Unite-Hub\src\app\api\archive\query\route.ts:61:      workspaceId: workspace_id,
D:\Unite-Hub\src\app\api\audits\route.ts:20:  const auth = await authenticateRequest(req, { requireWorkspace: true });
D:\Unite-Hub\src\app\api\audits\route.ts:29:    const audits = await listAudits(auth.workspaceId!, {
D:\Unite-Hub\src\app\api\audits\route.ts:50:  const auth = await authenticateRequest(req, { requireWorkspace: true });
D:\Unite-Hub\src\app\api\audits\route.ts:93:      workspaceId: auth.workspaceId!,
D:\Unite-Hub\src\app\api\auth\initialize-user\route.ts:30:    workspaceId?: string;
D:\Unite-Hub\src\app\api\auth\initialize-user\route.ts:219:  let workspaceId: string;
D:\Unite-Hub\src\app\api\auth\initialize-user\route.ts:236:    workspaceId = newWorkspace.id;
D:\Unite-Hub\src\app\api\auth\initialize-user\route.ts:239:    workspaceId = existingWorkspaces[0].id;
D:\Unite-Hub\src\app\api\auth\initialize-user\route.ts:242:  result.data!.workspaceId = workspaceId;
D:\Unite-Hub\src\app\api\auth\initialize-user\route.ts:250:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\auth\initialize-user\route.ts:260:          workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\auth\initialize-user\route.ts:304:    (supabase.from('workspaces') as any).select('id').eq('id', workspaceId).eq('org_id', orgId).single(),
D:\Unite-Hub\src\app\api\auto-action\logs\route.ts:42:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\auto-action\logs\route.ts:75:          workspaceId: session.workspaceId,
D:\Unite-Hub\src\app\api\auto-action\logs\route.ts:121:      workspaceId?: string;
D:\Unite-Hub\src\app\api\auto-action\logs\route.ts:130:    if (workspaceId) {
D:\Unite-Hub\src\app\api\auto-action\logs\route.ts:131:      filters.workspaceId = workspaceId;
D:\Unite-Hub\src\app\api\auto-action\session\route.ts:60:    const { flowId, workspaceId, data: flowData } = body as {
D:\Unite-Hub\src\app\api\auto-action\session\route.ts:62:      workspaceId: string;
D:\Unite-Hub\src\app\api\auto-action\session\route.ts:66:    if (!flowId || !workspaceId) {
D:\Unite-Hub\src\app\api\auto-action\session\route.ts:68:        { error: 'Missing required fields: flowId, workspaceId' },
D:\Unite-Hub\src\app\api\autonomy\evaluate\route.ts:12:  workspaceId: string;
D:\Unite-Hub\src\app\api\autonomy\evaluate\route.ts:47:    if (!body.workspaceId || !body.objective) {
D:\Unite-Hub\src\app\api\autonomy\evaluate\route.ts:49:        { error: 'workspaceId and objective are required' },
D:\Unite-Hub\src\app\api\autonomy\evaluate\route.ts:60:      .eq('id', body.workspaceId)
D:\Unite-Hub\src\app\api\autonomy\evaluate\route.ts:80:      workspaceId: body.workspaceId,
D:\Unite-Hub\src\app\api\autonomy\evaluate\route.ts:96:      workspace_id: body.workspaceId,
D:\Unite-Hub\src\app\api\autonomy\start\route.ts:12:  workspaceId: string;
D:\Unite-Hub\src\app\api\autonomy\start\route.ts:47:    if (!body.workspaceId || !body.objective) {
D:\Unite-Hub\src\app\api\autonomy\start\route.ts:49:        { error: 'workspaceId and objective are required' },
D:\Unite-Hub\src\app\api\autonomy\start\route.ts:60:      .eq('id', body.workspaceId)
D:\Unite-Hub\src\app\api\autonomy\start\route.ts:80:      workspaceId: body.workspaceId,
D:\Unite-Hub\src\app\api\autonomy\start\route.ts:88:      workspace_id: body.workspaceId,
D:\Unite-Hub\src\app\api\autonomy\status\route.ts:40:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\autonomy\status\route.ts:42:    if (!runId || !workspaceId) {
D:\Unite-Hub\src\app\api\autonomy\status\route.ts:44:        { error: 'runId and workspaceId are required' },
D:\Unite-Hub\src\app\api\autonomy\status\route.ts:55:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\autopilot\playbooks\route.ts:40:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\autopilot\playbooks\route.ts:41:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\autopilot\playbooks\route.ts:42:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\autopilot\playbooks\route.ts:65:    const playbooks = await listPlaybooks(workspaceId, limit);
D:\Unite-Hub\src\app\api\autopilot\playbooks\route.ts:100:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\autopilot\playbooks\route.ts:101:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\autopilot\playbooks\route.ts:102:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\autopilot\playbooks\route.ts:106:    const playbook = await generatePlaybook(workspaceId);
D:\Unite-Hub\src\app\api\autopilot\preferences\route.ts:33:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\autopilot\preferences\route.ts:34:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\autopilot\preferences\route.ts:35:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\autopilot\preferences\route.ts:73:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\autopilot\preferences\route.ts:74:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\autopilot\preferences\route.ts:75:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\autopilot\preferences\route.ts:80:    const preferences = await upsertPreferences(workspaceId, userId, body);
D:\Unite-Hub\src\app\api\autopilot\stats\route.ts:29:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\autopilot\stats\route.ts:30:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\autopilot\stats\route.ts:31:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\autopilot\stats\route.ts:35:    const stats = await getAutopilotStats(workspaceId, days);
D:\Unite-Hub\src\app\api\billing\subscription\route.ts:89:    const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\billing\subscription\route.ts:93:    if (workspaceId) {
D:\Unite-Hub\src\app\api\billing\subscription\route.ts:94:      usage = await getAllUsageSummaries(userId, workspaceId);
D:\Unite-Hub\src\app\api\browser-automation\patterns\route.ts:29:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\browser-automation\patterns\route.ts:32:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\browser-automation\patterns\route.ts:33:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\browser-automation\patterns\route.ts:37:      const stats = await patternLearnerService.getPatternStats(workspaceId);
D:\Unite-Hub\src\app\api\browser-automation\patterns\route.ts:49:      const matches = await patternLearnerService.findMatchingPatterns(workspaceId, url, intent);
D:\Unite-Hub\src\app\api\browser-automation\patterns\route.ts:62:      workspaceId,
D:\Unite-Hub\src\app\api\browser-automation\patterns\route.ts:99:    const { action, workspaceId, sessionId, patternId, name, options, updates } = body;
D:\Unite-Hub\src\app\api\browser-automation\patterns\route.ts:102:      if (!workspaceId || !sessionId || !name) {
D:\Unite-Hub\src\app\api\browser-automation\patterns\route.ts:104:          { error: 'workspaceId, sessionId, and name required' },
D:\Unite-Hub\src\app\api\browser-automation\patterns\route.ts:109:      const pattern = await patternLearnerService.learnFromActions(workspaceId, sessionId, name, options);
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:29:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:34:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:35:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:40:      const stats = await replayService.getRunStats(workspaceId, days);
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:45:      const tasks = await replayService.getScheduledTasks(workspaceId);
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:79:      workspaceId,
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:119:    const { action, workspaceId, taskId, runId, taskData, options } = body;
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:122:      if (!workspaceId || !taskData) {
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:123:        return NextResponse.json({ error: 'workspaceId and taskData required' }, { status: 400 });
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:126:      const task = await replayService.createTask(workspaceId, {
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:189:      if (!workspaceId || !taskData) {
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:190:        return NextResponse.json({ error: 'workspaceId and taskData required' }, { status: 400 });
D:\Unite-Hub\src\app\api\browser-automation\replay\route.ts:193:      const task = await replayService.importTask(workspaceId, taskData, userId);
D:\Unite-Hub\src\app\api\calendar\availability\route.ts:15:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\calendar\availability\route.ts:20:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\calendar\availability\route.ts:28:    const user = await validateUserAndWorkspace(request, workspaceId);
D:\Unite-Hub\src\app\api\calendar\availability\route.ts:30:    const calendarService = await getCalendarService(workspaceId);
D:\Unite-Hub\src\app\api\calendar\create-meeting\route.ts:19:      workspaceId,
D:\Unite-Hub\src\app\api\calendar\create-meeting\route.ts:28:    if (!workspaceId || !summary || !start || !end) {
D:\Unite-Hub\src\app\api\calendar\create-meeting\route.ts:35:    const calendarService = await getCalendarService(workspaceId);
D:\Unite-Hub\src\app\api\calendar\detect-meeting\route.ts:18:    const { emailBody, subject, emailId, workspaceId, autoRespond } = body;
D:\Unite-Hub\src\app\api\calendar\detect-meeting\route.ts:31:    if (autoRespond && meetingIntent.isMeetingRequest && emailId && workspaceId) {
D:\Unite-Hub\src\app\api\calendar\detect-meeting\route.ts:34:          workspaceId,
D:\Unite-Hub\src\app\api\calendar\events\route.ts:19:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\calendar\events\route.ts:23:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\calendar\events\route.ts:30:    const calendarService = await getCalendarService(workspaceId);
D:\Unite-Hub\src\app\api\calendar\events\route.ts:83:    const { workspaceId, event } = body;
D:\Unite-Hub\src\app\api\calendar\events\route.ts:85:    if (!workspaceId || !event) {
D:\Unite-Hub\src\app\api\calendar\events\route.ts:92:    await validateUserAndWorkspace(request, workspaceId);
D:\Unite-Hub\src\app\api\calendar\events\route.ts:94:    const calendarService = await getCalendarService(workspaceId);
D:\Unite-Hub\src\app\api\calendar\suggest-times\route.ts:19:      workspaceId,
D:\Unite-Hub\src\app\api\calendar\suggest-times\route.ts:28:    if (!workspaceId || !contactEmail || !purpose) {
D:\Unite-Hub\src\app\api\calendar\suggest-times\route.ts:35:    const suggestion = await suggestMeetingTimes(workspaceId, {
D:\Unite-Hub\src\app\api\calibration\parameters\route.ts:62:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\calibration\parameters\route.ts:63:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\calibration\parameters\route.ts:64:      return NextResponse.json({ error: 'Missing workspaceId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\calibration\parameters\route.ts:73:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\calibration\parameters\route.ts:116:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\calibration\parameters\route.ts:125:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\calibration\parameters\route.ts:161:        workspace: workspaceId,
D:\Unite-Hub\src\app\api\calibration\run\route.ts:62:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\calibration\run\route.ts:63:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\calibration\run\route.ts:64:      return NextResponse.json({ error: 'Missing workspaceId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\calibration\run\route.ts:71:      workspaceId,
D:\Unite-Hub\src\app\api\calibration\run\route.ts:79:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\calibration\run\route.ts:110:      workspaceId,
D:\Unite-Hub\src\app\api\calibration\run\route.ts:130:      workspaceId,
D:\Unite-Hub\src\app\api\calibration\run\route.ts:153:      workspaceId,
D:\Unite-Hub\src\app\api\calibration\status\route.ts:62:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\calibration\status\route.ts:63:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\calibration\status\route.ts:64:      return NextResponse.json({ error: 'Missing workspaceId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\calibration\status\route.ts:73:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\calibration\status\route.ts:80:      workspaceId,
D:\Unite-Hub\src\app\api\calibration\status\route.ts:88:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\calibration\status\route.ts:94:      workspaceId,
D:\Unite-Hub\src\app\api\calibration\status\route.ts:102:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\campaigns\route.ts:20: * - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\campaigns\route.ts:31:  const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\campaigns\route.ts:33:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\campaigns\route.ts:34:    throw new ValidationError("workspaceId parameter is required");
D:\Unite-Hub\src\app\api\campaigns\route.ts:38:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\campaigns\route.ts:70:    .eq("workspace_id", workspaceId);
D:\Unite-Hub\src\app\api\campaigns\route.ts:104: * Required fields: workspaceId, name, subject
D:\Unite-Hub\src\app\api\campaigns\route.ts:111:    workspaceId,
D:\Unite-Hub\src\app\api\campaigns\route.ts:121:  if (!workspaceId || workspaceId.trim() === "") {
D:\Unite-Hub\src\app\api\campaigns\route.ts:122:    requiredErrors.workspaceId = "workspaceId is required";
D:\Unite-Hub\src\app\api\campaigns\route.ts:144:  const user = await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\campaigns\route.ts:153:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:18:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:23:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:24:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:41:    if (!profile || profile.role !== 'founder' || profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:47:      p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:57:    logger.info('Blueprints retrieved', { workspaceId, count: blueprints?.length || 0 });
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:68:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:70:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:71:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:88:    if (!profile || profile.role !== 'founder' || profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:124:      workspaceId,
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:143:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\campaigns\blueprints\route.ts:178:      workspaceId,
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:17:async function verifyFounderAccess(supabase: any, userId: string, workspaceId: string) {
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:24:  if (!profile || profile.role !== 'founder' || profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:31:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:34:  if (!workspaceId || !id) {
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:35:    throw new ValidationError('Missing required parameters', { workspaceId: 'Required', id: 'Required' });
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:46:  await verifyFounderAccess(supabase, user.id, workspaceId);
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:53:    .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:71:  logger.info('Blueprint retrieved', { blueprintId: id, workspaceId });
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:81:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:84:  if (!workspaceId || !id) {
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:85:    throw new ValidationError('Missing required parameters', { workspaceId: 'Required', id: 'Required' });
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:96:  await verifyFounderAccess(supabase, user.id, workspaceId);
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:157:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:221:    .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:238:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:241:  if (!workspaceId || !id) {
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:242:    throw new ValidationError('Missing required parameters', { workspaceId: 'Required', id: 'Required' });
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:253:  await verifyFounderAccess(supabase, user.id, workspaceId);
D:\Unite-Hub\src\app\api\campaigns\blueprints\[id]\route.ts:263:    .eq('workspace_id', workspaceId);
D:\Unite-Hub\src\app\api\campaigns\channels\route.ts:15:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\campaigns\channels\route.ts:18:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\campaigns\channels\route.ts:19:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\campaigns\channels\route.ts:36:    if (!profile || profile.role !== 'founder' || profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\campaigns\channels\route.ts:42:      p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\campaigns\channels\route.ts:69:        p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\campaigns\channels\route.ts:78:      workspaceId,
D:\Unite-Hub\src\app\api\campaigns\drip\route.ts:24:    // Validate workspaceId if provided in request
D:\Unite-Hub\src\app\api\campaigns\drip\route.ts:25:    if (data.workspaceId) {
D:\Unite-Hub\src\app\api\campaigns\drip\route.ts:26:      await validateUserAndWorkspace(req, data.workspaceId);
D:\Unite-Hub\src\app\api\campaigns\drip\route.ts:31:        if (!data.workspaceId) {
D:\Unite-Hub\src\app\api\campaigns\drip\route.ts:34:        const campaign = await createDripCampaign(data.workspaceId, data);
D:\Unite-Hub\src\app\api\campaigns\drip\route.ts:44:        if (!data.workspaceId) {
D:\Unite-Hub\src\app\api\campaigns\drip\route.ts:48:          data.workspaceId
D:\Unite-Hub\src\app\api\campaigns\from-template\route.ts:150:    const workspaceId = workspaces.id;
D:\Unite-Hub\src\app\api\campaigns\from-template\route.ts:156:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\client-agent\actions\route.ts:37:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\client-agent\actions\route.ts:42:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\client-agent\actions\route.ts:44:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\client-agent\actions\route.ts:53:      actions = await getClientActionHistory(clientId, workspaceId, limit);
D:\Unite-Hub\src\app\api\client-agent\actions\route.ts:56:      actions = await getPendingActions(workspaceId, limit);
D:\Unite-Hub\src\app\api\client-agent\actions\route.ts:63:        .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\client-agent\policies\route.ts:35:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\client-agent\policies\route.ts:38:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\client-agent\policies\route.ts:40:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\client-agent\policies\route.ts:47:      const policy = await getPolicy(workspaceId, clientId);
D:\Unite-Hub\src\app\api\client-agent\policies\route.ts:51:      const policies = await listPolicies(workspaceId);
D:\Unite-Hub\src\app\api\client-agent\policies\route.ts:128:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\client-agent\policies\route.ts:130:    if (!policyId || !workspaceId) {
D:\Unite-Hub\src\app\api\client-agent\policies\route.ts:132:        { error: 'policyId and workspaceId are required' },
D:\Unite-Hub\src\app\api\client-agent\policies\route.ts:137:    await deletePolicy(policyId, workspaceId);
D:\Unite-Hub\src\app\api\client-agent\scheduler\route.ts:36:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\client-agent\scheduler\route.ts:39:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\client-agent\scheduler\route.ts:41:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\client-agent\scheduler\route.ts:48:        const overview = await getAgentOverview(workspaceId);
D:\Unite-Hub\src\app\api\client-agent\scheduler\route.ts:54:        const summary = await getActionSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\client-agent\scheduler\route.ts:60:        const overdue = await getOverdueActions(workspaceId, hours);
D:\Unite-Hub\src\app\api\client-agent\scheduler\route.ts:66:        const sessions = await getRecentSessions(workspaceId, limit);
D:\Unite-Hub\src\app\api\client-agent\scheduler\route.ts:72:        const overview = await getAgentOverview(workspaceId);
D:\Unite-Hub\src\app\api\coaching\operator\prompts\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\coaching\operator\prompts\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\coaching\operator\prompts\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\coaching\operator\prompts\route.ts:23:    const prompts = await getPrompts(tenantId, userData.user.id);
D:\Unite-Hub\src\app\api\coalition\form\route.ts:46:      workspaceId,
D:\Unite-Hub\src\app\api\coalition\form\route.ts:53:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\coalition\form\route.ts:54:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\coalition\form\route.ts:85:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\coalition\history\route.ts:45:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\coalition\history\route.ts:48:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\coalition\history\route.ts:49:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\coalition\history\route.ts:58:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\coalition\history\route.ts:74:      .eq('workspace_id', workspaceId);
D:\Unite-Hub\src\app\api\coalition\status\route.ts:44:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\coalition\status\route.ts:45:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\coalition\status\route.ts:46:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\coalition\status\route.ts:55:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\coalition\status\route.ts:97:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\combat\results\route.ts:28:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\combat\results\route.ts:43:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\combat\results\route.ts:44:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\combat\results\route.ts:49:      const status = await getSchedulerStatus(workspaceId);
D:\Unite-Hub\src\app\api\combat\results\route.ts:55:      const stats = await getIntegrationStats(workspaceId);
D:\Unite-Hub\src\app\api\combat\results\route.ts:60:    const results = await listResults(workspaceId, {
D:\Unite-Hub\src\app\api\combat\results\route.ts:85:    const { action, workspaceId } = body;
D:\Unite-Hub\src\app\api\combat\results\route.ts:88:      const result = await runCombatCycle(workspaceId);
D:\Unite-Hub\src\app\api\combat\rounds\route.ts:28:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\combat\rounds\route.ts:45:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\combat\rounds\route.ts:46:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\combat\rounds\route.ts:51:      const stats = await getCombatStats(workspaceId);
D:\Unite-Hub\src\app\api\combat\rounds\route.ts:56:    const rounds = await listRounds(workspaceId, {
D:\Unite-Hub\src\app\api\combat\rounds\route.ts:83:    const { action, roundId, clientId, workspaceId, channel, strategy, minConfidence, minSampleSize } = body;
D:\Unite-Hub\src\app\api\combat\rounds\route.ts:95:    if (!clientId || !workspaceId || !channel) {
D:\Unite-Hub\src\app\api\combat\rounds\route.ts:97:        { error: 'clientId, workspaceId, and channel required' },
D:\Unite-Hub\src\app\api\combat\rounds\route.ts:104:      workspaceId,
D:\Unite-Hub\src\app\api\connected-apps\route.ts:32:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\connected-apps\route.ts:33:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\connected-apps\route.ts:35:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\connected-apps\route.ts:41:    const apps = await service.getConnectedApps(workspaceId);
D:\Unite-Hub\src\app\api\connected-apps\route.ts:77:    const { provider, workspaceId, returnUrl } = body as {
D:\Unite-Hub\src\app\api\connected-apps\route.ts:79:      workspaceId: string;
D:\Unite-Hub\src\app\api\connected-apps\route.ts:83:    if (!provider || !workspaceId) {
D:\Unite-Hub\src\app\api\connected-apps\route.ts:85:        { error: 'provider and workspaceId are required' },
D:\Unite-Hub\src\app\api\connected-apps\route.ts:102:      workspaceId,
D:\Unite-Hub\src\app\api\connected-apps\[id]\route.ts:32:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\connected-apps\[id]\route.ts:33:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\connected-apps\[id]\route.ts:35:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\connected-apps\[id]\route.ts:41:    const app = await service.getConnectedApp(workspaceId, id);
D:\Unite-Hub\src\app\api\connected-apps\[id]\route.ts:83:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\connected-apps\[id]\route.ts:84:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\connected-apps\[id]\route.ts:86:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\connected-apps\[id]\route.ts:92:    await service.disconnectApp(workspaceId, id);
D:\Unite-Hub\src\app\api\contacts\route.ts:20: * - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\contacts\route.ts:33:  const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\contacts\route.ts:35:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\contacts\route.ts:36:    throw new ValidationError("workspaceId parameter is required");
D:\Unite-Hub\src\app\api\contacts\route.ts:40:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\contacts\route.ts:75:    .eq("workspace_id", workspaceId);
D:\Unite-Hub\src\app\api\contacts\route.ts:109: * Required fields: workspaceId, name, email
D:\Unite-Hub\src\app\api\contacts\route.ts:116:    workspaceId,
D:\Unite-Hub\src\app\api\contacts\route.ts:128:  if (!workspaceId || workspaceId.trim() === "") {
D:\Unite-Hub\src\app\api\contacts\route.ts:129:    requiredErrors.workspaceId = "workspaceId is required";
D:\Unite-Hub\src\app\api\contacts\route.ts:149:  const user = await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\contacts\route.ts:158:    .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\contacts\route.ts:170:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\contacts\analyze\route.ts:15:    const { contactId, workspaceId } = await request.json();
D:\Unite-Hub\src\app\api\contacts\analyze\route.ts:17:    if (!contactId || !workspaceId) {
D:\Unite-Hub\src\app\api\contacts\analyze\route.ts:25:    await validateUserAndWorkspace(request, workspaceId);
D:\Unite-Hub\src\app\api\contacts\analyze\route.ts:35:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\contacts\analyze\route.ts:46:    const analysis = await analyzeContactIntelligence(contactId, workspaceId);
D:\Unite-Hub\src\app\api\contacts\analyze\route.ts:72:    const { workspaceId } = await request.json();
D:\Unite-Hub\src\app\api\contacts\analyze\route.ts:74:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\contacts\analyze\route.ts:82:    await validateUserAndWorkspace(request, workspaceId);
D:\Unite-Hub\src\app\api\contacts\analyze\route.ts:86:    const results = await analyzeWorkspaceContacts(workspaceId);
D:\Unite-Hub\src\app\api\contacts\hot-leads\route.ts:15:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\contacts\hot-leads\route.ts:18:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\contacts\hot-leads\route.ts:26:    await validateUserAndWorkspace(request, workspaceId);
D:\Unite-Hub\src\app\api\contacts\hot-leads\route.ts:29:    const hotLeads = await getHotLeads(workspaceId, limit);
D:\Unite-Hub\src\app\api\content\route.ts:43:    const workspaceId = req.nextUrl.searchParams.get("workspace");
D:\Unite-Hub\src\app\api\content\route.ts:49:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\content\route.ts:53:    if (!validateUUID(workspaceId)) {
D:\Unite-Hub\src\app\api\content\route.ts:78:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\content\route.ts:114:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\content\route.ts:163: * - workspaceId: UUID (required)
D:\Unite-Hub\src\app\api\content\route.ts:180:      workspaceId,
D:\Unite-Hub\src\app\api\content\route.ts:191:      "workspaceId",
D:\Unite-Hub\src\app\api\content\route.ts:204:    if (!validateUUID(workspaceId)) {
D:\Unite-Hub\src\app\api\content\route.ts:205:      return validationError({ workspaceId: "Invalid workspace ID format" });
D:\Unite-Hub\src\app\api\content\route.ts:232:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\content\route.ts:240:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\content\route.ts:251:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\content\route.ts:292: * - workspaceId: UUID (required) - For verification
D:\Unite-Hub\src\app\api\content\route.ts:321:    const { contentId, workspaceId, title, generatedText, status } = body;
D:\Unite-Hub\src\app\api\content\route.ts:324:    if (!contentId || !workspaceId) {
D:\Unite-Hub\src\app\api\content\route.ts:326:        { error: "Missing required fields: contentId, workspaceId" },
D:\Unite-Hub\src\app\api\content\route.ts:363:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\content\route.ts:395: * - workspaceId: UUID (required) - For verification
D:\Unite-Hub\src\app\api\content\route.ts:421:    const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\content\route.ts:424:    if (!contentId || !workspaceId) {
D:\Unite-Hub\src\app\api\content\route.ts:426:        { error: "Missing required parameters: contentId, workspaceId" },
D:\Unite-Hub\src\app\api\content\route.ts:437:      .eq("workspace_id", workspaceId);
D:\Unite-Hub\src\app\api\content\pending\route.ts:14:    let workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\content\pending\route.ts:26:      if (!workspaceId) {
D:\Unite-Hub\src\app\api\content\pending\route.ts:42:          workspaceId = workspace?.id;
D:\Unite-Hub\src\app\api\content\pending\route.ts:48:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\content\pending\route.ts:55:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\copywriting\competitors\route.ts:28:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\copywriting\competitors\route.ts:34:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\copywriting\competitors\route.ts:35:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\copywriting\competitors\route.ts:41:      const result = await runGapAnalysis(workspaceId, clientId, ourSiteUrl);
D:\Unite-Hub\src\app\api\copywriting\competitors\route.ts:47:      const patterns = await getSectionPatterns(workspaceId, pageType);
D:\Unite-Hub\src\app\api\copywriting\competitors\route.ts:53:      const analysis = await getCompetitorAnalysis(analysisId, workspaceId);
D:\Unite-Hub\src\app\api\copywriting\competitors\route.ts:61:    const analyses = await getCompetitorAnalyses(workspaceId, clientId);
D:\Unite-Hub\src\app\api\copywriting\competitors\route.ts:85:      workspaceId,
D:\Unite-Hub\src\app\api\copywriting\competitors\route.ts:93:    if (!workspaceId || !competitorName || !competitorUrl) {
D:\Unite-Hub\src\app\api\copywriting\competitors\route.ts:95:        { error: "workspaceId, competitorName, and competitorUrl are required" },
D:\Unite-Hub\src\app\api\copywriting\competitors\route.ts:101:      workspaceId,
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:26:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:31:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:32:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:50:      const master = await service.getMaster(masterId, workspaceId);
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:61:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:95:      workspaceId,
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:101:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:102:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:109:      const updated = await service.updateMaster(masterId, workspaceId, masterData);
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:115:      workspaceId,
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:155:    const { workspaceId, masterId, action } = body;
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:157:    if (!workspaceId || !masterId) {
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:159:        { error: "workspaceId and masterId required" },
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:168:        const auditResult = await service.runAudit(masterId, workspaceId);
D:\Unite-Hub\src\app\api\copywriting\consistency\route.ts:179:        const master = await service.getMaster(masterId, workspaceId);
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:30:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:35:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:36:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:41:      const copy = await getGeneratedCopy(copyId, workspaceId);
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:49:    const copyList = await getGeneratedCopyList(workspaceId, clientId, status);
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:73:      workspaceId,
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:87:    if (!workspaceId || !pageType || !businessName || !industry || !targetAudience || !primaryOffer) {
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:89:        { error: "workspaceId, pageType, businessName, industry, targetAudience, and primaryOffer are required" },
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:95:      workspaceId,
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:143:      workspaceId,
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:151:    if (!workspaceId || !copyId || !action) {
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:153:        { error: "workspaceId, copyId, and action are required" },
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:165:          workspaceId,
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:177:        const newVersionId = await createCopyVersion(copyId, workspaceId, newSections);
D:\Unite-Hub\src\app\api\copywriting\generate\route.ts:182:        const deleted = await deleteGeneratedCopy(copyId, workspaceId);
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:29:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:36:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:37:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:42:      const summaryData = await getVOCSummary(workspaceId, clientId);
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:48:      const quotes = await searchQuotes(workspaceId, search, 50);
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:54:      const quotes = await getGoldQuotes(workspaceId, clientId);
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:60:      const quotes = await getQuotesByCategory(workspaceId, category, 50);
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:65:    const summaryData = await getVOCSummary(workspaceId, clientId);
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:89:      workspaceId,
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:98:    if (!workspaceId || !industry || !productService || !targetAudience) {
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:100:        { error: "workspaceId, industry, productService, and targetAudience are required" },
D:\Unite-Hub\src\app\api\copywriting\voc-research\route.ts:106:      workspaceId,
D:\Unite-Hub\src\app\api\correction\start\route.ts:37:    let workspaceId: string;
D:\Unite-Hub\src\app\api\correction\start\route.ts:60:    workspaceId = req.nextUrl.searchParams.get('workspaceId') || userId;
D:\Unite-Hub\src\app\api\correction\start\route.ts:96:        workspaceId,
D:\Unite-Hub\src\app\api\correction\start\route.ts:102:      workspaceId,
D:\Unite-Hub\src\app\api\correction\start\route.ts:111:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\correction\status\route.ts:14: * - workspaceId (required): Workspace identifier
D:\Unite-Hub\src\app\api\correction\status\route.ts:63:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\correction\status\route.ts:65:    if (!cycleId || !workspaceId) {
D:\Unite-Hub\src\app\api\correction\status\route.ts:69:          required: ['cycleId', 'workspaceId'],
D:\Unite-Hub\src\app\api\correction\status\route.ts:104:      workspaceId,
D:\Unite-Hub\src\app\api\correction\status\route.ts:111:        workspaceId,
D:\Unite-Hub\src\app\api\correction\status\route.ts:125:          startExecution: `POST /api/correction/execute?cycleId=${cycleId}&workspaceId=${workspaceId}`,
D:\Unite-Hub\src\app\api\correction\status\route.ts:126:          validateResults: `POST /api/correction/validate?cycleId=${cycleId}&workspaceId=${workspaceId}`,
D:\Unite-Hub\src\app\api\council\route.ts:19:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\council\route.ts:20:    if (!tenantId) {
D:\Unite-Hub\src\app\api\council\route.ts:21:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\council\route.ts:24:    const sessions = await getSessions(tenantId);
D:\Unite-Hub\src\app\api\council\route.ts:51:    const { action, tenantId, topic, context, participatingAgents, sessionId, agentName, vote, confidence, reasoning } = await req.json();
D:\Unite-Hub\src\app\api\council\route.ts:54:      const session = await createSession(tenantId, topic, context, participatingAgents);
D:\Unite-Hub\src\app\api\creative\adaptive\state\route.ts:24:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\creative\adaptive\state\route.ts:27:    if (!tenantId) {
D:\Unite-Hub\src\app\api\creative\adaptive\state\route.ts:28:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\creative\adaptive\state\route.ts:31:    const state = await getAdaptiveState(tenantId, regionId);
D:\Unite-Hub\src\app\api\creative\adaptive\suggest\route.ts:25:    const { tenantId, regionId } = body;
D:\Unite-Hub\src\app\api\creative\adaptive\suggest\route.ts:27:    if (!tenantId) {
D:\Unite-Hub\src\app\api\creative\adaptive\suggest\route.ts:28:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\creative\adaptive\suggest\route.ts:31:    const suggestion = await generateSuggestion(tenantId, regionId);
D:\Unite-Hub\src\app\api\creative\risk\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\creative\risk\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\creative\risk\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\creative\risk\route.ts:23:    const assessments = await getAssessments(tenantId);
D:\Unite-Hub\src\app\api\creative\risk\route.ts:45:    const { campaignRef, tenantId, regionId } = body;
D:\Unite-Hub\src\app\api\creative\risk\route.ts:47:    if (!campaignRef || !tenantId) {
D:\Unite-Hub\src\app\api\creative\risk\route.ts:51:    const assessment = await assessRisk(campaignRef, tenantId, regionId);
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:144:async function fetchAudienceData(tenantId: string): Promise<any[]> {
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:148:    .eq("workspace_id", tenantId)
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:160:async function fetchCampaignsData(tenantId: string): Promise<any[]> {
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:164:    .eq("workspace_id", tenantId)
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:176:async function fetchContentData(tenantId: string): Promise<any[]> {
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:180:    .eq("workspace_id", tenantId)
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:192:async function fetchAnalyticsData(tenantId: string): Promise<any[]> {
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:201:async function fetchFullTenantExport(tenantId: string): Promise<any> {
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:203:    fetchAudienceData(tenantId),
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:204:    fetchCampaignsData(tenantId),
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:205:    fetchContentData(tenantId),
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:209:    tenant_id: tenantId,
D:\Unite-Hub\src\app\api\cron\process-exports\route.ts:220:async function fetchCustomExport(tenantId: string, metadata: Record<string, any>): Promise<any[]> {
D:\Unite-Hub\src\app\api\cross-tenant\benchmarks\route.ts:19:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\cross-tenant\benchmarks\route.ts:22:    if (tenantId) {
D:\Unite-Hub\src\app\api\cross-tenant\benchmarks\route.ts:23:      const report = await getTenantBenchmarks(tenantId);
D:\Unite-Hub\src\app\api\cross-tenant\boundary\route.ts:20:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\cross-tenant\boundary\route.ts:21:    if (!tenantId) {
D:\Unite-Hub\src\app\api\cross-tenant\boundary\route.ts:22:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\cross-tenant\boundary\route.ts:25:    const crossings = await getCrossingLogs(tenantId);
D:\Unite-Hub\src\app\api\cross-tenant\boundary\route.ts:52:    const { tenantId, dataType, targetScope } = await req.json();
D:\Unite-Hub\src\app\api\cross-tenant\boundary\route.ts:54:    const result = await validateCrossing(tenantId, dataType, targetScope);
D:\Unite-Hub\src\app\api\cross-tenant\cohorts\route.ts:19:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\cross-tenant\cohorts\route.ts:31:    if (tenantId) {
D:\Unite-Hub\src\app\api\cross-tenant\cohorts\route.ts:32:      const cohort = await getTenantCohort(tenantId);
D:\Unite-Hub\src\app\api\cross-tenant\learning\route.ts:19:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\cross-tenant\learning\route.ts:21:    if (tenantId) {
D:\Unite-Hub\src\app\api\cross-tenant\learning\route.ts:22:      const packets = await getTenantInsightPackets(tenantId);
D:\Unite-Hub\src\app\api\cross-tenant\patterns\route.ts:47:    const { tenantId, patternName, patternData, category } = await req.json();
D:\Unite-Hub\src\app\api\cross-tenant\patterns\route.ts:49:    const result = await submitPattern(tenantId, patternName, patternData, category);
D:\Unite-Hub\src\app\api\debug\workspace-context\route.ts:6: * - Returns observable JSON containing { userId, orgId, workspaceId }
D:\Unite-Hub\src\app\api\debug\workspace-context\route.ts:13: * - GET /api/debug/workspace-context?workspaceId=<uuid>
D:\Unite-Hub\src\app\api\debug\workspace-context\route.ts:19:  getWorkspaceIdFromRequest,
D:\Unite-Hub\src\app\api\debug\workspace-context\route.ts:26:    const workspaceId = await getWorkspaceIdFromRequest(req);
D:\Unite-Hub\src\app\api\debug\workspace-context\route.ts:29:    const ctx = await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\debug\workspace-context\route.ts:38:          workspaceId: ctx.workspaceId,
D:\Unite-Hub\src\app\api\debug\workspace-context\route.ts:51:    if (message.toLowerCase().includes("workspaceid is required")) {
D:\Unite-Hub\src\app\api\decisions\pipeline\route.ts:24:    const tenantId = req.nextUrl.searchParams.get('tenantId') || undefined;
D:\Unite-Hub\src\app\api\decisions\pipeline\route.ts:25:    const snapshots = await getPipelineSnapshots(tenantId);
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:72:    let workspaceId: string;
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:75:      workspaceId = existingWorkspace.id;
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:76:      console.log("Demo workspace already exists:", workspaceId);
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:92:      workspaceId = newWorkspace.id;
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:93:      console.log("Demo workspace created:", workspaceId);
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:101:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:117:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:133:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:170:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:264:          workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:279:          workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:314:          workspaceId,
D:\Unite-Hub\src\app\api\demo\initialize\route.ts:403:        workspaceId: workspace.id,
D:\Unite-Hub\src\app\api\desktop\capabilities\route.ts:49:    // Get workspaceId from query params
D:\Unite-Hub\src\app\api\desktop\capabilities\route.ts:50:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\desktop\capabilities\route.ts:52:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\desktop\capabilities\route.ts:53:      return NextResponse.json({ error: 'Missing workspaceId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\desktop\capabilities\route.ts:61:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\desktop\capabilities\route.ts:83:      .or(`workspace_id.is.null,workspace_id.eq.${workspaceId}`)
D:\Unite-Hub\src\app\api\desktop\capabilities\route.ts:90:      log.error('Failed to fetch capabilities', { capError, workspaceId });
D:\Unite-Hub\src\app\api\desktop\capabilities\route.ts:118:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\desktop\capabilities\route.ts:123:      workspaceId,
D:\Unite-Hub\src\app\api\desktop\command\route.ts:55:    const { workspaceId, commandName, parameters } = await req.json();
D:\Unite-Hub\src\app\api\desktop\command\route.ts:57:    if (!workspaceId || !commandName || !parameters) {
D:\Unite-Hub\src\app\api\desktop\command\route.ts:59:        { error: 'Missing required fields: workspaceId, commandName, parameters' },
D:\Unite-Hub\src\app\api\desktop\command\route.ts:69:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\desktop\command\route.ts:88:    const validation = await validateCommand(commandName, parameters, workspaceId, userId);
D:\Unite-Hub\src\app\api\desktop\command\route.ts:105:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\desktop\command\route.ts:119:      log.error('Failed to create command record', { commandError, commandName, workspaceId });
D:\Unite-Hub\src\app\api\desktop\command\route.ts:146:        workspaceId,
D:\Unite-Hub\src\app\api\desktop\command\route.ts:164:        await logCommandExecution(commandId, workspaceId, userId, commandName, parameters, result.result || {}, executionTime);
D:\Unite-Hub\src\app\api\desktop\command\route.ts:175:        await logCommandError(commandId, workspaceId, userId, commandName, result.error || 'Unknown error');
D:\Unite-Hub\src\app\api\desktop\command\route.ts:189:      await logCommandError(commandId, workspaceId, userId, commandName, (execError as Error).message, (execError as Error).stack);
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:9://   POST /api/dev/local-seo/seed?workspaceId=<workspace_uuid>
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:16:  const workspaceId = url.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:18:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:20:      JSON.stringify({ error: "workspaceId query parameter is required" }),
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:32:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:49:            workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:91:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:106:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:121:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:145:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:169:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:198:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:209:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:229:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:259:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\dev\local-seo\seed\route.ts:294:        workspaceId,
D:\Unite-Hub\src\app\api\diagnostics\logs\route.ts:29:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\diagnostics\logs\route.ts:39:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\diagnostics\logs\route.ts:40:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\diagnostics\logs\route.ts:44:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\diagnostics\logs\route.ts:56:        tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\diagnostics\logs\route.ts:65:        tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\email\oauth\callback\route.ts:58:    const workspaceId = stateData.workspaceId || stateData.workspace_id;
D:\Unite-Hub\src\app\api\email\oauth\callback\route.ts:61:    let targetWorkspaceId = workspaceId;
D:\Unite-Hub\src\app\api\email\oauth\callback\route.ts:62:    if (!targetWorkspaceId) {
D:\Unite-Hub\src\app\api\email\oauth\callback\route.ts:78:        targetWorkspaceId = workspace?.id;
D:\Unite-Hub\src\app\api\email\oauth\callback\route.ts:82:    if (!targetWorkspaceId) {
D:\Unite-Hub\src\app\api\email\oauth\callback\route.ts:92:        workspace_id: targetWorkspaceId,
D:\Unite-Hub\src\app\api\email\oauth\callback\route.ts:119:      workspaceId: targetWorkspaceId,
D:\Unite-Hub\src\app\api\email\send\route.ts:28:      workspace_id: body.workspaceId,
D:\Unite-Hub\src\app\api\email\send\route.ts:45:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\email\send\route.ts:59:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\email\send\route.ts:70:        .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\email\send\route.ts:109:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\email\send\route.ts:143:          workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\email\webhook\route.ts:49:    const workspaceId = workspace.id;
D:\Unite-Hub\src\app\api\email\webhook\route.ts:96:        const result = await processIncomingEmail(supabase, parsedEmail, workspaceId);
D:\Unite-Hub\src\app\api\email\webhook\route.ts:120:async function processIncomingEmail(supabase: any, parsedEmail: any, workspaceId: string) {
D:\Unite-Hub\src\app\api\email\webhook\route.ts:127:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\email\webhook\route.ts:150:          workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\email\webhook\route.ts:182:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\route.ts:31:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\route.ts:36:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\route.ts:38:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\route.ts:46:    const summary = await service.getClientEmailSummary(workspaceId, clientId);
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\route.ts:63:        workspaceId,
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\route.ts:71:      const timeline = await service.getClientTimeline(workspaceId, clientId, {
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\route.ts:80:        workspaceId,
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\ideas\route.ts:19:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\ideas\route.ts:26:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\ideas\route.ts:28:        { error: 'Missing workspaceId parameter' },
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\ideas\route.ts:52:      .eq('org_id', workspaceId)
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\ideas\route.ts:83:      workspaceId,
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\ideas\route.ts:135:    const { workspaceId, ideaId, status, priority, notes } = body;
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\ideas\route.ts:137:    if (!workspaceId || !ideaId) {
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\ideas\route.ts:175:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\summary\route.ts:20:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\summary\route.ts:24:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\summary\route.ts:26:        { error: 'Missing workspaceId parameter' },
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\summary\route.ts:50:      .eq('org_id', workspaceId)
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\summary\route.ts:59:      workspaceId,
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\summary\route.ts:72:      workspaceId,
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\summary\route.ts:79:      workspaceId,
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\summary\route.ts:137:        workspaceId,
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\threads\route.ts:19:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\threads\route.ts:25:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\threads\route.ts:27:        { error: 'Missing workspaceId parameter' },
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\threads\route.ts:51:      .eq('org_id', workspaceId)
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\threads\route.ts:60:      workspaceId,
D:\Unite-Hub\src\app\api\email-intel\client\[clientId]\threads\route.ts:74:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\email-intel\ideas\route.ts:28:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\email-intel\ideas\route.ts:34:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\email-intel\ideas\route.ts:36:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\email-intel\ideas\route.ts:42:    const ideas = await service.getPendingIdeas(workspaceId, {
D:\Unite-Hub\src\app\api\email-intel\ideas\route.ts:78:    const { workspaceId, ideaId, status } = body as {
D:\Unite-Hub\src\app\api\email-intel\ideas\route.ts:79:      workspaceId: string;
D:\Unite-Hub\src\app\api\email-intel\ideas\route.ts:84:    if (!workspaceId || !ideaId || !status) {
D:\Unite-Hub\src\app\api\email-intel\ideas\route.ts:86:        { error: 'workspaceId, ideaId, and status are required' },
D:\Unite-Hub\src\app\api\email-intel\ideas\route.ts:101:      workspaceId,
D:\Unite-Hub\src\app\api\email-intel\pending-actions\route.ts:26:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\email-intel\pending-actions\route.ts:29:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\email-intel\pending-actions\route.ts:31:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\email-intel\pending-actions\route.ts:37:    const clients = await service.getClientsWithPendingActions(workspaceId, limit);
D:\Unite-Hub\src\app\api\email-intel\sync\route.ts:28:    const { workspaceId, connectedAppId, syncType, sinceDate } = body as {
D:\Unite-Hub\src\app\api\email-intel\sync\route.ts:29:      workspaceId: string;
D:\Unite-Hub\src\app\api\email-intel\sync\route.ts:35:    if (!workspaceId || !connectedAppId) {
D:\Unite-Hub\src\app\api\email-intel\sync\route.ts:37:        { error: 'workspaceId and connectedAppId are required' },
D:\Unite-Hub\src\app\api\email-intel\sync\route.ts:50:    const progress = await service.syncEmails(workspaceId, connectedAppId, options);
D:\Unite-Hub\src\app\api\email-intel\sync\route.ts:80:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\email-intel\sync\route.ts:84:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\email-intel\sync\route.ts:86:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\email-intel\sync\route.ts:96:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\email-intel\threads\route.ts:26:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\email-intel\threads\route.ts:33:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\email-intel\threads\route.ts:35:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\email-intel\threads\route.ts:41:    const { threads, total } = await service.getEmailThreads(workspaceId, {
D:\Unite-Hub\src\app\api\emails\process\route.ts:18:    const { workspaceId, emailId, batch, limit } = body;
D:\Unite-Hub\src\app\api\emails\process\route.ts:20:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\emails\process\route.ts:29:      const result = await processEmail(emailId, workspaceId);
D:\Unite-Hub\src\app\api\emails\process\route.ts:39:      const result = await batchProcessEmails(workspaceId, limit || 20);
D:\Unite-Hub\src\app\api\emails\send\route.ts:41:    const { workspaceId, contactId, to, subject, body } = await req.json();
D:\Unite-Hub\src\app\api\emails\send\route.ts:44:    if (!workspaceId || !contactId || !to || !subject || !body) {
D:\Unite-Hub\src\app\api\emails\send\route.ts:46:        { error: "Missing required fields: workspaceId, contactId, to, subject, body" },
D:\Unite-Hub\src\app\api\emails\send\route.ts:57:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\emails\send\route.ts:96:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:8:    const { action, tenantId, ...params } = await req.json();
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:10:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:11:      return NextResponse.json({ error: 'Missing tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:14:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:19:          tenantId,
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:29:          tenantId,
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:37:        const result = await aglbasEngine.rebalanceLoad(tenantId);
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:59:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:60:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:61:      return NextResponse.json({ error: 'Missing tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:64:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\aglbase\route.ts:66:    const capacity = await aglbasEngine.assessCapacity(tenantId);
D:\Unite-Hub\src\app\api\engines\aire\route.ts:7:    const { action, tenantId, incidentId, incidentType, severity, description } = await req.json();
D:\Unite-Hub\src\app\api\engines\aire\route.ts:9:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\aire\route.ts:10:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\aire\route.ts:13:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\aire\route.ts:17:        const incident = await aireEngine.createIncident(tenantId, incidentType, severity, description);
D:\Unite-Hub\src\app\api\engines\aire\route.ts:25:        const incidents = await aireEngine.getActiveIncidents(tenantId);
D:\Unite-Hub\src\app\api\engines\asrs\route.ts:8:    const { action, context, tenantId } = await req.json();
D:\Unite-Hub\src\app\api\engines\asrs\route.ts:10:    if (!action || !tenantId) {
D:\Unite-Hub\src\app\api\engines\asrs\route.ts:11:      return NextResponse.json({ error: 'Missing action or tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\asrs\route.ts:14:    // Validate auth and workspace access (tenantId = workspaceId)
D:\Unite-Hub\src\app\api\engines\asrs\route.ts:15:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\asrs\route.ts:17:    const result = await asrsEngine.evaluateRisk(tenantId, action, context || {});
D:\Unite-Hub\src\app\api\engines\asrs\route.ts:36:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\engines\asrs\route.ts:37:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\asrs\route.ts:38:      return NextResponse.json({ error: 'Missing tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\asrs\route.ts:42:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\asrs\route.ts:44:    const blockLog = await asrsEngine.getBlockLog(tenantId);
D:\Unite-Hub\src\app\api\engines\egcbi\route.ts:7:    const { action, tenantId, domain, reportType, period, policyName, policyType, requirements } = await req.json();
D:\Unite-Hub\src\app\api\engines\egcbi\route.ts:9:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\egcbi\route.ts:10:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\egcbi\route.ts:13:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\egcbi\route.ts:17:        const compliance = await egcbiEngine.checkCompliance(tenantId, domain);
D:\Unite-Hub\src\app\api\engines\egcbi\route.ts:21:        const policies = await egcbiEngine.getPolicies(tenantId, policyType);
D:\Unite-Hub\src\app\api\engines\egcbi\route.ts:25:        const policy = await egcbiEngine.createPolicy(tenantId, policyName, policyType, requirements);
D:\Unite-Hub\src\app\api\engines\egcbi\route.ts:29:        const report = await egcbiEngine.generateBoardReport(tenantId, reportType, period);
D:\Unite-Hub\src\app\api\engines\egcbi\route.ts:33:        const audit = await egcbiEngine.runAudit(tenantId, domain);
D:\Unite-Hub\src\app\api\engines\grh\route.ts:7:    const { action, tenantId, region, sourceRegion, targetRegion, regulationName, regulationType, requirements, effectiveDate } = await req.json();
D:\Unite-Hub\src\app\api\engines\grh\route.ts:9:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\grh\route.ts:10:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\grh\route.ts:13:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\grh\route.ts:17:        const regulations = await grhEngine.getRegionalRegulations(tenantId, region);
D:\Unite-Hub\src\app\api\engines\grh\route.ts:21:        const harmonisation = await grhEngine.checkHarmonisation(tenantId, sourceRegion, targetRegion);
D:\Unite-Hub\src\app\api\engines\grh\route.ts:25:        const regulation = await grhEngine.createRegulation(tenantId, region, regulationName, regulationType, requirements, effectiveDate);
D:\Unite-Hub\src\app\api\engines\grh\route.ts:29:        const mapping = await grhEngine.generatePolicyMapping(tenantId, sourceRegion, targetRegion);
D:\Unite-Hub\src\app\api\engines\grh\route.ts:33:        const regions = await grhEngine.getActiveRegions(tenantId);
D:\Unite-Hub\src\app\api\engines\grh\route.ts:37:        const compliance = await grhEngine.checkRegionalCompliance(tenantId, region);
D:\Unite-Hub\src\app\api\engines\gslpie\route.ts:28:        const forecast = await gslpieEngine.forecastSLA(params.tenantId, params.region);
D:\Unite-Hub\src\app\api\engines\mcse\route.ts:8:    const { tenantId, agentId, reasoning, output } = await req.json();
D:\Unite-Hub\src\app\api\engines\mcse\route.ts:10:    if (!tenantId || !agentId || !reasoning || !output) {
D:\Unite-Hub\src\app\api\engines\mcse\route.ts:14:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\mcse\route.ts:16:    const result = await mcseEngine.validateReasoning(tenantId, agentId, reasoning, output);
D:\Unite-Hub\src\app\api\engines\orchestrator\route.ts:8:    const { action, tenantId, engine, category, region, params } = body;
D:\Unite-Hub\src\app\api\engines\orchestrator\route.ts:11:    // tenantId in MAOS maps to workspaceId
D:\Unite-Hub\src\app\api\engines\orchestrator\route.ts:12:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\orchestrator\route.ts:13:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\orchestrator\route.ts:17:      await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\orchestrator\route.ts:33:          tenantId,
D:\Unite-Hub\src\app\api\engines\orchestrator\route.ts:43:        const health = await maosOrchestrator.getSystemHealth(tenantId);
D:\Unite-Hub\src\app\api\engines\orchestrator\route.ts:47:        const forecasts = await maosOrchestrator.getProactiveForecasts(tenantId);
D:\Unite-Hub\src\app\api\engines\orchestrator\route.ts:51:        const alignment = await maosOrchestrator.applyStrategicAlignment(tenantId);
D:\Unite-Hub\src\app\api\engines\raaoe\route.ts:7:    const { action, tenantId, region, operation, priority } = await req.json();
D:\Unite-Hub\src\app\api\engines\raaoe\route.ts:9:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\raaoe\route.ts:10:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\raaoe\route.ts:13:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\raaoe\route.ts:17:        const result = await raaoeEngine.submitOperation(tenantId, region, operation, priority);
D:\Unite-Hub\src\app\api\engines\raaoe\route.ts:25:        const optimization = await raaoeEngine.optimizeRegionalRouting(tenantId);
D:\Unite-Hub\src\app\api\engines\sorie\route.ts:7:    const { action, tenantId, objectiveId, title, description, targetDate, priority } = await req.json();
D:\Unite-Hub\src\app\api\engines\sorie\route.ts:9:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\sorie\route.ts:10:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\sorie\route.ts:13:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\sorie\route.ts:17:        const objective = await sorieEngine.createObjective(tenantId, title, description, targetDate, priority);
D:\Unite-Hub\src\app\api\engines\sorie\route.ts:21:        const objectives = await sorieEngine.getObjectives(tenantId);
D:\Unite-Hub\src\app\api\engines\sorie\route.ts:25:        const roadmap = await sorieEngine.generateRoadmap(tenantId);
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:8:    const { action, tenantId, ...params } = await req.json();
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:10:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:11:      return NextResponse.json({ error: 'Missing tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:14:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:18:        const quota = await tcpqelEngine.checkQuota(tenantId, params.engine, params.amount);
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:22:        await tcpqelEngine.allocatePlan(tenantId, params.planId);
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:26:        await tcpqelEngine.chargeUsage(tenantId, params.engine, params.amount);
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:30:        const licensed = await tcpqelEngine.isEngineLicensed(tenantId, params.engineName);
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:52:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:53:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:54:      return NextResponse.json({ error: 'Missing tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:57:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\tcpqel\route.ts:59:    const stats = await tcpqelEngine.getUsageStats(tenantId);
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:8:    const { action, tenantId, ...params } = await req.json();
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:10:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:11:      return NextResponse.json({ error: 'Missing tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:14:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:18:        const compliance = await ucscelEngine.checkContractCompliance(tenantId, params.action);
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:22:        const sla = await ucscelEngine.checkSLAAdherence(tenantId, params.metric, params.value);
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:44:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:45:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:46:      return NextResponse.json({ error: 'Missing tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:49:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:54:      const history = await ucscelEngine.getEnforcementHistory(tenantId);
D:\Unite-Hub\src\app\api\engines\ucscel\route.ts:58:    const contract = await ucscelEngine.getActiveContract(tenantId);
D:\Unite-Hub\src\app\api\engines\upewe\route.ts:7:    const { action, tenantId, window } = await req.json();
D:\Unite-Hub\src\app\api\engines\upewe\route.ts:9:    if (!tenantId) {
D:\Unite-Hub\src\app\api\engines\upewe\route.ts:10:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\engines\upewe\route.ts:13:    await validateUserAndWorkspace(req, tenantId);
D:\Unite-Hub\src\app\api\engines\upewe\route.ts:17:        const forecast = await upeweEngine.generateForecast(tenantId, window || '24h');
D:\Unite-Hub\src\app\api\enterprise\billing\usage\route.ts:66:    const { orgId, eventType, category, quantity, metadata, workspaceId } = body;
D:\Unite-Hub\src\app\api\enterprise\billing\usage\route.ts:81:      workspaceId,
D:\Unite-Hub\src\app\api\enterprise\workspaces\route.ts:35:    const workspaceId = req.nextUrl.searchParams.get('workspace_id');
D:\Unite-Hub\src\app\api\enterprise\workspaces\route.ts:38:    if (workspaceId) {
D:\Unite-Hub\src\app\api\enterprise\workspaces\route.ts:39:      const workspace = await workspaceService.getWorkspace(workspaceId);
D:\Unite-Hub\src\app\api\enterprise\workspaces\route.ts:45:      const { valid } = await workspaceService.validateWorkspaceAccess(userId, workspaceId);
D:\Unite-Hub\src\app\api\enterprise\workspaces\route.ts:244:    const workspaceId = req.nextUrl.searchParams.get('workspace_id');
D:\Unite-Hub\src\app\api\enterprise\workspaces\route.ts:246:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\enterprise\workspaces\route.ts:251:    const role = await orgGraphService.getUserWorkspaceRole(userId, workspaceId);
D:\Unite-Hub\src\app\api\enterprise\workspaces\route.ts:259:    await workspaceService.deleteWorkspace(workspaceId, userId);
D:\Unite-Hub\src\app\api\evolution\adjustments\logs\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\evolution\adjustments\logs\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\evolution\adjustments\logs\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\evolution\adjustments\logs\route.ts:23:    const logs = await getAdjustmentLogs(tenantId);
D:\Unite-Hub\src\app\api\evolution\adjustments\run\route.ts:18:    const { tenantId, taskId, adjustmentType, targetEntity } = await req.json();
D:\Unite-Hub\src\app\api\evolution\adjustments\run\route.ts:19:    if (!tenantId || !taskId || !adjustmentType || !targetEntity) {
D:\Unite-Hub\src\app\api\evolution\adjustments\run\route.ts:23:    const adjustment = await executeAdjustment(tenantId, taskId, adjustmentType, targetEntity);
D:\Unite-Hub\src\app\api\evolution\console\review\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\evolution\console\review\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\evolution\console\review\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\evolution\console\review\route.ts:23:    const queue = await getReviewQueue(tenantId);
D:\Unite-Hub\src\app\api\evolution\kernel\run\route.ts:18:    const { tenantId } = await req.json();
D:\Unite-Hub\src\app\api\evolution\kernel\run\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\evolution\kernel\run\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\evolution\kernel\run\route.ts:23:    const run = await runKernel(tenantId);
D:\Unite-Hub\src\app\api\evolution\kernel\tasks\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\evolution\kernel\tasks\route.ts:21:    if (!tenantId) {
D:\Unite-Hub\src\app\api\evolution\kernel\tasks\route.ts:22:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\evolution\kernel\tasks\route.ts:25:    const tasks = await getTasks(tenantId, status);
D:\Unite-Hub\src\app\api\evolution\macro\route.ts:19:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\evolution\macro\route.ts:22:    if (!tenantId) {
D:\Unite-Hub\src\app\api\evolution\macro\route.ts:23:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\evolution\macro\route.ts:26:    const proposals = await getProposals(tenantId, status);
D:\Unite-Hub\src\app\api\evolution\macro\route.ts:53:    const { action, tenantId, title, description, scope, affectedEngines, proposalId, decision } = await req.json();
D:\Unite-Hub\src\app\api\evolution\macro\route.ts:56:      const proposal = await createProposal(tenantId, title, description, scope, affectedEngines);
D:\Unite-Hub\src\app\api\evolution\mesh\overview\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\evolution\mesh\overview\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\evolution\mesh\overview\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\evolution\mesh\overview\route.ts:24:      getNodes(tenantId),
D:\Unite-Hub\src\app\api\evolution\mesh\overview\route.ts:25:      getEdges(tenantId),
D:\Unite-Hub\src\app\api\evolution\mesh\overview\route.ts:26:      getMeshOverview(tenantId)
D:\Unite-Hub\src\app\api\evolution\planner\overview\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\evolution\planner\overview\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\evolution\planner\overview\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\evolution\planner\overview\route.ts:23:    const overview = await getOverview(tenantId);
D:\Unite-Hub\src\app\api\evolution\planner\schedule\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\evolution\planner\schedule\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\evolution\planner\schedule\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\evolution\planner\schedule\route.ts:23:    const schedules = await getSchedules(tenantId);
D:\Unite-Hub\src\app\api\evolution\planner\schedule\route.ts:45:    const { tenantId, cycleStart, cycleEnd, taskIds } = await req.json();
D:\Unite-Hub\src\app\api\evolution\planner\schedule\route.ts:46:    if (!tenantId) {
D:\Unite-Hub\src\app\api\evolution\planner\schedule\route.ts:47:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\evolution\planner\schedule\route.ts:51:      tenantId,
D:\Unite-Hub\src\app\api\evolution\qa\check\route.ts:18:    const { tenantId, taskId, checkType } = await req.json();
D:\Unite-Hub\src\app\api\evolution\qa\check\route.ts:19:    if (!tenantId || !taskId || !checkType) {
D:\Unite-Hub\src\app\api\evolution\qa\check\route.ts:23:    const result = await runCheck(tenantId, taskId, checkType);
D:\Unite-Hub\src\app\api\evolution\qa\history\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\evolution\qa\history\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\evolution\qa\history\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\evolution\qa\history\route.ts:23:    const history = await getHistory(tenantId);
D:\Unite-Hub\src\app\api\evolution\stability\mode\route.ts:18:    const { tenantId, mode, reason } = await req.json();
D:\Unite-Hub\src\app\api\evolution\stability\mode\route.ts:19:    if (!tenantId || !mode || !reason) {
D:\Unite-Hub\src\app\api\evolution\stability\mode\route.ts:23:    const success = await setStabilityMode(tenantId, mode, reason);
D:\Unite-Hub\src\app\api\evolution\stability\overview\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\evolution\stability\overview\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\evolution\stability\overview\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\evolution\stability\overview\route.ts:24:      getStabilityMode(tenantId),
D:\Unite-Hub\src\app\api\evolution\stability\overview\route.ts:25:      getEnforcementRecords(tenantId)
D:\Unite-Hub\src\app\api\execution-logs\route.ts:18:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\execution-logs\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\execution-logs\route.ts:33:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\executions\start\route.ts:41:    const { strategyId, workspaceId } = await req.json();
D:\Unite-Hub\src\app\api\executions\start\route.ts:43:    if (!strategyId || !workspaceId) {
D:\Unite-Hub\src\app\api\executions\start\route.ts:45:        { error: 'Missing required fields: strategyId, workspaceId' },
D:\Unite-Hub\src\app\api\executions\start\route.ts:56:      .eq('org_id', workspaceId)
D:\Unite-Hub\src\app\api\executions\start\route.ts:66:      workspaceId,
D:\Unite-Hub\src\app\api\experiments\sandbox\create\route.ts:18:    const { tenantId, name, description, config } = await req.json();
D:\Unite-Hub\src\app\api\experiments\sandbox\create\route.ts:19:    if (!tenantId || !name) {
D:\Unite-Hub\src\app\api\experiments\sandbox\create\route.ts:23:    const sandbox = await createSandbox(tenantId, name, description, config);
D:\Unite-Hub\src\app\api\experiments\sandbox\results\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\experiments\sandbox\results\route.ts:26:    if (!tenantId) {
D:\Unite-Hub\src\app\api\experiments\sandbox\results\route.ts:27:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\experiments\sandbox\results\route.ts:30:    const sandboxes = await getSandboxes(tenantId);
D:\Unite-Hub\src\app\api\founder\ai-oversight\route.ts:19:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\ai-oversight\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ai-oversight\route.ts:23:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ai-oversight\route.ts:28:      const summary = await getOversightSummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\ai-oversight\route.ts:37:      const events = await listOversightEvents(workspaceId, { policyCode, level, limit });
D:\Unite-Hub\src\app\api\founder\ai-oversight\route.ts:43:    const policies = await listOversightPolicies(workspaceId, { status });
D:\Unite-Hub\src\app\api\founder\ai-oversight\route.ts:54:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\ai-oversight\route.ts:57:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ai-oversight\route.ts:58:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ai-oversight\route.ts:66:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\ai-oversight\route.ts:79:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\audit\route.ts:34:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\audit\route.ts:43:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\audit\route.ts:44:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\audit\route.ts:47:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\audit\route.ts:56:      const log = await getAuditLog(logId, workspaceId);
D:\Unite-Hub\src\app\api\founder\audit\route.ts:64:      const stats = await getAuditStatistics(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\audit\route.ts:77:        workspaceId,
D:\Unite-Hub\src\app\api\founder\audit\route.ts:88:      workspaceId,
D:\Unite-Hub\src\app\api\founder\audit\route.ts:114:    const { workspaceId, category, action, resource, resourceId, description, metadata } = body;
D:\Unite-Hub\src\app\api\founder\audit\route.ts:116:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\audit\route.ts:117:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\audit\route.ts:120:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\audit\route.ts:133:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\awareness\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\founder\awareness\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\awareness\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\awareness\route.ts:23:    const snapshots = await getAwarenessSnapshots(tenantId);
D:\Unite-Hub\src\app\api\founder\cognitive-load\route.ts:18:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\cognitive-load\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\cognitive-load\route.ts:22:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\cognitive-load\route.ts:28:      const summary = await getCognitiveLoadSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\cognitive-load\route.ts:35:      const currentLoad = await getCurrentCognitiveLoad(workspaceId, windowMinutes);
D:\Unite-Hub\src\app\api\founder\cognitive-load\route.ts:46:    const events = await listCognitiveLoadEvents(workspaceId, {
D:\Unite-Hub\src\app\api\founder\cognitive-load\route.ts:64:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\cognitive-load\route.ts:66:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\cognitive-load\route.ts:67:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\cognitive-load\route.ts:73:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\cognitive-map\route.ts:24:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\founder\cognitive-map\route.ts:25:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\cognitive-map\route.ts:26:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\cognitive-map\route.ts:29:    const snapshot = await getCognitiveMap(tenantId);
D:\Unite-Hub\src\app\api\founder\cognitive-map\route.ts:56:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\founder\cognitive-map\route.ts:58:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\cognitive-map\route.ts:59:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\cognitive-map\route.ts:62:    const snapshot = await generateCognitiveMap(tenantId);
D:\Unite-Hub\src\app\api\founder\coherence\route.ts:19:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\coherence\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\coherence\route.ts:23:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\coherence\route.ts:28:      const summary = await getCoherenceSummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\coherence\route.ts:34:      const nodes = await listCoherenceNodes(workspaceId);
D:\Unite-Hub\src\app\api\founder\coherence\route.ts:41:    const edges = await listCoherenceEdges(workspaceId, { health, limit });
D:\Unite-Hub\src\app\api\founder\coherence\route.ts:52:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\coherence\route.ts:55:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\coherence\route.ts:56:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\coherence\route.ts:64:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\coherence\route.ts:75:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:44:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:51:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:53:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:59:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:73:      const dsr = await getDataSubjectRequest(dsrId, workspaceId);
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:89:      const tasks = await listComplianceTasks(dsrId, workspaceId);
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:95:        workspaceId,
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:103:      const stats = await getDSRStatistics(workspaceId);
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:109:      workspaceId,
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:142:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:144:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:146:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:152:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:169:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:180:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:209:      await updateDSRStatus(dsrId, workspaceId, status as DSRStatus);
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:214:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:245:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\compliance\route.ts:275:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\critical-path\route.ts:20:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\critical-path\route.ts:23:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\critical-path\route.ts:24:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\critical-path\route.ts:33:      const summary = await getCriticalPathSummary(workspaceId, pathCode);
D:\Unite-Hub\src\app\api\founder\critical-path\route.ts:43:      const nodes = await listCriticalNodes(workspaceId, pathCode);
D:\Unite-Hub\src\app\api\founder\critical-path\route.ts:49:    const paths = await listCriticalPaths(workspaceId, { status });
D:\Unite-Hub\src\app\api\founder\critical-path\route.ts:60:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\critical-path\route.ts:63:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\critical-path\route.ts:64:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\critical-path\route.ts:78:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\critical-path\route.ts:93:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:40:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:45:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:46:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:49:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:58:      const policy = await getRetentionPolicy(policyId, workspaceId);
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:67:        workspaceId,
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:75:      const stats = await getRetentionStatistics(workspaceId);
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:81:      workspaceId,
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:104:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:106:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:107:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:110:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:126:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:144:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:159:      await updateDeletionJobStatus(jobId, workspaceId, status, deletedCount, errorMessage);
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:187:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:190:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:191:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:194:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\data-retention\route.ts:203:    await deleteRetentionPolicy(policyId, workspaceId);
D:\Unite-Hub\src\app\api\founder\debt\route.ts:20:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\debt\route.ts:24:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\debt\route.ts:25:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\debt\route.ts:30:      const summary = await getDebtSummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\debt\route.ts:45:    const items = await listOperationalDebt(workspaceId, {
D:\Unite-Hub\src\app\api\founder\debt\route.ts:61:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\debt\route.ts:64:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\debt\route.ts:65:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\debt\route.ts:106:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\distraction-shield\route.ts:17:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\distraction-shield\route.ts:20:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\distraction-shield\route.ts:21:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\distraction-shield\route.ts:27:      const summary = await getDistractionSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\distraction-shield\route.ts:38:    const events = await listDistractionEvents(workspaceId, {
D:\Unite-Hub\src\app\api\founder\distraction-shield\route.ts:56:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\distraction-shield\route.ts:58:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\distraction-shield\route.ts:59:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\distraction-shield\route.ts:65:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\drift\route.ts:12:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\drift\route.ts:15:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\drift\route.ts:16:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\drift\route.ts:20:      const summary = await getDriftSummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\drift\route.ts:28:    const items = await listDriftEvents(workspaceId, {
D:\Unite-Hub\src\app\api\founder\drift\route.ts:44:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\drift\route.ts:47:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\drift\route.ts:48:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\drift\route.ts:72:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\early-warning\route.ts:12:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\early-warning\route.ts:15:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\early-warning\route.ts:16:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\early-warning\route.ts:20:      const summary = await getWarningSummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\early-warning\route.ts:28:    const items = await listWarningEvents(workspaceId, {
D:\Unite-Hub\src\app\api\founder\early-warning\route.ts:44:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\early-warning\route.ts:47:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\early-warning\route.ts:48:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\early-warning\route.ts:72:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\energy-mapping\route.ts:19:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\energy-mapping\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\energy-mapping\route.ts:23:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\energy-mapping\route.ts:29:      const summary = await getEnergySummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\energy-mapping\route.ts:36:      const patterns = await detectEnergyPatterns(workspaceId, minConfidence);
D:\Unite-Hub\src\app\api\founder\energy-mapping\route.ts:42:      const windows = await getOptimalWorkWindows(workspaceId);
D:\Unite-Hub\src\app\api\founder\energy-mapping\route.ts:53:    const readings = await listEnergyReadings(workspaceId, {
D:\Unite-Hub\src\app\api\founder\energy-mapping\route.ts:71:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\energy-mapping\route.ts:73:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\energy-mapping\route.ts:74:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\energy-mapping\route.ts:80:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\evidence-packs\route.ts:20:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\evidence-packs\route.ts:22:    if (!workspaceId) return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\evidence-packs\route.ts:24:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\evidence-packs\route.ts:30:      const packs = await evidencePackService.listEvidencePacks(workspaceId, status || undefined, purpose || undefined);
D:\Unite-Hub\src\app\api\founder\evidence-packs\route.ts:62:    const { action, workspaceId } = body;
D:\Unite-Hub\src\app\api\founder\evidence-packs\route.ts:63:    if (!workspaceId) return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\evidence-packs\route.ts:65:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\evidence-packs\route.ts:72:        tenantId: workspaceId, name, description, purpose, createdBy: user.id, periodStart, periodEnd, metadata,
D:\Unite-Hub\src\app\api\founder\flight-deck\layout\route.ts:24:    const tenantId = req.nextUrl.searchParams.get('tenantId') || undefined;
D:\Unite-Hub\src\app\api\founder\flight-deck\layout\route.ts:25:    const layout = await getLayout(userData.user.id, tenantId);
D:\Unite-Hub\src\app\api\founder\flight-deck\layout\route.ts:52:    const { layoutConfig, tenantId } = body;
D:\Unite-Hub\src\app\api\founder\flight-deck\layout\route.ts:58:    const layout = await saveLayout(userData.user.id, layoutConfig, tenantId);
D:\Unite-Hub\src\app\api\founder\focus-engine\route.ts:18:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\focus-engine\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\focus-engine\route.ts:22:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\focus-engine\route.ts:28:      const summary = await getFocusSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\focus-engine\route.ts:37:    const sessions = await listFocusSessions(workspaceId, {
D:\Unite-Hub\src\app\api\founder\focus-engine\route.ts:53:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\focus-engine\route.ts:56:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\focus-engine\route.ts:57:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\focus-engine\route.ts:78:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\focus-windows\route.ts:12:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\focus-windows\route.ts:15:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\focus-windows\route.ts:17:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\founder\focus-windows\route.ts:26:          tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\focus-windows\route.ts:34:        const summary = await getFocusWindowsSummary(workspaceId, hours);
D:\Unite-Hub\src\app\api\founder\focus-windows\route.ts:45:        const windows = await listFocusWindows(workspaceId, {
D:\Unite-Hub\src\app\api\founder\forecast\route.ts:12:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\forecast\route.ts:15:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\forecast\route.ts:16:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\forecast\route.ts:20:      const accuracy = await getForecastAccuracy(workspaceId);
D:\Unite-Hub\src\app\api\founder\forecast\route.ts:26:      const forecasts = await getLatestForecasts(workspaceId, forecastType);
D:\Unite-Hub\src\app\api\founder\forecast\route.ts:31:    const items = await listForecasts(workspaceId, includeExpired);
D:\Unite-Hub\src\app\api\founder\forecast\route.ts:43:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\forecast\route.ts:45:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\forecast\route.ts:46:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\forecast\route.ts:69:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\governance\route.ts:19:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\governance\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\governance\route.ts:23:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\governance\route.ts:32:      const history = await getMetricHistory(workspaceId, metric, days);
D:\Unite-Hub\src\app\api\founder\governance\route.ts:37:      const metrics = await listGovernanceMetrics(workspaceId);
D:\Unite-Hub\src\app\api\founder\governance\route.ts:41:    const scorecard = await getLatestScorecard(workspaceId);
D:\Unite-Hub\src\app\api\founder\governance\route.ts:52:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\governance\route.ts:55:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\governance\route.ts:56:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\governance\route.ts:60:      const scorecard = await computeGovernanceScorecard(workspaceId);
D:\Unite-Hub\src\app\api\founder\governance\route.ts:71:    const metricId = await recordGovernanceMetric(workspaceId, metric, value, metadata);
D:\Unite-Hub\src\app\api\founder\guardian\replay\route.ts:20:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\founder\guardian\replay\route.ts:22:    const sessions = await listReplaySessions(tenantId);
D:\Unite-Hub\src\app\api\founder\guardian\replay\route.ts:45:      getReplaySession(tenantId, effectiveSessionId),
D:\Unite-Hub\src\app\api\founder\guardian\replay\route.ts:46:      listReplayEvents(tenantId, effectiveSessionId, 400),
D:\Unite-Hub\src\app\api\founder\guardian\replay\route.ts:47:      getReplayEventCount(tenantId, effectiveSessionId),
D:\Unite-Hub\src\app\api\founder\guardian\scenarios\route.ts:23:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\founder\guardian\scenarios\route.ts:25:    const scenarios = await listScenarios(tenantId);
D:\Unite-Hub\src\app\api\founder\guardian\scenarios\route.ts:60:      getScenario(tenantId, effectiveScenarioId),
D:\Unite-Hub\src\app\api\founder\guardian\scenarios\route.ts:61:      listScenarioRuns(tenantId, effectiveScenarioId),
D:\Unite-Hub\src\app\api\founder\guardian\scenarios\route.ts:62:      getActiveScenariosCount(tenantId),
D:\Unite-Hub\src\app\api\founder\guardian\scenarios\route.ts:72:        getScenarioRun(tenantId, effectiveRunId),
D:\Unite-Hub\src\app\api\founder\guardian\scenarios\route.ts:73:        listScenarioRunEvents(tenantId, effectiveRunId),
D:\Unite-Hub\src\app\api\founder\guardian\telemetry\route.ts:18:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\founder\guardian\telemetry\route.ts:21:      listTelemetryStreams(tenantId),
D:\Unite-Hub\src\app\api\founder\guardian\telemetry\route.ts:22:      listTelemetryEvents(tenantId, { streamId, limit: 200 }),
D:\Unite-Hub\src\app\api\founder\guardian\warehouse\route.ts:21:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\founder\guardian\warehouse\route.ts:24:      listWarehouseEvents(tenantId, { streamKey, limit: 300 }),
D:\Unite-Hub\src\app\api\founder\guardian\warehouse\route.ts:25:      listHourlyRollups(tenantId, streamKey),
D:\Unite-Hub\src\app\api\founder\guardian\warehouse\route.ts:26:      listDailyRollups(tenantId, streamKey),
D:\Unite-Hub\src\app\api\founder\guardian\warehouse\route.ts:27:      getWarehouseEventCount(tenantId),
D:\Unite-Hub\src\app\api\founder\guardian\warehouse\route.ts:28:      getDistinctStreamKeys(tenantId),
D:\Unite-Hub\src\app\api\founder\h15\route.ts:15:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\h15\route.ts:16:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\h15\route.ts:18:        { error: 'workspaceId required' },
D:\Unite-Hub\src\app\api\founder\h15\route.ts:23:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\founder\h15\route.ts:100:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\h15\route.ts:101:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\h15\route.ts:103:        { error: 'workspaceId required' },
D:\Unite-Hub\src\app\api\founder\h15\route.ts:108:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\founder\health-index\route.ts:12:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\health-index\route.ts:15:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\health-index\route.ts:16:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\health-index\route.ts:22:      const health = await calculateHealthIndex(workspaceId);
D:\Unite-Hub\src\app\api\founder\health-index\route.ts:29:      const summary = await getHealthSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\health-index\route.ts:39:    const indices = await listHealthIndex(workspaceId, {
D:\Unite-Hub\src\app\api\founder\health-index\route.ts:55:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\health-index\route.ts:57:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\health-index\route.ts:58:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\health-index\route.ts:65:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\heatmap\route.ts:19:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\heatmap\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\heatmap\route.ts:23:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\heatmap\route.ts:27:      const items = await listHeatmapItems(workspaceId);
D:\Unite-Hub\src\app\api\founder\heatmap\route.ts:35:    const items = await getHeatmapData(workspaceId, {
D:\Unite-Hub\src\app\api\founder\heatmap\route.ts:51:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\heatmap\route.ts:54:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\heatmap\route.ts:55:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\heatmap\route.ts:61:      const result = await computeDailyHeatmap(workspaceId, targetDate);
D:\Unite-Hub\src\app\api\founder\heatmap\route.ts:68:      const result = await computeHeatmapRange(workspaceId, startDate, endDate);
D:\Unite-Hub\src\app\api\founder\heatmap\route.ts:79:    const eventId = await recordHeatmapEvent(workspaceId, eventType, eventDate, count, metadata);
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:44:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:51:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:52:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:55:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:64:      const incident = await getIncident(incidentId, workspaceId);
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:75:      const updates = await listIncidentUpdates(incidentId, workspaceId);
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:83:      const actions = await listIncidentActions(incidentId, workspaceId);
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:88:      const stats = await getIncidentStatistics(workspaceId);
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:93:    const incidents = await listIncidents(workspaceId, status || undefined, severity || undefined, limit);
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:114:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:116:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:117:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:120:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:133:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:147:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:168:      await updateIncidentStatus(incidentId, workspaceId, status);
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:172:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:195:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:214:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:231:      await updateIncidentActionStatus(actionId, workspaceId, status);
D:\Unite-Hub\src\app\api\founder\incidents\route.ts:243:      await updateIncident(incidentId, workspaceId, {
D:\Unite-Hub\src\app\api\founder\integrity\route.ts:18:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\integrity\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\integrity\route.ts:22:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\integrity\route.ts:28:      const summary = await getIntegritySummary(workspaceId, hours);
D:\Unite-Hub\src\app\api\founder\integrity\route.ts:38:    const events = await listIntegrityEvents(workspaceId, {
D:\Unite-Hub\src\app\api\founder\integrity\route.ts:55:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\integrity\route.ts:58:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\integrity\route.ts:59:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\integrity\route.ts:72:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\intelligence-bus\route.ts:17:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\intelligence-bus\route.ts:20:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\intelligence-bus\route.ts:21:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\intelligence-bus\route.ts:27:      const summary = await getIntelligenceSummary(workspaceId, hours);
D:\Unite-Hub\src\app\api\founder\intelligence-bus\route.ts:40:    const signals = await listIntelligenceSignals(workspaceId, {
D:\Unite-Hub\src\app\api\founder\intelligence-bus\route.ts:58:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\intelligence-bus\route.ts:60:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\intelligence-bus\route.ts:61:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\intelligence-bus\route.ts:67:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:19:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:23:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:29:      const summary = await getIntentRoutingSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:41:    const signals = await listIntentSignals(workspaceId, {
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:60:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:62:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:63:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:69:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:89:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:91:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\intent-router\route.ts:92:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\load-balancer\route.ts:18:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\load-balancer\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\load-balancer\route.ts:22:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\load-balancer\route.ts:28:      const summary = await getLoadSummary(workspaceId, hours);
D:\Unite-Hub\src\app\api\founder\load-balancer\route.ts:39:      const streamLoad = await getStreamLoad(workspaceId, streamCode, hours);
D:\Unite-Hub\src\app\api\founder\load-balancer\route.ts:49:    const events = await listLoadEvents(workspaceId, {
D:\Unite-Hub\src\app\api\founder\load-balancer\route.ts:66:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\load-balancer\route.ts:68:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\load-balancer\route.ts:69:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\load-balancer\route.ts:75:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\route.ts:38:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\route.ts:43:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\route.ts:44:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\route.ts:47:    const scenarios = await decisionSimulatorService.getScenarios(userId, workspaceId, {
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\route.ts:100:    const { workspaceId, scenarioType, title, description, assumptions } = body;
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\route.ts:102:    if (!workspaceId || !scenarioType || !title) {
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\route.ts:104:        { error: 'workspaceId, scenarioType, and title are required' },
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\route.ts:111:      workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\[id]\route.ts:38:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\[id]\route.ts:40:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\[id]\route.ts:41:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\[id]\route.ts:44:    const scenario = await decisionSimulatorService.getScenarioById(id, workspaceId);
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\[id]\route.ts:100:    const { workspaceId, status, actualOutcome, notes } = body;
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\[id]\route.ts:102:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\[id]\route.ts:103:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\[id]\route.ts:110:        workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\decision-scenarios\[id]\route.ts:133:        workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\forecast\route.ts:35:    const { workspaceId, horizon = '12_week', includeScenarios = true } = body;
D:\Unite-Hub\src\app\api\founder\memory\forecast\route.ts:37:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\forecast\route.ts:38:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\forecast\route.ts:43:      workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\forecast\route.ts:90:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\memory\forecast\route.ts:94:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\forecast\route.ts:95:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\forecast\route.ts:98:    const forecasts = await forecastEngineService.getForecasts(userId, workspaceId, {
D:\Unite-Hub\src\app\api\founder\memory\momentum\route.ts:33:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\memory\momentum\route.ts:37:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\momentum\route.ts:38:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\momentum\route.ts:41:    const latest = await momentumScoringService.getLatestMomentum(userId, workspaceId);
D:\Unite-Hub\src\app\api\founder\memory\momentum\route.ts:45:      const historyData = await momentumScoringService.getMomentumHistory(userId, workspaceId, historyLimit);
D:\Unite-Hub\src\app\api\founder\memory\next-actions\route.ts:38:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\memory\next-actions\route.ts:43:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\next-actions\route.ts:44:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\next-actions\route.ts:47:    const actions = await nextActionRecommenderService.getNextActions(userId, workspaceId, {
D:\Unite-Hub\src\app\api\founder\memory\next-actions\route.ts:103:    const { workspaceId, maxActions = 10, focusCategories } = body;
D:\Unite-Hub\src\app\api\founder\memory\next-actions\route.ts:105:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\next-actions\route.ts:106:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\next-actions\route.ts:111:      workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\opportunities\route.ts:38:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\memory\opportunities\route.ts:44:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\opportunities\route.ts:45:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\opportunities\route.ts:50:      workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\opportunities\route.ts:108:    const { opportunityId, workspaceId, status, notes } = body;
D:\Unite-Hub\src\app\api\founder\memory\opportunities\route.ts:110:    if (!opportunityId || !workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\opportunities\route.ts:112:        { error: 'opportunityId and workspaceId are required' },
D:\Unite-Hub\src\app\api\founder\memory\opportunities\route.ts:119:      workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\overload\route.ts:34:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\memory\overload\route.ts:36:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\overload\route.ts:37:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\overload\route.ts:40:    const analysis = await overloadDetectionService.getLatestAnalysis(userId, workspaceId);
D:\Unite-Hub\src\app\api\founder\memory\overload\route.ts:89:    const { workspaceId } = body;
D:\Unite-Hub\src\app\api\founder\memory\overload\route.ts:91:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\overload\route.ts:92:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\overload\route.ts:97:      workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\patterns\route.ts:33:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\memory\patterns\route.ts:39:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\patterns\route.ts:40:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\patterns\route.ts:47:    const patterns = await patternExtractionService.getPatterns(userId, workspaceId, {
D:\Unite-Hub\src\app\api\founder\memory\risks\route.ts:38:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\memory\risks\route.ts:44:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\risks\route.ts:45:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\risks\route.ts:48:    const risks = await riskAnalysisService.getRisks(userId, workspaceId, {
D:\Unite-Hub\src\app\api\founder\memory\risks\route.ts:104:    const { riskId, workspaceId, mitigationStatus, mitigationPlan, notes } = body;
D:\Unite-Hub\src\app\api\founder\memory\risks\route.ts:106:    if (!riskId || !workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\risks\route.ts:108:        { error: 'riskId and workspaceId are required' },
D:\Unite-Hub\src\app\api\founder\memory\risks\route.ts:115:      workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\snapshot\route.ts:36:    const { workspaceId, timeRangeDays = 30, dataSources, includeAIInsight = true } = body;
D:\Unite-Hub\src\app\api\founder\memory\snapshot\route.ts:38:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\snapshot\route.ts:39:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\snapshot\route.ts:47:      workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\snapshot\route.ts:95:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\memory\snapshot\route.ts:98:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\snapshot\route.ts:99:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\snapshot\route.ts:103:      const snapshot = await founderMemoryAggregationService.getSnapshotById(snapshotId, workspaceId);
D:\Unite-Hub\src\app\api\founder\memory\snapshot\route.ts:111:    const snapshot = await founderMemoryAggregationService.getLatestSnapshot(userId, workspaceId);
D:\Unite-Hub\src\app\api\founder\memory\weekly-digest\route.ts:35:    const { workspaceId, weekStartDate } = body;
D:\Unite-Hub\src\app\api\founder\memory\weekly-digest\route.ts:37:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\weekly-digest\route.ts:38:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\weekly-digest\route.ts:45:      workspaceId,
D:\Unite-Hub\src\app\api\founder\memory\weekly-digest\route.ts:94:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\memory\weekly-digest\route.ts:98:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\memory\weekly-digest\route.ts:99:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\memory\weekly-digest\route.ts:104:      const digest = await weeklyDigestService.getDigestById(digestId, workspaceId);
D:\Unite-Hub\src\app\api\founder\memory\weekly-digest\route.ts:130:    const digests = await weeklyDigestService.getDigestHistory(userId, workspaceId, limit);
D:\Unite-Hub\src\app\api\founder\momentum\route.ts:11:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\momentum\route.ts:14:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\momentum\route.ts:15:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\momentum\route.ts:21:      const momentum = await calculateMomentum(workspaceId);
D:\Unite-Hub\src\app\api\founder\momentum\route.ts:28:      const summary = await getMomentumSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\momentum\route.ts:38:    const momentumIndex = await listMomentumIndex(workspaceId, {
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:40:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:49:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:50:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:68:      const stats = await getNotificationStatistics(workspaceId, user.id);
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:73:      const count = await getUnreadCount(workspaceId, user.id);
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:79:      workspaceId,
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:107:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:109:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:110:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:115:      const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:141:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:182:      const count = await markAllNotificationsRead(workspaceId, user.id);
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:214:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:217:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\notifications\route.ts:218:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\observatory\route.ts:11:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\observatory\route.ts:14:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\observatory\route.ts:15:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\observatory\route.ts:20:      const summary = await getObservatorySummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\observatory\route.ts:28:    const items = await listObservatoryEvents(workspaceId, {
D:\Unite-Hub\src\app\api\founder\observatory\route.ts:44:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\observatory\route.ts:46:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\observatory\route.ts:47:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\observatory\route.ts:58:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\ops\brand-workload\route.ts:15:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\ops\brand-workload\route.ts:16:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\brand-workload\route.ts:17:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ops\brand-workload\route.ts:37:          p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:21:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:24:        { error: 'Missing workspaceId parameter' },
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:51:    if (profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:55:    logger.info('Fetching overview metrics', { workspaceId, userId: user.id });
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:61:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:72:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:84:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:99:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:110:      p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:122:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:138:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:159:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\founder\ops\overview\route.ts:189:    logger.info('Overview metrics fetched', { workspaceId, metrics });
D:\Unite-Hub\src\app\api\founder\ops\queue\daily\route.ts:14:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\ops\queue\daily\route.ts:17:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\queue\daily\route.ts:18:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ops\queue\daily\route.ts:33:        p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\founder\ops\queue\daily\route.ts:44:      p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\founder\ops\queue\pause\route.ts:14:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\ops\queue\pause\route.ts:17:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\queue\pause\route.ts:18:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ops\queue\pause\route.ts:35:      p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\founder\ops\queue\pause\route.ts:45:    logger.info('Queue paused', { workspaceId, date, userId: user.id });
D:\Unite-Hub\src\app\api\founder\ops\queue\resume\route.ts:14:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\ops\queue\resume\route.ts:17:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\queue\resume\route.ts:18:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ops\queue\resume\route.ts:31:      p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\founder\ops\queue\resume\route.ts:39:    logger.info('Queue resumed', { workspaceId, date, userId: user.id });
D:\Unite-Hub\src\app\api\founder\ops\queue\weekly\route.ts:14:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\ops\queue\weekly\route.ts:15:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\queue\weekly\route.ts:16:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ops\queue\weekly\route.ts:42:        p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:22:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:27:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:28:      return NextResponse.json({ error: 'Missing workspaceId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:53:    if (profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:57:    logger.info('Fetching tasks', { workspaceId, brand, status, priority });
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:63:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:82:    logger.info('Tasks fetched', { workspaceId, count: tasks?.length || 0 });
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:96:      workspaceId,
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:108:    if (!workspaceId || !brandSlug || !archetype || !title || !priority || !channels) {
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:137:    if (profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:141:    logger.info('Creating task', { workspaceId, brandSlug, archetype });
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:145:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\founder\ops\tasks\route.ts:164:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:15:async function verifyFounderAccess(workspaceId: string) {
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:36:  if (profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:48:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:49:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:50:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:53:    const { supabase } = await verifyFounderAccess(workspaceId);
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:59:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:79:    const { workspaceId, ...updates } = body;
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:81:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:82:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:85:    const { supabase } = await verifyFounderAccess(workspaceId);
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:91:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:113:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:114:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:115:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:118:    const { supabase } = await verifyFounderAccess(workspaceId);
D:\Unite-Hub\src\app\api\founder\ops\tasks\[taskId]\route.ts:124:      .eq('workspace_id', workspaceId);
D:\Unite-Hub\src\app\api\founder\ops-graph\route.ts:19:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\ops-graph\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops-graph\route.ts:23:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ops-graph\route.ts:28:      const summary = await getOpsSummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\ops-graph\route.ts:34:      const streams = await listOpsStreams(workspaceId);
D:\Unite-Hub\src\app\api\founder\ops-graph\route.ts:44:    const nodes = await listOpsNodes(workspaceId, {
D:\Unite-Hub\src\app\api\founder\ops-graph\route.ts:61:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\ops-graph\route.ts:64:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\ops-graph\route.ts:65:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\ops-graph\route.ts:73:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\ops-graph\route.ts:84:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\performance-envelope\route.ts:12:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\performance-envelope\route.ts:15:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\performance-envelope\route.ts:17:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\founder\performance-envelope\route.ts:24:        const envelopeId = await calculatePerformanceEnvelope(workspaceId);
D:\Unite-Hub\src\app\api\founder\performance-envelope\route.ts:30:        const summary = await getPerformanceEnvelopeSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\performance-envelope\route.ts:41:        const envelopes = await listPerformanceEnvelope(workspaceId, {
D:\Unite-Hub\src\app\api\founder\performance-telemetry\route.ts:18:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\performance-telemetry\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\performance-telemetry\route.ts:22:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\performance-telemetry\route.ts:28:      const summary = await getPerformanceSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\performance-telemetry\route.ts:39:      const history = await getMetricHistory(workspaceId, metricCode as any, days);
D:\Unite-Hub\src\app\api\founder\performance-telemetry\route.ts:47:    const metrics = await listPerformanceMetrics(workspaceId, {
D:\Unite-Hub\src\app\api\founder\performance-telemetry\route.ts:62:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\performance-telemetry\route.ts:64:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\performance-telemetry\route.ts:65:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\performance-telemetry\route.ts:71:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\policies\route.ts:43:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\policies\route.ts:50:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\policies\route.ts:51:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\policies\route.ts:54:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\policies\route.ts:63:      const policy = await getPolicy(policyId, workspaceId);
D:\Unite-Hub\src\app\api\founder\policies\route.ts:71:      const stats = await getPolicyStatistics(workspaceId);
D:\Unite-Hub\src\app\api\founder\policies\route.ts:77:        workspaceId,
D:\Unite-Hub\src\app\api\founder\policies\route.ts:95:      workspaceId,
D:\Unite-Hub\src\app\api\founder\policies\route.ts:119:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\founder\policies\route.ts:121:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\policies\route.ts:122:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\policies\route.ts:125:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\policies\route.ts:152:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\policies\route.ts:177:        workspaceId,
D:\Unite-Hub\src\app\api\founder\policies\route.ts:193:        workspaceId,
D:\Unite-Hub\src\app\api\founder\policies\route.ts:230:      workspaceId,
D:\Unite-Hub\src\app\api\founder\policies\route.ts:242:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\policies\route.ts:243:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\policies\route.ts:246:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\policies\route.ts:255:    await updatePolicy(policyId, workspaceId, {
D:\Unite-Hub\src\app\api\founder\policies\route.ts:286:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\policies\route.ts:289:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\policies\route.ts:290:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\policies\route.ts:293:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\policies\route.ts:302:    await deletePolicy(policyId, workspaceId);
D:\Unite-Hub\src\app\api\founder\preemptive-risk-grid\route.ts:13:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\preemptive-risk-grid\route.ts:16:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\preemptive-risk-grid\route.ts:18:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\founder\preemptive-risk-grid\route.ts:27:          tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\preemptive-risk-grid\route.ts:35:        const summary = await getPreemptiveRiskSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\preemptive-risk-grid\route.ts:47:        const risks = await listPreemptiveRisk(workspaceId, {
D:\Unite-Hub\src\app\api\founder\priority-arbiter\route.ts:17:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\priority-arbiter\route.ts:20:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\priority-arbiter\route.ts:21:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\priority-arbiter\route.ts:26:      const summary = await getPrioritySummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\priority-arbiter\route.ts:35:    const decisions = await listPriorityDecisions(workspaceId, {
D:\Unite-Hub\src\app\api\founder\priority-arbiter\route.ts:51:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\priority-arbiter\route.ts:53:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\priority-arbiter\route.ts:54:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\priority-arbiter\route.ts:60:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:41:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:48:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:49:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:52:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:65:      const result = await checkRateLimit(workspaceId, scope, identifier, subject);
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:70:      const stats = await getRateLimitStatistics(workspaceId);
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:76:        workspaceId,
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:86:      workspaceId,
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:110:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:112:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:113:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:116:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:132:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:155:      const result = await checkAndRecordRateLimit(workspaceId, scope, identifier, subject, metadata);
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:193:    const { workspaceId, limitId, maxRequests, windowSize, windowType, enabled, metadata } = body;
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:195:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:196:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:199:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:236:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:239:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:240:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\rate-limits\route.ts:243:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\reality-map\route.ts:19:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\reality-map\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\reality-map\route.ts:23:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\reality-map\route.ts:28:      const summary = await getRealityMapSummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\reality-map\route.ts:35:      const snapshots = await getLatestRealitySnapshots(workspaceId, panelCode);
D:\Unite-Hub\src\app\api\founder\reality-map\route.ts:41:    const panels = await listRealityPanels(workspaceId, { status });
D:\Unite-Hub\src\app\api\founder\reality-map\route.ts:52:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\reality-map\route.ts:55:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\reality-map\route.ts:56:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\reality-map\route.ts:64:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\reality-map\route.ts:76:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:22:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:25:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:26:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:32:      const summary = await getRecoverySummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:38:      const recommendations = await autoRecommendRecovery(workspaceId);
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:49:      const actions = await listRecoveryActions(workspaceId, {
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:65:    const states = await listRecoveryStates(workspaceId, {
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:82:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:85:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:86:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:94:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:108:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:129:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:131:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\recovery-protocols\route.ts:132:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\remediation\route.ts:20:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\remediation\route.ts:24:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\remediation\route.ts:25:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\remediation\route.ts:30:      const summary = await getRemediationSummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\remediation\route.ts:45:    const items = await listRemediationTasks(workspaceId, {
D:\Unite-Hub\src\app\api\founder\remediation\route.ts:61:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\remediation\route.ts:64:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\remediation\route.ts:65:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\remediation\route.ts:106:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\resilience\route.ts:11:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\resilience\route.ts:14:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\resilience\route.ts:15:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\resilience\route.ts:21:      const resilience = await calculateResilienceScore(workspaceId);
D:\Unite-Hub\src\app\api\founder\resilience\route.ts:28:      const summary = await getResilienceSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\resilience\route.ts:38:    const metrics = await listResilienceMetrics(workspaceId, {
D:\Unite-Hub\src\app\api\founder\risk\route.ts:38:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\risk\route.ts:43:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\risk\route.ts:44:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\risk\route.ts:47:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\risk\route.ts:56:      const score = await getRiskScore(workspaceId, category);
D:\Unite-Hub\src\app\api\founder\risk\route.ts:65:        workspaceId,
D:\Unite-Hub\src\app\api\founder\risk\route.ts:74:      const overview = await getRiskOverview(workspaceId);
D:\Unite-Hub\src\app\api\founder\risk\route.ts:79:    const scores = await listRiskScores(workspaceId);
D:\Unite-Hub\src\app\api\founder\risk\route.ts:100:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\founder\risk\route.ts:102:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\risk\route.ts:103:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\risk\route.ts:106:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\risk\route.ts:122:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\risk\route.ts:152:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\risk\route.ts:173:      await resolveRiskEvent(eventId, workspaceId, user.id, resolutionNotes, scoreReduction);
D:\Unite-Hub\src\app\api\founder\risk\ai-review\route.ts:40:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\founder\risk\ai-review\route.ts:49:    const event = await getRiskEvent(tenantId, event_id);
D:\Unite-Hub\src\app\api\founder\risk\events\route.ts:55:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\founder\risk\events\route.ts:62:      const event = await getRiskEvent(tenantId, id);
D:\Unite-Hub\src\app\api\founder\risk\events\route.ts:71:      if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\risk\events\route.ts:75:      const summary = await getRiskSummary(tenantId, days);
D:\Unite-Hub\src\app\api\founder\risk\events\route.ts:85:    const events = await listRiskEvents(tenantId, {
D:\Unite-Hub\src\app\api\founder\risk\events\route.ts:125:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\founder\risk\events\route.ts:137:      const event = await resolveRiskEvent(tenantId, eventId, user.id);
D:\Unite-Hub\src\app\api\founder\risk\events\route.ts:158:    const event = await createRiskEvent(tenantId, input);
D:\Unite-Hub\src\app\api\founder\risk\policies\route.ts:55:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\founder\risk\policies\route.ts:62:      const policy = await getPolicy(tenantId, id);
D:\Unite-Hub\src\app\api\founder\risk\policies\route.ts:74:      const violations = await listViolations(tenantId, {
D:\Unite-Hub\src\app\api\founder\risk\policies\route.ts:88:    const policies = await listPolicies(tenantId, {
D:\Unite-Hub\src\app\api\founder\risk\policies\route.ts:127:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\founder\risk\policies\route.ts:147:      const policy = await updatePolicy(tenantId, policyId, updates);
D:\Unite-Hub\src\app\api\founder\risk\policies\route.ts:158:      await deletePolicy(tenantId, policyId);
D:\Unite-Hub\src\app\api\founder\risk\policies\route.ts:178:    const policy = await createPolicy(tenantId, input);
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:29:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:32:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:33:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:36:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:46:        workspaceId,
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:81:        workspaceId,
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:131:    const { action, workspaceId } = body;
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:133:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:134:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:137:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:152:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:205:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:269:    const { action, workspaceId } = body;
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:271:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:272:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:275:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:329:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:332:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:333:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\runbooks\route.ts:336:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\security\route.ts:44:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\security\route.ts:55:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\security\route.ts:57:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\founder\security\route.ts:63:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\security\route.ts:77:      const session = await getUserSession(sessionId, workspaceId);
D:\Unite-Hub\src\app\api\founder\security\route.ts:86:      const sessions = await getActiveSessions(workspaceId);
D:\Unite-Hub\src\app\api\founder\security\route.ts:98:      const sessions = await getUserSessionsByUser(userId, workspaceId, limit);
D:\Unite-Hub\src\app\api\founder\security\route.ts:104:        workspaceId,
D:\Unite-Hub\src\app\api\founder\security\route.ts:113:      const summary = await getSecurityEventSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\security\route.ts:118:      const events = await getFailedLoginAttempts(workspaceId, hours);
D:\Unite-Hub\src\app\api\founder\security\route.ts:124:      workspaceId,
D:\Unite-Hub\src\app\api\founder\security\route.ts:157:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\founder\security\route.ts:159:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\security\route.ts:161:        { error: "workspaceId required" },
D:\Unite-Hub\src\app\api\founder\security\route.ts:167:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\security\route.ts:194:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\security\route.ts:209:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\security\route.ts:238:      await invalidateSession(sessionId, workspaceId);
D:\Unite-Hub\src\app\api\founder\security\route.ts:243:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\security\route.ts:287:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\self-eval\route.ts:20:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\self-eval\route.ts:23:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\self-eval\route.ts:24:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\self-eval\route.ts:29:      const summary = await getEvaluationSummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\self-eval\route.ts:39:      const factors = await listEvaluationFactors(workspaceId, cycleCode);
D:\Unite-Hub\src\app\api\founder\self-eval\route.ts:46:    const cycles = await listEvaluationCycles(workspaceId, { status, limit });
D:\Unite-Hub\src\app\api\founder\self-eval\route.ts:57:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\self-eval\route.ts:60:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\self-eval\route.ts:61:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\self-eval\route.ts:79:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\self-eval\route.ts:92:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\slas\route.ts:28:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\slas\route.ts:31:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\slas\route.ts:32:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\slas\route.ts:35:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\slas\route.ts:44:        workspaceId,
D:\Unite-Hub\src\app\api\founder\slas\route.ts:53:      const overview = await slaService.getUptimeOverview(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\slas\route.ts:64:      const summary = await slaService.getSLASummary(workspaceId, slaId, days);
D:\Unite-Hub\src\app\api\founder\slas\route.ts:73:        workspaceId,
D:\Unite-Hub\src\app\api\founder\slas\route.ts:86:        workspaceId,
D:\Unite-Hub\src\app\api\founder\slas\route.ts:117:    const { action, workspaceId } = body;
D:\Unite-Hub\src\app\api\founder\slas\route.ts:119:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\slas\route.ts:120:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\slas\route.ts:123:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\slas\route.ts:138:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\slas\route.ts:160:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\slas\route.ts:180:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\slas\route.ts:226:    const { action, workspaceId } = body;
D:\Unite-Hub\src\app\api\founder\slas\route.ts:228:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\slas\route.ts:229:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\slas\route.ts:232:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\stability-guard\route.ts:14:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\stability-guard\route.ts:17:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\stability-guard\route.ts:18:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\stability-guard\route.ts:24:      const anomalies = await detectStabilityAnomalies(workspaceId);
D:\Unite-Hub\src\app\api\founder\stability-guard\route.ts:31:      const summary = await getAlertSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\stability-guard\route.ts:37:      const alertCount = await runAutomatedDetection(workspaceId);
D:\Unite-Hub\src\app\api\founder\stability-guard\route.ts:46:    const alerts = await listStabilityAlerts(workspaceId, {
D:\Unite-Hub\src\app\api\founder\stability-guard\route.ts:61:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\stability-guard\route.ts:63:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\stability-guard\route.ts:64:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\stability-horizon\route.ts:13:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\stability-horizon\route.ts:16:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\stability-horizon\route.ts:18:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\founder\stability-horizon\route.ts:27:          tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\stability-horizon\route.ts:35:        const summary = await getStabilityHorizonSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\stability-horizon\route.ts:47:        const horizons = await listStabilityHorizon(workspaceId, {
D:\Unite-Hub\src\app\api\founder\systemic-drift\route.ts:13:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\systemic-drift\route.ts:16:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\systemic-drift\route.ts:17:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\systemic-drift\route.ts:27:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\systemic-drift\route.ts:37:      const summary = await getDriftSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\systemic-drift\route.ts:48:    const drifts = await listSystemicDrift(workspaceId, {
D:\Unite-Hub\src\app\api\founder\systemic-drift\route.ts:65:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\systemic-drift\route.ts:67:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\systemic-drift\route.ts:68:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\systemic-drift\route.ts:78:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\systemic-drift\route.ts:89:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\task-routing\route.ts:19:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\task-routing\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\task-routing\route.ts:23:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\task-routing\route.ts:28:      const summary = await getQueueSummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\task-routing\route.ts:38:    const tasks = await listTasks(workspaceId, {
D:\Unite-Hub\src\app\api\founder\task-routing\route.ts:55:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\task-routing\route.ts:58:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\task-routing\route.ts:59:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\task-routing\route.ts:86:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\time-blocks\route.ts:18:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\time-blocks\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\time-blocks\route.ts:22:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\time-blocks\route.ts:28:      const summary = await getTimeBlockSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\time-blocks\route.ts:38:    const blocks = await listTimeBlocks(workspaceId, {
D:\Unite-Hub\src\app\api\founder\time-blocks\route.ts:55:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\time-blocks\route.ts:58:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\time-blocks\route.ts:59:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\time-blocks\route.ts:80:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\timeline\route.ts:21:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\timeline\route.ts:23:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\timeline\route.ts:24:return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\timeline\route.ts:27:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\timeline\route.ts:36:        p_tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\founder\timeline\route.ts:52:      p_tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\founder\trend-forecast\route.ts:12:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\trend-forecast\route.ts:15:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\trend-forecast\route.ts:16:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\trend-forecast\route.ts:23:      const forecast = await generateTrendForecast(workspaceId, window);
D:\Unite-Hub\src\app\api\founder\trend-forecast\route.ts:29:      const summary = await getForecastSummary(workspaceId);
D:\Unite-Hub\src\app\api\founder\trend-forecast\route.ts:39:    const forecasts = await listTrendForecasts(workspaceId, {
D:\Unite-Hub\src\app\api\founder\trend-forecast\route.ts:55:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\trend-forecast\route.ts:57:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\trend-forecast\route.ts:58:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\trend-forecast\route.ts:65:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\trends\route.ts:18:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\trends\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\trends\route.ts:22:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\trends\route.ts:28:      const summary = await getTrendSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\trends\route.ts:39:      const trend = await getMetricTrend(workspaceId, metricCode, days);
D:\Unite-Hub\src\app\api\founder\trends\route.ts:48:    const metrics = await listTrendMetrics(workspaceId, {
D:\Unite-Hub\src\app\api\founder\trends\route.ts:64:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\trends\route.ts:66:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\trends\route.ts:67:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\trends\route.ts:73:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\twin\context\route.ts:28:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\founder\twin\context\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\context\route.ts:33:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\context\route.ts:40:      const context = await getFullFounderContext(tenantId);
D:\Unite-Hub\src\app\api\founder\twin\context\route.ts:44:      const contextText = await getFounderContextForAI(tenantId);
D:\Unite-Hub\src\app\api\founder\twin\initialize\route.ts:25:    const { tenantId, companyName } = body;
D:\Unite-Hub\src\app\api\founder\twin\initialize\route.ts:27:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\initialize\route.ts:29:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\initialize\route.ts:34:    const result = await initializeFounderTwin(tenantId, user.id, companyName);
D:\Unite-Hub\src\app\api\founder\twin\playbooks\route.ts:31:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\founder\twin\playbooks\route.ts:37:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\playbooks\route.ts:39:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\playbooks\route.ts:44:    const playbooks = await listPlaybooks(tenantId, {
D:\Unite-Hub\src\app\api\founder\twin\playbooks\route.ts:77:    const { tenantId, generateSteps, ...playbookData } = body;
D:\Unite-Hub\src\app\api\founder\twin\playbooks\route.ts:79:    if (!tenantId || !playbookData.name || !playbookData.slug) {
D:\Unite-Hub\src\app\api\founder\twin\playbooks\route.ts:81:        { error: 'tenantId, name, and slug are required' },
D:\Unite-Hub\src\app\api\founder\twin\playbooks\route.ts:107:    const playbook = await upsertPlaybook(tenantId, finalPlaybookData, user.id);
D:\Unite-Hub\src\app\api\founder\twin\playbooks\[id]\route.ts:68:    const { tenantId, ...playbookData } = body;
D:\Unite-Hub\src\app\api\founder\twin\playbooks\[id]\route.ts:70:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\playbooks\[id]\route.ts:72:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\playbooks\[id]\route.ts:77:    const playbook = await upsertPlaybook(tenantId, playbookData, user.id, id);
D:\Unite-Hub\src\app\api\founder\twin\playbooks\[id]\route.ts:106:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\founder\twin\playbooks\[id]\route.ts:108:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\playbooks\[id]\route.ts:110:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\playbooks\[id]\route.ts:115:    await deletePlaybook(id, tenantId);
D:\Unite-Hub\src\app\api\founder\twin\preferences\route.ts:31:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\founder\twin\preferences\route.ts:35:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\preferences\route.ts:37:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\preferences\route.ts:45:      const values = await getPreferencesByKeys(tenantId, keyList);
D:\Unite-Hub\src\app\api\founder\twin\preferences\route.ts:50:    const preferences = await listPreferences(tenantId, {
D:\Unite-Hub\src\app\api\founder\twin\preferences\route.ts:80:    const { tenantId, ...preferenceData } = body;
D:\Unite-Hub\src\app\api\founder\twin\preferences\route.ts:82:    if (!tenantId || !preferenceData.key || preferenceData.value === undefined) {
D:\Unite-Hub\src\app\api\founder\twin\preferences\route.ts:84:        { error: 'tenantId, key, and value are required' },
D:\Unite-Hub\src\app\api\founder\twin\preferences\route.ts:89:    const preference = await upsertPreference(tenantId, preferenceData, user.id);
D:\Unite-Hub\src\app\api\founder\twin\principles\route.ts:31:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\founder\twin\principles\route.ts:36:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\principles\route.ts:38:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\principles\route.ts:43:    const principles = await listPrinciples(tenantId, {
D:\Unite-Hub\src\app\api\founder\twin\principles\route.ts:75:    const { tenantId, normalize, ...principleData } = body;
D:\Unite-Hub\src\app\api\founder\twin\principles\route.ts:77:    if (!tenantId || !principleData.title) {
D:\Unite-Hub\src\app\api\founder\twin\principles\route.ts:79:        { error: 'tenantId and title are required' },
D:\Unite-Hub\src\app\api\founder\twin\principles\route.ts:99:    const principle = await upsertPrinciple(tenantId, finalPrincipleData, user.id);
D:\Unite-Hub\src\app\api\founder\twin\principles\[id]\route.ts:67:    const { tenantId, ...principleData } = body;
D:\Unite-Hub\src\app\api\founder\twin\principles\[id]\route.ts:69:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\principles\[id]\route.ts:71:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\principles\[id]\route.ts:76:    const principle = await upsertPrinciple(tenantId, principleData, user.id, id);
D:\Unite-Hub\src\app\api\founder\twin\principles\[id]\route.ts:105:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\founder\twin\principles\[id]\route.ts:107:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\principles\[id]\route.ts:109:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\principles\[id]\route.ts:114:    await deletePrinciple(id, tenantId);
D:\Unite-Hub\src\app\api\founder\twin\profile\route.ts:29:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\founder\twin\profile\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\profile\route.ts:33:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\profile\route.ts:38:    const profile = await getFounderProfile(tenantId);
D:\Unite-Hub\src\app\api\founder\twin\profile\route.ts:63:    const { tenantId, ...profileData } = body;
D:\Unite-Hub\src\app\api\founder\twin\profile\route.ts:65:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\profile\route.ts:67:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\profile\route.ts:72:    const profile = await upsertFounderProfile(tenantId, profileData, user.id);
D:\Unite-Hub\src\app\api\founder\twin\settings\route.ts:29:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\founder\twin\settings\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\settings\route.ts:33:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\settings\route.ts:38:    const settings = await getFounderSettings(tenantId);
D:\Unite-Hub\src\app\api\founder\twin\settings\route.ts:63:    const { tenantId, ...settingsData } = body;
D:\Unite-Hub\src\app\api\founder\twin\settings\route.ts:65:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\twin\settings\route.ts:67:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\founder\twin\settings\route.ts:72:    const settings = await upsertFounderSettings(tenantId, settingsData, user.id);
D:\Unite-Hub\src\app\api\founder\unified-state\route.ts:12:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\unified-state\route.ts:15:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\unified-state\route.ts:16:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\unified-state\route.ts:22:      const state = await calculateUnifiedState(workspaceId);
D:\Unite-Hub\src\app\api\founder\unified-state\route.ts:29:      const summary = await getUnifiedStateSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\unified-state\route.ts:39:    const states = await listUnifiedState(workspaceId, {
D:\Unite-Hub\src\app\api\founder\unified-state\route.ts:55:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\unified-state\route.ts:57:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\unified-state\route.ts:58:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\unified-state\route.ts:65:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:43:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:48:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:49:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:52:    const canView = await hasPermission(user.id, workspaceId, "settings", "read");
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:61:      const endpoint = await getWebhookEndpoint(endpointId, workspaceId);
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:70:        workspaceId,
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:79:      const stats = await getWebhookStatistics(workspaceId);
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:85:      workspaceId,
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:108:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:110:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:111:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:114:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:130:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:156:        tenantId: workspaceId,
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:173:        workspaceId,
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:190:      const result = await testWebhookEndpoint(endpointId, workspaceId);
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:218:    const { workspaceId, endpointId, ...updates } = body;
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:220:    if (!workspaceId || !endpointId) {
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:222:        { error: "workspaceId and endpointId required" },
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:227:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:232:    await updateWebhookEndpoint(endpointId, workspaceId, updates);
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:254:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:257:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:258:      return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:261:    const canWrite = await hasPermission(user.id, workspaceId, "settings", "write");
D:\Unite-Hub\src\app\api\founder\webhooks\route.ts:270:    await deleteWebhookEndpoint(endpointId, workspaceId);
D:\Unite-Hub\src\app\api\founder\webhooks\stripe-managed-service\route.ts:132:    const tenantId = productMetadata.tenant_id || customer.metadata?.tenant_id;
D:\Unite-Hub\src\app\api\founder\webhooks\stripe-managed-service\route.ts:134:    if (!tenantId) {
D:\Unite-Hub\src\app\api\founder\webhooks\stripe-managed-service\route.ts:143:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\founder\workload-regulator\route.ts:11:  const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\founder\workload-regulator\route.ts:14:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\founder\workload-regulator\route.ts:15:    return NextResponse.json({ error: "workspaceId required" }, { status: 400 });
D:\Unite-Hub\src\app\api\founder\workload-regulator\route.ts:21:      const recommendation = await calculateWorkloadRecommendation(workspaceId);
D:\Unite-Hub\src\app\api\founder\workload-regulator\route.ts:28:      const summary = await getWorkloadSummary(workspaceId, days);
D:\Unite-Hub\src\app\api\founder\workload-regulator\route.ts:38:    const recommendations = await listWorkloadRecommendations(workspaceId, {
D:\Unite-Hub\src\app\api\generated-content\route.ts:18:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\generated-content\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\generated-content\route.ts:34:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\generated-content\route.ts:89:    const { workspaceId, title, type, platform, thumbnailUrl, previewText, aiPrompt } = body;
D:\Unite-Hub\src\app\api\generated-content\route.ts:91:    if (!workspaceId || !title || !type) {
D:\Unite-Hub\src\app\api\generated-content\route.ts:93:        { error: "workspaceId, title, and type are required" },
D:\Unite-Hub\src\app\api\generated-content\route.ts:103:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\generated-content\[id]\approve\route.ts:22:    const { workspaceId } = body;
D:\Unite-Hub\src\app\api\generated-content\[id]\approve\route.ts:24:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\generated-content\[id]\approve\route.ts:41:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\generated-content\[id]\approve\route.ts:62:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\governance\charter\route.ts:19:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\governance\charter\route.ts:22:    if (tenantId) {
D:\Unite-Hub\src\app\api\governance\charter\route.ts:23:      const status = await getTenantComplianceStatus(tenantId);
D:\Unite-Hub\src\app\api\governance\charter\route.ts:66:    const { tenantId, agentName } = await req.json();
D:\Unite-Hub\src\app\api\governance\charter\route.ts:68:    const result = await checkCompliance(tenantId, agentName);
D:\Unite-Hub\src\app\api\governance\meta\profiles\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\governance\meta\profiles\route.ts:20:    if (!tenantId) {
D:\Unite-Hub\src\app\api\governance\meta\profiles\route.ts:21:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\governance\meta\profiles\route.ts:25:      const profile = await getActiveProfile(tenantId);
D:\Unite-Hub\src\app\api\governance\meta\profiles\route.ts:29:    const profiles = await getProfiles(tenantId);
D:\Unite-Hub\src\app\api\governance\meta\settings\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\governance\meta\settings\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\governance\meta\settings\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\governance\meta\settings\route.ts:23:    const logs = await getChangeLogs(tenantId);
D:\Unite-Hub\src\app\api\governance\meta\settings\route.ts:45:    const { tenantId, profileId, settings, reason } = await req.json();
D:\Unite-Hub\src\app\api\governance\meta\settings\route.ts:46:    if (!tenantId || !profileId || !settings || !reason) {
D:\Unite-Hub\src\app\api\governance\meta\settings\route.ts:50:    const success = await updateSettings(tenantId, profileId, settings, userData.user.id, reason);
D:\Unite-Hub\src\app\api\guardian\access-audit\route.ts:38:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\access-audit\route.ts:42:      const summary = await getGuardianAccessAuditSummary(tenantId);
D:\Unite-Hub\src\app\api\guardian\access-audit\route.ts:46:        tenantId,
D:\Unite-Hub\src\app\api\guardian\access-audit\route.ts:76:    const records = await listGuardianAccessAudit(tenantId, {
D:\Unite-Hub\src\app\api\guardian\access-audit\route.ts:85:      tenantId,
D:\Unite-Hub\src\app\api\guardian\access-audit\route.ts:114:      const { tenantId } = await getGuardianTenantContext().catch(() => ({
D:\Unite-Hub\src\app\api\guardian\access-audit\route.ts:115:        tenantId: 'UNKNOWN_TENANT',
D:\Unite-Hub\src\app\api\guardian\access-audit\route.ts:123:        tenantId,
D:\Unite-Hub\src\app\api\guardian\activity\route.ts:30:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\activity\route.ts:39:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\guardian\activity\route.ts:49:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\guardian\activity\route.ts:57:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\guardian\activity\route.ts:80:      tenantId,
D:\Unite-Hub\src\app\api\guardian\admin\ai\eval\run\route.ts:20:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\admin\ai\eval\run\route.ts:27:      tenantId: body.tenantScope === 'global-only' ? undefined : tenantId,
D:\Unite-Hub\src\app\api\guardian\admin\ai\eval\run\route.ts:32:      tenantId,
D:\Unite-Hub\src\app\api\guardian\admin\ai\eval\runs\route.ts:20:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\admin\ai\eval\runs\route.ts:32:      .or(`tenant_id.is.null,tenant_id.eq.${tenantId}`)
D:\Unite-Hub\src\app\api\guardian\admin\ai\settings\route.ts:19:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\admin\ai\settings\route.ts:21:    const settings = await getGuardianAiSettings(tenantId);
D:\Unite-Hub\src\app\api\guardian\admin\ai\settings\route.ts:35:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\admin\ai\settings\route.ts:41:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\guardian\admin\ai\settings\route.ts:94:    console.log('[Guardian H05] AI settings updated:', { tenantId, userId });
D:\Unite-Hub\src\app\api\guardian\admin\ai\usage\route.ts:17:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\admin\ai\usage\route.ts:31:    const usage = await getGuardianAiUsageSummary(tenantId, windowHours);
D:\Unite-Hub\src\app\api\guardian\admin\ai\usage\route.ts:36:        tenantId,
D:\Unite-Hub\src\app\api\guardian\admin\drills\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\drills\route.ts:14:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\drills\route.ts:15:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\drills\route.ts:18:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\route.ts:29:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\drills\route.ts:54:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\drills\route.ts:55:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\drills\route.ts:56:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\drills\route.ts:59:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\route.ts:76:    const template = await buildDrillTemplateFromSimulation(workspaceId, source);
D:\Unite-Hub\src\app\api\guardian\admin\drills\route.ts:87:    const drillId = await createDrillFromTemplate(workspaceId, finalTemplate, source);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\complete\route.ts:16:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\complete\route.ts:17:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\complete\route.ts:18:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\complete\route.ts:21:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\complete\route.ts:36:    await completeDrillRun(workspaceId, runId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\complete\route.ts:43:        score = await generateDrillScore(workspaceId, runId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\complete\route.ts:44:        await persistDrillScore(workspaceId, runId, score);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\responses\route.ts:16:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\responses\route.ts:17:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\responses\route.ts:18:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\responses\route.ts:21:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\responses\route.ts:26:    const responses = await getDrillResponses(workspaceId, runId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\responses\route.ts:35:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\responses\route.ts:36:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\responses\route.ts:37:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\responses\route.ts:40:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\responses\route.ts:58:    await recordDrillResponse(workspaceId, runId, eventId, operatorId, {
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\timeline\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\timeline\route.ts:16:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\timeline\route.ts:17:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\timeline\route.ts:20:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\runs\[id]\timeline\route.ts:25:    const timeline = await getDrillTimeline(workspaceId, runId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\route.ts:16:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\route.ts:17:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\route.ts:18:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\route.ts:21:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\route.ts:30:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\route.ts:42:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\route.ts:57:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\route.ts:58:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\route.ts:59:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\route.ts:62:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\route.ts:81:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\start\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\start\route.ts:16:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\start\route.ts:17:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\start\route.ts:20:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\drills\[id]\start\route.ts:35:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\decisions\route.ts:19:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\decisions\route.ts:20:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\decisions\route.ts:21:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\decisions\route.ts:24:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\decisions\route.ts:40:    const decisions = await listGateDecisions(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\decisions\[id]\route.ts:18:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\decisions\[id]\route.ts:20:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\decisions\[id]\route.ts:21:      return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\decisions\[id]\route.ts:24:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\decisions\[id]\route.ts:27:      const decision = await getGateDecision(workspaceId, id);
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\run\route.ts:22:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\run\route.ts:23:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\run\route.ts:24:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\run\route.ts:27:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\gatekeeper\run\route.ts:57:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\admin\network\cleanup\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\network\cleanup\route.ts:18:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\network\cleanup\route.ts:19:throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\admin\network\cleanup\route.ts:22:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\network\cleanup\route.ts:29:    const results = await cleanupForTenant(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\admin\network\cleanup\route.ts:37:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\admin\network\governance\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\network\governance\route.ts:18:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\network\governance\route.ts:19:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\network\governance\route.ts:22:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\network\governance\route.ts:39:    const events = await getNetworkGovernanceEventsForTenant(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\admin\network\lifecycle\route.ts:16:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\network\lifecycle\route.ts:17:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\network\lifecycle\route.ts:18:throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\admin\network\lifecycle\route.ts:21:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\network\lifecycle\route.ts:52:  const events = await getLifecycleAuditEvents(workspaceId, options);
D:\Unite-Hub\src\app\api\guardian\admin\network\overview\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\network\overview\route.ts:18:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\network\overview\route.ts:19:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\network\overview\route.ts:22:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\network\overview\route.ts:25:    const overview = await getNetworkOverviewForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\network\retention\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\network\retention\route.ts:18:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\network\retention\route.ts:19:throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\admin\network\retention\route.ts:22:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\network\retention\route.ts:24:  const policy = await getRetentionPolicyForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\network\retention\route.ts:29:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\network\retention\route.ts:30:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\network\retention\route.ts:31:throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\admin\network\retention\route.ts:34:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\network\retention\route.ts:44:    workspaceId,
D:\Unite-Hub\src\app\api\guardian\admin\network\settings\route.ts:22:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\network\settings\route.ts:23:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\network\settings\route.ts:24:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\network\settings\route.ts:27:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\network\settings\route.ts:30:    const flags = await getNetworkFeatureFlagsForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\network\settings\route.ts:46:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\network\settings\route.ts:47:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\network\settings\route.ts:48:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\network\settings\route.ts:51:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\network\settings\route.ts:70:    const updated = await upsertNetworkFeatureFlags(workspaceId, patch, actorId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\ai-usage\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\ai-usage\route.ts:16:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\ai-usage\route.ts:17:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\ai-usage\route.ts:25:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\ai-usage\route.ts:32:    let summary = await getAiUsageSummaryForTenant(workspaceId, fromDate, toDate);
D:\Unite-Hub\src\app\api\guardian\admin\qa\audit\route.ts:14:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\audit\route.ts:15:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\audit\route.ts:16:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\audit\route.ts:19:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\audit\route.ts:33:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:21:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:22:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:23:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:26:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:33:    const baselines = await listBaselines(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:50:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:51:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:52:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:55:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:81:      baseline = await createBaselineFromRegressionRun(workspaceId, name, source_id, {
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:87:      baseline = await createBaselineFromSimulationRun(workspaceId, name, source_id, {
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\route.ts:94:      baseline = await createBaselineFromPlaybookSimulationRun(workspaceId, name, source_id, {
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:20:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:21:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:22:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:25:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:30:    const baseline = await getBaseline(workspaceId, id);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:42:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:43:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:44:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:47:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:65:    const updated = await markBaselineAsReference(workspaceId, id, is_reference);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:77:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:78:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:79:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:82:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\baselines\[id]\route.ts:87:    await deleteBaseline(workspaceId, id);
D:\Unite-Hub\src\app\api\guardian\admin\qa\drift\route.ts:14:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\drift\route.ts:15:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\drift\route.ts:16:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\drift\route.ts:19:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\drift\route.ts:27:    const reports = await listDriftReports(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\admin\qa\drift\[id]\route.ts:18:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\drift\[id]\route.ts:19:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\drift\[id]\route.ts:20:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\drift\[id]\route.ts:23:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\drift\[id]\route.ts:28:    const report = await getDriftReport(workspaceId, id);
D:\Unite-Hub\src\app\api\guardian\admin\qa\overview\route.ts:14:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\overview\route.ts:15:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\overview\route.ts:16:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\overview\route.ts:19:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\overview\route.ts:21:  const overview = await getQaOverviewForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\route.ts:16:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\route.ts:17:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\route.ts:18:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\route.ts:25:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\route.ts:33:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\route.ts:64:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\route.ts:65:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\route.ts:66:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\route.ts:69:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\route.ts:94:        tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:18:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:19:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:22:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:33:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:48:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:49:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:50:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:53:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:97:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:113:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:114:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:115:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:118:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\profiles\[id]\route.ts:130:      .eq('tenant_id', workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\route.ts:18:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\route.ts:19:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\route.ts:26:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\route.ts:34:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\route.ts:60:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\route.ts:61:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\route.ts:62:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\route.ts:65:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\route.ts:88:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\route.ts:98:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\[id]\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\[id]\route.ts:16:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\[id]\route.ts:17:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\[id]\route.ts:20:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\performance\runs\[id]\route.ts:36:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\route.ts:18:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\route.ts:19:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\route.ts:20:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\route.ts:23:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\route.ts:30:    const schedules = await listQaSchedules(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\route.ts:47:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\route.ts:48:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\route.ts:49:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\route.ts:52:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\route.ts:73:    const newSchedule = await createQaSchedule(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:24:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:25:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:26:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:29:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:34:    const schedule = await getQaSchedule(workspaceId, id);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:46:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:47:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:48:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:51:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:63:    const updated = await updateQaSchedule(workspaceId, id, {
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:78:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:79:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:80:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:83:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\route.ts:88:    await deleteQaSchedule(workspaceId, id);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\run\route.ts:18:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\run\route.ts:19:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\run\route.ts:20:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\run\route.ts:23:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\schedules\[id]\run\route.ts:35:    tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\admin\qa\settings\route.ts:16:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\settings\route.ts:17:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\settings\route.ts:18:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\settings\route.ts:21:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\settings\route.ts:23:  const flags = await getQaFeatureFlagsForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\settings\route.ts:31:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa\settings\route.ts:32:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa\settings\route.ts:33:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa\settings\route.ts:36:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa\settings\route.ts:79:  const updatedFlags = await upsertQaFeatureFlags(workspaceId, patch, user.id);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\blind-spots\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\blind-spots\route.ts:16:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\blind-spots\route.ts:17:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\blind-spots\route.ts:27:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\blind-spots\route.ts:30:    const blindSpots = await getBlindSpots(workspaceId, riskLevel || undefined);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\snapshot\route.ts:16:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\snapshot\route.ts:17:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\snapshot\route.ts:18:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\snapshot\route.ts:21:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\snapshot\route.ts:24:    const snapshot = await createCoverageSnapshot(workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\snapshot\route.ts:39:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\snapshot\route.ts:40:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\snapshot\route.ts:41:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\snapshot\route.ts:44:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\snapshot\route.ts:47:    const snapshot = await getLatestSnapshot(workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\trend\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\trend\route.ts:16:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\trend\route.ts:17:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\trend\route.ts:23:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\qa-coverage\trend\route.ts:26:    const trend = await getCoverageTrend(workspaceId, lookbackDays);
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\summary\route.ts:19:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\summary\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\summary\route.ts:23:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\summary\route.ts:26:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\summary\route.ts:35:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\summary\route.ts:47:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\timeline\route.ts:26:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\timeline\route.ts:28:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\timeline\route.ts:29:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\timeline\route.ts:32:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\timeline\route.ts:41:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\timeline\route.ts:55:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\trace\route.ts:18:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\trace\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\trace\route.ts:23:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\trace\route.ts:26:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\trace\route.ts:35:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\trace\route.ts:51:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\admin\simulation\runs\[id]\trace\route.ts:67:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\ai\briefings\route.ts:22:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\ai\briefings\route.ts:33:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\guardian\ai\briefings\route.ts:56:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\ai\briefings\route.ts:114:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\guardian\ai\briefings\route.ts:122:        tenantId,
D:\Unite-Hub\src\app\api\guardian\ai\briefings\route.ts:136:      tenantId,
D:\Unite-Hub\src\app\api\guardian\ai\briefings\route.ts:147:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\guardian\ai\correlation\decision\route.ts:28:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\ai\correlation\decision\route.ts:54:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\guardian\ai\correlation\decision\route.ts:75:      .eq('tenant_id', tenantId);
D:\Unite-Hub\src\app\api\guardian\ai\correlation\decision\route.ts:84:      tenantId,
D:\Unite-Hub\src\app\api\guardian\ai\correlation\review\route.ts:25:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\ai\correlation\review\route.ts:62:      tenantId,
D:\Unite-Hub\src\app\api\guardian\ai\correlation\review\route.ts:74:          tenant_id: tenantId,
D:\Unite-Hub\src\app\api\guardian\ai\correlation\review\route.ts:92:      tenantId,
D:\Unite-Hub\src\app\api\guardian\ai\explain\route.ts:13:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\ai\explain\route.ts:44:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\guardian\ai\explain\route.ts:58:      tenantId,
D:\Unite-Hub\src\app\api\guardian\ai\explain\route.ts:92:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\ai\explain\route.ts:103:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\guardian\ai\investigate\route.ts:23:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\ai\investigate\route.ts:58:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\guardian\ai\investigate\route.ts:76:      tenantId,
D:\Unite-Hub\src\app\api\guardian\ai\investigate\route.ts:85:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\guardian\ai\investigate\route.ts:99:      tenantId,
D:\Unite-Hub\src\app\api\guardian\ai\optimize\route.ts:12:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\ai\optimize\route.ts:20:      tenantId,
D:\Unite-Hub\src\app\api\guardian\ai\rules\suggest\route.ts:24:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\ai\rules\suggest\route.ts:46:      tenantId,
D:\Unite-Hub\src\app\api\guardian\alerts\route.ts:25:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\alerts\route.ts:28:      listGuardianAlertRules(tenantId),
D:\Unite-Hub\src\app\api\guardian\alerts\route.ts:29:      listGuardianAlertEvents(tenantId, { limit: 100 }),
D:\Unite-Hub\src\app\api\guardian\alerts\route.ts:54:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\alerts\route.ts:75:      tenantId,
D:\Unite-Hub\src\app\api\guardian\alerts\evaluate\route.ts:28:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\alerts\evaluate\route.ts:31:    const rules = await listGuardianAlertRules(tenantId);
D:\Unite-Hub\src\app\api\guardian\alerts\evaluate\route.ts:35:    const results = await evaluateGuardianAlertRules(tenantId, activeRules);
D:\Unite-Hub\src\app\api\guardian\alerts\evaluate\route.ts:43:          tenant_id: tenantId,
D:\Unite-Hub\src\app\api\guardian\alerts\evaluate\route.ts:58:      await dispatchGuardianAlertWebhooks(tenantId, results, rules);
D:\Unite-Hub\src\app\api\guardian\alerts\evaluate\route.ts:64:      await dispatchGuardianNotifications(tenantId, results, rules, {
D:\Unite-Hub\src\app\api\guardian\alerts\evaluate\route.ts:72:      await bridgeAlertsToIncidents(tenantId, results, userId);
D:\Unite-Hub\src\app\api\guardian\alerts\schedule\route.ts:23:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\alerts\schedule\route.ts:26:    const schedule = await getGuardianAlertSchedule(tenantId);
D:\Unite-Hub\src\app\api\guardian\alerts\schedule\route.ts:62:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\alerts\schedule\route.ts:86:      tenantId,
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:66:      tenantId: string;
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:75:        const { tenant_id: tenantId } = schedule;
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:78:        const rules = await listGuardianAlertRules(tenantId);
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:83:            tenantId,
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:87:          await markAlertScheduleRun(tenantId);
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:92:        const firedEvents = await evaluateGuardianAlertRules(tenantId, activeRules);
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:100:                tenant_id: tenantId,
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:110:                `[Guardian G37] Failed to insert alert event for tenant ${tenantId}:`,
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:118:          await dispatchGuardianAlertWebhooks(tenantId, firedEvents, rules);
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:124:          await dispatchGuardianNotifications(tenantId, firedEvents, rules, {
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:133:          await bridgeAlertsToIncidents(tenantId, firedEvents, 'guardian_scheduler');
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:137:        await markAlertScheduleRun(tenantId);
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:140:          tenantId,
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:146:          `[Guardian G37] Evaluated tenant ${tenantId}: ${activeRules.length} rules, ${firedEvents.length} events fired`
D:\Unite-Hub\src\app\api\guardian\alerts\scheduled-run\route.ts:154:          tenantId: schedule.tenant_id,
D:\Unite-Hub\src\app\api\guardian\anomaly\run\route.ts:25:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\anomaly\run\route.ts:53:      tenantId,
D:\Unite-Hub\src\app\api\guardian\anomaly\run\route.ts:62:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\guardian\anomaly\run\route.ts:80:      tenantId,
D:\Unite-Hub\src\app\api\guardian\correlation\run\route.ts:20:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\correlation\run\route.ts:22:    const result = await correlateRecentGuardianEvents(tenantId);
D:\Unite-Hub\src\app\api\guardian\correlation\run\route.ts:25:      tenantId,
D:\Unite-Hub\src\app\api\guardian\insights\summary\route.ts:20:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\insights\summary\route.ts:22:    const summary = await getGuardianInsightsSummary(tenantId);
D:\Unite-Hub\src\app\api\guardian\meta\adoption\overview\route.ts:8:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\adoption\overview\route.ts:9:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\adoption\overview\route.ts:11:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\adoption\overview\route.ts:18:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\audit\route.ts:13: * GET /api/guardian/meta/audit?workspaceId=...&source=...&entityType=...&limit=50
D:\Unite-Hub\src\app\api\guardian\meta\audit\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\audit\route.ts:18:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\audit\route.ts:20:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\audit\route.ts:54:  const events = await listMetaAuditLog(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\meta\automation\executions\route.ts:12:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\automation\executions\route.ts:13:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\automation\executions\route.ts:15:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\automation\executions\route.ts:25:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\automation\run-scheduler\route.ts:12:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\automation\run-scheduler\route.ts:13:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\automation\run-scheduler\route.ts:15:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\automation\run-scheduler\route.ts:20:    tenantIdOverride: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\automation\run-triggers\route.ts:12:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\automation\run-triggers\route.ts:13:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\automation\run-triggers\route.ts:15:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\automation\run-triggers\route.ts:17:  const result = await runTriggersForTenant(workspaceId, new Date());
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\route.ts:14:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\route.ts:16:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\route.ts:22:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\route.ts:31:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\route.ts:32:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\route.ts:34:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\route.ts:41:      tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\[id]\route.ts:18:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\[id]\route.ts:19:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\[id]\route.ts:21:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\[id]\route.ts:28:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\[id]\route.ts:38:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\[id]\route.ts:39:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\[id]\route.ts:41:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\automation\schedules\[id]\route.ts:52:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\route.ts:14:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\route.ts:16:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\route.ts:22:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\route.ts:31:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\route.ts:32:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\route.ts:34:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\route.ts:41:      tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\[id]\route.ts:18:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\[id]\route.ts:19:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\[id]\route.ts:21:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\[id]\route.ts:28:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\[id]\route.ts:38:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\[id]\route.ts:39:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\[id]\route.ts:41:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\automation\triggers\[id]\route.ts:52:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\backups\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\backups\route.ts:18:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\backups\route.ts:19:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\backups\route.ts:21:  const { backups, total } = await listBackupSets(workspaceId, { limit, offset, status });
D:\Unite-Hub\src\app\api\guardian\meta\backups\route.ts:39:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\backups\route.ts:40:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\backups\route.ts:42:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\backups\route.ts:52:    tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\backups\[id]\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\backups\[id]\route.ts:18:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\backups\[id]\route.ts:20:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\backups\[id]\route.ts:22:  const backup = await getBackupSet(workspaceId, id);
D:\Unite-Hub\src\app\api\guardian\meta\backups\[id]\route.ts:25:  const items = await listBackupItems(workspaceId, id);
D:\Unite-Hub\src\app\api\guardian\meta\backups\[id]\items\[itemKey]\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\backups\[id]\items\[itemKey]\route.ts:18:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\backups\[id]\items\[itemKey]\route.ts:20:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\backups\[id]\items\[itemKey]\route.ts:22:  const item = await getBackupItem(workspaceId, id, itemKey);
D:\Unite-Hub\src\app\api\guardian\meta\coach\nudges\route.ts:8:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\coach\nudges\route.ts:9:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\coach\nudges\route.ts:11:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\coach\nudges\route.ts:23:    .eq('tenant_id', workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\coach\nudges\route.ts:70:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\coach\nudges\route.ts:71:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\coach\nudges\route.ts:73:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\coach\nudges\route.ts:95:  if (nudge.tenant_id !== workspaceId) throw new Error('Unauthorized');
D:\Unite-Hub\src\app\api\guardian\meta\coach\nudges\route.ts:105:    .eq('tenant_id', workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\editions\fit\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\editions\fit\route.ts:14:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\editions\fit\route.ts:16:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\editions\fit\route.ts:20:    const fits = await loadLatestEditionFitsForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\editions\fit\compute\route.ts:16:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\editions\fit\compute\route.ts:17:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\editions\fit\compute\route.ts:19:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\editions\fit\compute\route.ts:26:    await persistEditionFitSnapshotForTenant(workspaceId, editions);
D:\Unite-Hub\src\app\api\guardian\meta\editions\fit\compute\route.ts:29:    const fits = await loadLatestEditionFitsForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\exports\route.ts:18:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\exports\route.ts:19:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\meta\exports\route.ts:20:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\exports\route.ts:23:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\exports\route.ts:29:  const { bundles, total } = await listExportBundles(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\meta\exports\route.ts:48:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\exports\route.ts:49:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\meta\exports\route.ts:50:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\exports\route.ts:53:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\exports\route.ts:87:    tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\route.ts:14:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\route.ts:16:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\route.ts:17:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\route.ts:24:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\route.ts:26:  const bundle = await getExportBundle(workspaceId, bundleId);
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\route.ts:41:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\route.ts:43:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\route.ts:44:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\route.ts:51:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\route.ts:62:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\items\[itemKey]\route.ts:14:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\items\[itemKey]\route.ts:16:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\items\[itemKey]\route.ts:17:      return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\items\[itemKey]\route.ts:24:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\exports\[id]\items\[itemKey]\route.ts:26:    const item = await getBundleItem(workspaceId, bundleId, itemKey);
D:\Unite-Hub\src\app\api\guardian\meta\goals\route.ts:12:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\goals\route.ts:13:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\goals\route.ts:15:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\goals\route.ts:17:  const goals = await loadProgramGoalsForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\goals\route.ts:29:        .eq('tenant_id', workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\goals\route.ts:34:        .eq('tenant_id', workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\goals\route.ts:56:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\goals\route.ts:57:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\goals\route.ts:59:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\goals\route.ts:78:    tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\goals\suggestions\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\goals\suggestions\route.ts:16:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\goals\suggestions\route.ts:18:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\goals\suggestions\route.ts:33:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\goals\suggestions\route.ts:44:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\goals\suggestions\route.ts:58:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\goals\suggestions\route.ts:71:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\goals\suggestions\route.ts:77:    .eq('tenant_id', workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\goals\suggestions\route.ts:82:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\goals\suggestions\route.ts:95:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:20:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:21:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:23:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:26:  const goal = await loadGoalWithOkrsAndKpis(id, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:36:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:37:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:39:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:55:  const updated = await updateProgramGoal(id, workspaceId, updates);
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:68:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:69:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:71:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\goals\[id]\route.ts:74:  await deleteProgramGoal(id, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\governance\advice\route.ts:19: * GET /api/guardian/meta/governance/advice?workspaceId=...
D:\Unite-Hub\src\app\api\guardian\meta\governance\advice\route.ts:23:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\governance\advice\route.ts:24:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\governance\advice\route.ts:26:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\governance\advice\route.ts:29:  const prefs = await loadMetaGovernancePrefsForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\governance\advice\route.ts:30:  const readiness = await computeMetaStackReadiness(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\governance\flags\route.ts:18: * GET /api/guardian/meta/governance/flags?workspaceId=...
D:\Unite-Hub\src\app\api\guardian\meta\governance\flags\route.ts:22:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\governance\flags\route.ts:23:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\governance\flags\route.ts:25:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\governance\flags\route.ts:27:  const flags = await loadMetaFeatureFlagsForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\governance\flags\route.ts:38: * PATCH /api/guardian/meta/governance/flags?workspaceId=...
D:\Unite-Hub\src\app\api\guardian\meta\governance\flags\route.ts:42:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\governance\flags\route.ts:43:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\governance\flags\route.ts:45:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\governance\flags\route.ts:58:  const updatedFlags = await updateMetaFeatureFlags(workspaceId, actor, updates);
D:\Unite-Hub\src\app\api\guardian\meta\governance\prefs\route.ts:18: * GET /api/guardian/meta/governance/prefs?workspaceId=...
D:\Unite-Hub\src\app\api\guardian\meta\governance\prefs\route.ts:22:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\governance\prefs\route.ts:23:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\governance\prefs\route.ts:25:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\governance\prefs\route.ts:27:  const prefs = await loadMetaGovernancePrefsForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\governance\prefs\route.ts:38: * PATCH /api/guardian/meta/governance/prefs?workspaceId=...
D:\Unite-Hub\src\app\api\guardian\meta\governance\prefs\route.ts:42:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\governance\prefs\route.ts:43:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\governance\prefs\route.ts:45:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\governance\prefs\route.ts:58:  const updatedPrefs = await updateMetaGovernancePrefs(workspaceId, actor, updates);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\actions\route.ts:12:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\improvement\actions\route.ts:13:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\actions\route.ts:15:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\actions\route.ts:25:      workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\improvement\actions\[id]\route.ts:14:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\improvement\actions\[id]\route.ts:16:    if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\actions\[id]\route.ts:18:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\actions\[id]\route.ts:27:      const action = await setActionStatus(workspaceId, actionId, body.status, body.actor);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\route.ts:14:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\route.ts:16:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\route.ts:22:  const { cycles, total } = await listCycles(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\route.ts:36:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\route.ts:37:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\route.ts:39:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\route.ts:58:      workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\route.ts:15:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\route.ts:17:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\route.ts:20:    const result = await getCycle(workspaceId, cycleId);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\route.ts:34:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\route.ts:36:    if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\route.ts:38:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\route.ts:44:        workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\capture-outcome\route.ts:14:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\capture-outcome\route.ts:16:    if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\capture-outcome\route.ts:18:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\cycles\[id]\capture-outcome\route.ts:27:      const { outcomeId, outcome } = await captureOutcome(workspaceId, cycleId, body.label, body.actor);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\recommendations\route.ts:12:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\improvement\recommendations\route.ts:13:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\recommendations\route.ts:15:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\recommendations\route.ts:18:    const { patterns, recommendedActions } = await deriveImprovementRecommendations(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\recommendations\ai-drafts\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\improvement\recommendations\ai-drafts\route.ts:14:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\recommendations\ai-drafts\route.ts:16:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\improvement\recommendations\ai-drafts\route.ts:25:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\improvement\recommendations\ai-drafts\route.ts:34:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\improvement\recommendations\ai-drafts\route.ts:40:    const { draftActions, isAdvisory } = await generateDraftActionsWithAi(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:26:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:27:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:29:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:35:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:46:      const stats = await getWebhookEventStats(workspaceId, integration.id);
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:83:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:84:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:86:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:111:      tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:145:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:146:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:148:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\integrations\route.ts:175:        .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\integrations\test\route.ts:14: *   - workspaceId: (required)
D:\Unite-Hub\src\app\api\guardian\meta\integrations\test\route.ts:20:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\integrations\test\route.ts:21:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\integrations\test\route.ts:23:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\integrations\test\route.ts:33:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\integrations\test\route.ts:68:    tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\knowledge-hub\summary\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\knowledge-hub\summary\route.ts:16:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\knowledge-hub\summary\route.ts:18:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\knowledge-hub\summary\route.ts:21:    tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\kpis\route.ts:11:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\kpis\route.ts:12:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\kpis\route.ts:14:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\kpis\route.ts:47:    tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\kpis\evaluate\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\kpis\evaluate\route.ts:14:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\kpis\evaluate\route.ts:16:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\kpis\evaluate\route.ts:26:    tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\kpis\[id]\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\kpis\[id]\route.ts:16:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\kpis\[id]\route.ts:18:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\kpis\[id]\route.ts:33:  const updated = await updateProgramKpi(id, workspaceId, updates);
D:\Unite-Hub\src\app\api\guardian\meta\kpis\[id]\route.ts:46:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\kpis\[id]\route.ts:47:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\kpis\[id]\route.ts:49:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\kpis\[id]\route.ts:52:  await deleteProgramKpi(id, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\policies\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\policies\route.ts:16:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\policies\route.ts:18:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\policies\route.ts:20:  const policies = await loadLifecyclePoliciesForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\policies\route.ts:41:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\policies\route.ts:42:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\policies\route.ts:44:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\policies\route.ts:80:  const policies = await updateLifecyclePolicies(workspaceId, camelCaseUpdates);
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\run\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\run\route.ts:14:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\run\route.ts:16:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\run\route.ts:29:      tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\lifecycle\run\route.ts:58:      tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\okrs\route.ts:11:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\okrs\route.ts:12:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\okrs\route.ts:14:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\okrs\route.ts:24:    tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\okrs\[id]\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\okrs\[id]\route.ts:16:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\okrs\[id]\route.ts:18:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\okrs\[id]\route.ts:30:  const updated = await updateProgramOkr(id, workspaceId, updates);
D:\Unite-Hub\src\app\api\guardian\meta\okrs\[id]\route.ts:43:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\okrs\[id]\route.ts:44:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\okrs\[id]\route.ts:46:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\okrs\[id]\route.ts:49:  await deleteProgramOkr(id, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\route.ts:10: * Query params: workspaceId, domain, complexity
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\route.ts:14:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\route.ts:16:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\route.ts:55:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\route.ts:56:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\route.ts:58:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\route.ts:78:        tenant_id: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\[id]\route.ts:19:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\[id]\route.ts:20:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\[id]\route.ts:22:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\[id]\route.ts:78:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\[id]\route.ts:79:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\[id]\route.ts:81:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\[id]\route.ts:94:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\[id]\route.ts:130:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\[id]\route.ts:131:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\[id]\route.ts:133:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\playbooks\[id]\route.ts:143:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\readiness\history\route.ts:11:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\readiness\history\route.ts:12:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\readiness\history\route.ts:14:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\readiness\history\route.ts:25:    .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\readiness\overview\route.ts:11:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\readiness\overview\route.ts:12:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\readiness\overview\route.ts:14:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\readiness\overview\route.ts:22:    .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:18: * Query params: workspaceId, limit (default 10), reportType
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:21:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:25:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:26:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:29:    const reports = await loadExecutiveReportsForTenant(workspaceId, limit);
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:55: * Query params: workspaceId
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:59:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:60:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:62:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:75:    const readiness = await loadLatestReadinessSnapshot(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:80:    const editionFits = await loadLatestEditionFitsForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:81:    const upliftPlan = await loadLatestUpliftPlanForTenant(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:82:    const recentTimeline = await loadRecentTimeline(workspaceId, 90);
D:\Unite-Hub\src\app\api\guardian\meta\reports\route.ts:86:      workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\reports\[id]\route.ts:12: * Query: workspaceId
D:\Unite-Hub\src\app\api\guardian\meta\reports\[id]\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\reports\[id]\route.ts:16:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\reports\[id]\route.ts:18:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\reports\[id]\route.ts:23:    const report = await loadExecutiveReportById(workspaceId, id);
D:\Unite-Hub\src\app\api\guardian\meta\restores\route.ts:12:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\restores\route.ts:17:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\restores\route.ts:18:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\restores\route.ts:20:  const { restores, total } = await listRestoreRuns(workspaceId, { limit, offset, status });
D:\Unite-Hub\src\app\api\guardian\meta\restores\preview\route.ts:12:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\restores\preview\route.ts:13:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\restores\preview\route.ts:15:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\restores\preview\route.ts:25:    tenantId: workspaceId,
D:\Unite-Hub\src\app\api\guardian\meta\restores\[id]\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\restores\[id]\route.ts:18:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\restores\[id]\route.ts:20:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\restores\[id]\route.ts:22:  const run = await getRestoreRun(workspaceId, id);
D:\Unite-Hub\src\app\api\guardian\meta\restores\[id]\apply\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\restores\[id]\apply\route.ts:18:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\restores\[id]\apply\route.ts:20:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\restores\[id]\apply\route.ts:30:  const result = await applyRestoreRun(workspaceId, id, 'admin');
D:\Unite-Hub\src\app\api\guardian\meta\stack-readiness\route.ts:13: * GET /api/guardian/meta/stack-readiness?workspaceId=...
D:\Unite-Hub\src\app\api\guardian\meta\stack-readiness\route.ts:17:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\stack-readiness\route.ts:18:  if (!workspaceId) return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\meta\stack-readiness\route.ts:20:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\stack-readiness\route.ts:22:  const readiness = await computeMetaStackReadiness(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\stack-readiness\route.ts:23:  const readinessPercentage = await getMetaStackReadinessPercentage(workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\status\route.ts:14:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\status\route.ts:19:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\status\route.ts:20:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\status\route.ts:28:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\status\route.ts:46:    const metaState = await loadMetaStateForStatus(workspaceId, { start, end });
D:\Unite-Hub\src\app\api\guardian\meta\status\route.ts:60:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\status\route.ts:86:  const metaState = await loadMetaStateForStatus(workspaceId, { start, end });
D:\Unite-Hub\src\app\api\guardian\meta\status\capture\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\status\capture\route.ts:14:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\status\capture\route.ts:16:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\status\capture\route.ts:25:  const result = await captureStatusSnapshot(workspaceId, viewType, periodLabel, 'admin');
D:\Unite-Hub\src\app\api\guardian\meta\status\snapshots\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\status\snapshots\route.ts:18:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\status\snapshots\route.ts:19:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\status\snapshots\route.ts:26:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\success\history\route.ts:36:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\success\history\route.ts:37:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\success\history\route.ts:39:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\success\history\route.ts:54:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\success\history\route.ts:63:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\success\history\route.ts:72:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\success\history\route.ts:81:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\success\history\route.ts:89:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\success\overview\route.ts:24:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\success\overview\route.ts:25:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\success\overview\route.ts:27:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\success\overview\route.ts:34:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\success\overview\route.ts:51:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\success\overview\route.ts:66:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\success\overview\route.ts:75:    .eq('tenant_id', workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\success\overview\route.ts:92:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\success\overview\route.ts:122:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\timeline\route.ts:13: * Query params: workspaceId, daysPast (default 90), category (optional filter)
D:\Unite-Hub\src\app\api\guardian\meta\timeline\route.ts:16:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\timeline\route.ts:20:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\timeline\route.ts:21:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\timeline\route.ts:27:      timeline = await loadTimelineByCategory(workspaceId, category, daysPast);
D:\Unite-Hub\src\app\api\guardian\meta\timeline\route.ts:29:      timeline = await loadRecentTimeline(workspaceId, daysPast);
D:\Unite-Hub\src\app\api\guardian\meta\timeline\route.ts:33:    const projections = projectTimelineForward(workspaceId, timeline, 30);
D:\Unite-Hub\src\app\api\guardian\meta\uplift\enrich-hints\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\enrich-hints\route.ts:14:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\enrich-hints\route.ts:16:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\route.ts:12:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\route.ts:13:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\route.ts:15:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\route.ts:26:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\route.ts:54:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\route.ts:55:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\route.ts:57:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\route.ts:62:  const { planId } = await generateAndPersistUpliftPlanForTenant(workspaceId, {
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\[id]\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\[id]\route.ts:16:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\[id]\route.ts:18:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\[id]\route.ts:27:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\[id]\route.ts:39:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\[id]\route.ts:83:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\[id]\route.ts:84:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\[id]\route.ts:86:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\[id]\route.ts:104:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\uplift\plans\[id]\route.ts:121:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\meta\uplift\tasks\[id]\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\tasks\[id]\route.ts:16:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\uplift\tasks\[id]\route.ts:18:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\meta\uplift\tasks\[id]\route.ts:55:  if (task.guardian_tenant_uplift_plans?.tenant_id !== workspaceId) {
D:\Unite-Hub\src\app\api\guardian\meta\z-series\validate\route.ts:14:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\meta\z-series\validate\route.ts:16:  if (!workspaceId) throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\meta\z-series\validate\route.ts:17:  await validateUserAndWorkspace(req, workspaceId, { adminOnly: true });
D:\Unite-Hub\src\app\api\guardian\meta\z-series\validate\route.ts:20:  const result = await validateZSeriesStack(workspaceId);
D:\Unite-Hub\src\app\api\guardian\network\anomalies\route.ts:64:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\network\anomalies\route.ts:65:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\network\anomalies\route.ts:66:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\network\anomalies\route.ts:69:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\network\anomalies\route.ts:133:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\network\benchmarks\tenant\route.ts:54:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\network\benchmarks\tenant\route.ts:55:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\network\benchmarks\tenant\route.ts:56:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\guardian\network\benchmarks\tenant\route.ts:59:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\network\benchmarks\tenant\route.ts:81:      .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\network\benchmarks\tenant\route.ts:120:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\network\early-warnings\route.ts:15:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\network\early-warnings\route.ts:16:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\network\early-warnings\route.ts:17:throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\network\early-warnings\route.ts:20:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\network\early-warnings\route.ts:38:    .eq('tenant_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\network\early-warnings\route.ts:69:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\network\early-warnings\route.ts:70:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\network\early-warnings\route.ts:71:throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\network\early-warnings\route.ts:74:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\network\early-warnings\route.ts:95:  if (fetchError || !warning || warning.tenant_id !== workspaceId) {
D:\Unite-Hub\src\app\api\guardian\network\patterns\route.ts:14:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\network\patterns\route.ts:15:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\network\patterns\route.ts:16:throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\network\patterns\route.ts:19:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\network\recommendations\route.ts:13:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\network\recommendations\route.ts:14:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\network\recommendations\route.ts:15:throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\network\recommendations\route.ts:18:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\network\recommendations\route.ts:34:    .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\network\recommendations\route.ts:67:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\network\recommendations\route.ts:68:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\network\recommendations\route.ts:69:throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\network\recommendations\route.ts:72:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\network\recommendations\route.ts:92:    .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\network\recommendations\links\[id]\route.ts:16:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\network\recommendations\links\[id]\route.ts:17:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\network\recommendations\links\[id]\route.ts:18:throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\network\recommendations\links\[id]\route.ts:21:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\network\recommendations\links\[id]\route.ts:30:    .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\network\recommendations\links\[id]\route.ts:42:    .eq('workspace_id', workspaceId);
D:\Unite-Hub\src\app\api\guardian\network\recommendations\[id]\route.ts:16:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\guardian\network\recommendations\[id]\route.ts:17:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\guardian\network\recommendations\[id]\route.ts:18:throw new Error('workspaceId required');
D:\Unite-Hub\src\app\api\guardian\network\recommendations\[id]\route.ts:21:  await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\guardian\network\recommendations\[id]\route.ts:29:    .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\guardian\notifications\logs\route.ts:20:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\notifications\logs\route.ts:26:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\guardian\replay\route.ts:32:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\replay\route.ts:34:    const sessions = await listReplaySessions(tenantId);
D:\Unite-Hub\src\app\api\guardian\replay\route.ts:39:        tenantId,
D:\Unite-Hub\src\app\api\guardian\replay\route.ts:64:        tenantId,
D:\Unite-Hub\src\app\api\guardian\replay\route.ts:85:      getReplaySession(tenantId, effectiveSessionId),
D:\Unite-Hub\src\app\api\guardian\replay\route.ts:86:      listReplayEvents(tenantId, effectiveSessionId, 400),
D:\Unite-Hub\src\app\api\guardian\replay\route.ts:87:      getReplayEventCount(tenantId, effectiveSessionId),
D:\Unite-Hub\src\app\api\guardian\replay\route.ts:92:      tenantId,
D:\Unite-Hub\src\app\api\guardian\replay\route.ts:125:      const { tenantId } = await getGuardianTenantContext().catch(() => ({
D:\Unite-Hub\src\app\api\guardian\replay\route.ts:126:        tenantId: 'UNKNOWN_TENANT',
D:\Unite-Hub\src\app\api\guardian\replay\route.ts:134:        tenantId,
D:\Unite-Hub\src\app\api\guardian\risk\recompute\route.ts:20:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\risk\recompute\route.ts:22:    const score = await computeGuardianRiskScore(tenantId);
D:\Unite-Hub\src\app\api\guardian\risk\summary\route.ts:20:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\risk\summary\route.ts:22:    const items = await listGuardianRiskScores(tenantId, 60);
D:\Unite-Hub\src\app\api\guardian\rules\route.ts:19:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\rules\route.ts:21:    const rules = await listGuardianRules(tenantId);
D:\Unite-Hub\src\app\api\guardian\rules\route.ts:38:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\rules\route.ts:41:    const rule = await upsertGuardianRule(tenantId, body);
D:\Unite-Hub\src\app\api\guardian\rules\templates\route.ts:17:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\rules\templates\route.ts:19:    const templates = await listGuardianRuleTemplates(tenantId);
D:\Unite-Hub\src\app\api\guardian\rules\[id]\route.ts:28:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\rules\[id]\route.ts:31:    const rule = await getGuardianRule(tenantId, id);
D:\Unite-Hub\src\app\api\guardian\rules\[id]\route.ts:46:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\rules\[id]\route.ts:50:    const rule = await upsertGuardianRule(tenantId, { ...body, id });
D:\Unite-Hub\src\app\api\guardian\rules\[id]\route.ts:62:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\rules\[id]\route.ts:65:    await deleteGuardianRule(tenantId, id);
D:\Unite-Hub\src\app\api\guardian\scenarios\route.ts:32:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\scenarios\route.ts:34:    const scenarios = await listScenarios(tenantId);
D:\Unite-Hub\src\app\api\guardian\scenarios\route.ts:39:        tenantId,
D:\Unite-Hub\src\app\api\guardian\scenarios\route.ts:62:    const runs = await listScenarioRuns(tenantId, activeScenarioId);
D:\Unite-Hub\src\app\api\guardian\scenarios\route.ts:66:    const events = activeRunId ? await listScenarioRunEvents(tenantId, activeRunId) : [];
D:\Unite-Hub\src\app\api\guardian\scenarios\route.ts:70:      tenantId,
D:\Unite-Hub\src\app\api\guardian\scenarios\route.ts:107:      const { tenantId } = await getGuardianTenantContext().catch(() => ({
D:\Unite-Hub\src\app\api\guardian\scenarios\route.ts:108:        tenantId: 'UNKNOWN_TENANT',
D:\Unite-Hub\src\app\api\guardian\scenarios\route.ts:116:        tenantId,
D:\Unite-Hub\src\app\api\guardian\telemetry\route.ts:27:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\telemetry\route.ts:30:      listTelemetryStreams(tenantId),
D:\Unite-Hub\src\app\api\guardian\telemetry\route.ts:31:      listTelemetryEvents(tenantId, { streamId, limit: 200 }),
D:\Unite-Hub\src\app\api\guardian\telemetry\route.ts:36:      tenantId,
D:\Unite-Hub\src\app\api\guardian\telemetry\route.ts:59:      const { tenantId } = await getGuardianTenantContext().catch(() => ({
D:\Unite-Hub\src\app\api\guardian\telemetry\route.ts:60:        tenantId: 'UNKNOWN_TENANT',
D:\Unite-Hub\src\app\api\guardian\telemetry\route.ts:68:        tenantId,
D:\Unite-Hub\src\app\api\guardian\warehouse\route.ts:33:    const { tenantId } = await getGuardianTenantContext();
D:\Unite-Hub\src\app\api\guardian\warehouse\route.ts:36:      listWarehouseEvents(tenantId, { streamKey, limit: 300 }),
D:\Unite-Hub\src\app\api\guardian\warehouse\route.ts:37:      listHourlyRollups(tenantId, streamKey),
D:\Unite-Hub\src\app\api\guardian\warehouse\route.ts:38:      listDailyRollups(tenantId, streamKey),
D:\Unite-Hub\src\app\api\guardian\warehouse\route.ts:39:      getWarehouseEventCount(tenantId),
D:\Unite-Hub\src\app\api\guardian\warehouse\route.ts:40:      getDistinctStreamKeys(tenantId),
D:\Unite-Hub\src\app\api\guardian\warehouse\route.ts:45:      tenantId,
D:\Unite-Hub\src\app\api\guardian\warehouse\route.ts:77:      const { tenantId } = await getGuardianTenantContext().catch(() => ({
D:\Unite-Hub\src\app\api\guardian\warehouse\route.ts:78:        tenantId: 'UNKNOWN_TENANT',
D:\Unite-Hub\src\app\api\guardian\warehouse\route.ts:86:        tenantId,
D:\Unite-Hub\src\app\api\insights\rendered\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\insights\rendered\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\insights\rendered\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\insights\rendered\route.ts:23:    const insights = await getRenderedInsights(tenantId);
D:\Unite-Hub\src\app\api\insights\rendered\route.ts:45:    const { tenantId, audienceType, renderType } = body;
D:\Unite-Hub\src\app\api\insights\rendered\route.ts:47:    if (!tenantId || !audienceType || !renderType) {
D:\Unite-Hub\src\app\api\insights\rendered\route.ts:51:    const insight = await renderInsight(tenantId, audienceType, renderType);
D:\Unite-Hub\src\app\api\integrations\gmail\callback-multi\route.ts:35:    // Decode state to get orgId and workspaceId
D:\Unite-Hub\src\app\api\integrations\gmail\callback-multi\route.ts:36:    const { orgId, workspaceId } = JSON.parse(
D:\Unite-Hub\src\app\api\integrations\gmail\callback-multi\route.ts:40:    if (!orgId || !workspaceId) {
D:\Unite-Hub\src\app\api\integrations\gmail\callback-multi\route.ts:47:    const integration = await handleGmailCallback(code, orgId, workspaceId);
D:\Unite-Hub\src\app\api\integrations\gmail\connect-multi\route.ts:27:    const { orgId, workspaceId } = await req.json();
D:\Unite-Hub\src\app\api\integrations\gmail\connect-multi\route.ts:29:    if (!orgId || !workspaceId) {
D:\Unite-Hub\src\app\api\integrations\gmail\connect-multi\route.ts:31:        { error: "Missing orgId or workspaceId" },
D:\Unite-Hub\src\app\api\integrations\gmail\connect-multi\route.ts:36:    // Encode state with both orgId and workspaceId
D:\Unite-Hub\src\app\api\integrations\gmail\connect-multi\route.ts:38:      JSON.stringify({ orgId, workspaceId })
D:\Unite-Hub\src\app\api\integrations\gmail\list\route.ts:7: * GET /api/integrations/gmail/list?workspaceId=xxx
D:\Unite-Hub\src\app\api\integrations\gmail\list\route.ts:22:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\integrations\gmail\list\route.ts:24:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\integrations\gmail\list\route.ts:26:        { error: "Missing workspaceId" },
D:\Unite-Hub\src\app\api\integrations\gmail\list\route.ts:32:    await validateWorkspaceAccess(workspaceId, user.orgId);
D:\Unite-Hub\src\app\api\integrations\gmail\list\route.ts:34:    const integrations = await db.emailIntegrations.getByWorkspace(workspaceId);
D:\Unite-Hub\src\app\api\integrations\gmail\send\route.ts:18:    const { accessToken, to, subject, body, workspaceId } = await request.json();
D:\Unite-Hub\src\app\api\integrations\gmail\send\route.ts:28:    if (workspaceId) {
D:\Unite-Hub\src\app\api\integrations\gmail\send\route.ts:29:      await validateWorkspaceAccess(workspaceId, user.orgId);
D:\Unite-Hub\src\app\api\integrations\gmail\send\route.ts:36:    if (workspaceId) {
D:\Unite-Hub\src\app\api\integrations\gmail\send\route.ts:38:        org_id: workspaceId,
D:\Unite-Hub\src\app\api\integrations\gmail\set-primary\route.ts:21:    const { workspaceId, integrationId } = await req.json();
D:\Unite-Hub\src\app\api\integrations\gmail\set-primary\route.ts:23:    if (!workspaceId || !integrationId) {
D:\Unite-Hub\src\app\api\integrations\gmail\set-primary\route.ts:25:        { error: "Missing workspaceId or integrationId" },
D:\Unite-Hub\src\app\api\integrations\gmail\set-primary\route.ts:31:    await validateWorkspaceAccess(workspaceId, user.orgId);
D:\Unite-Hub\src\app\api\integrations\gmail\set-primary\route.ts:33:    await setPrimaryAccount(workspaceId, integrationId);
D:\Unite-Hub\src\app\api\integrations\gmail\sync\route.ts:19:    const { integrationId, workspaceId } = await req.json();
D:\Unite-Hub\src\app\api\integrations\gmail\sync\route.ts:22:    await validateWorkspaceAccess(workspaceId, user.orgId);
D:\Unite-Hub\src\app\api\integrations\gmail\sync\route.ts:29:      await analyzeWorkspaceContacts(workspaceId);
D:\Unite-Hub\src\app\api\integrations\gmail\sync-all\route.ts:21:    const { workspaceId } = await req.json();
D:\Unite-Hub\src\app\api\integrations\gmail\sync-all\route.ts:23:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\integrations\gmail\sync-all\route.ts:25:        { error: "Missing workspaceId" },
D:\Unite-Hub\src\app\api\integrations\gmail\sync-all\route.ts:31:    await validateWorkspaceAccess(workspaceId, user.orgId);
D:\Unite-Hub\src\app\api\integrations\gmail\sync-all\route.ts:33:    const results = await syncAllGmailAccounts(workspaceId);
D:\Unite-Hub\src\app\api\integrations\xero\disconnect\route.ts:5: * Body: { tenantId?: string } - Optional specific account to disconnect
D:\Unite-Hub\src\app\api\integrations\xero\disconnect\route.ts:8: * If tenantId is provided, disconnects only that account
D:\Unite-Hub\src\app\api\integrations\xero\disconnect\route.ts:9: * If tenantId is omitted, disconnects ALL accounts
D:\Unite-Hub\src\app\api\integrations\xero\disconnect\route.ts:49:    // Get optional tenantId from request body
D:\Unite-Hub\src\app\api\integrations\xero\disconnect\route.ts:50:    let tenantId: string | undefined;
D:\Unite-Hub\src\app\api\integrations\xero\disconnect\route.ts:53:      tenantId = body.tenantId;
D:\Unite-Hub\src\app\api\integrations\xero\disconnect\route.ts:56:      tenantId = undefined;
D:\Unite-Hub\src\app\api\integrations\xero\disconnect\route.ts:63:    await xeroService.disconnect(userOrg.org_id, tenantId);
D:\Unite-Hub\src\app\api\integrations\xero\disconnect\route.ts:65:    const message = tenantId
D:\Unite-Hub\src\app\api\integrations\xero\set-primary\route.ts:5: * Body: { tenantId: string }
D:\Unite-Hub\src\app\api\integrations\xero\set-primary\route.ts:47:    const { tenantId } = await req.json();
D:\Unite-Hub\src\app\api\integrations\xero\set-primary\route.ts:49:    if (!tenantId) {
D:\Unite-Hub\src\app\api\integrations\xero\set-primary\route.ts:51:        { error: 'Missing tenantId' },
D:\Unite-Hub\src\app\api\integrations\xero\set-primary\route.ts:58:    await xeroService.setPrimaryAccount(userOrg.org_id, tenantId);
D:\Unite-Hub\src\app\api\integrations\xero\status\route.ts:65:        tenantId: account.tenant_id,
D:\Unite-Hub\src\app\api\integrations\xero\update-label\route.ts:5: * Body: { tenantId: string, accountLabel: string }
D:\Unite-Hub\src\app\api\integrations\xero\update-label\route.ts:46:    const { tenantId, accountLabel } = await req.json();
D:\Unite-Hub\src\app\api\integrations\xero\update-label\route.ts:48:    if (!tenantId || !accountLabel) {
D:\Unite-Hub\src\app\api\integrations\xero\update-label\route.ts:50:        { error: 'Missing tenantId or accountLabel' },
D:\Unite-Hub\src\app\api\integrations\xero\update-label\route.ts:57:    await xeroService.updateAccountLabel(userOrg.org_id, tenantId, accountLabel);
D:\Unite-Hub\src\app\api\intelligence\contact\route.ts:7: * GET /api/intelligence/contact?contactId=xxx&workspaceId=xxx
D:\Unite-Hub\src\app\api\intelligence\contact\route.ts:24:    const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\intelligence\contact\route.ts:27:    if (!workspaceId || !contactId) {
D:\Unite-Hub\src\app\api\intelligence\contact\route.ts:29:        { error: "workspaceId and contactId are required" },
D:\Unite-Hub\src\app\api\intelligence\contact\route.ts:34:    await validateWorkspaceAccess(workspaceId, user.orgId);
D:\Unite-Hub\src\app\api\intelligence\contact\route.ts:43:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\intelligence\contact\route.ts:61:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\intelligence\dashboard\route.ts:7: * GET /api/intelligence/dashboard?workspaceId=xxx
D:\Unite-Hub\src\app\api\intelligence\dashboard\route.ts:23:    const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\intelligence\dashboard\route.ts:25:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\intelligence\dashboard\route.ts:27:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\intelligence\dashboard\route.ts:32:    await validateWorkspaceAccess(workspaceId, user.orgId);
D:\Unite-Hub\src\app\api\intelligence\dashboard\route.ts:44:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\knowledge\artifacts\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\knowledge\artifacts\route.ts:20:    if (!tenantId) {
D:\Unite-Hub\src\app\api\knowledge\artifacts\route.ts:21:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\knowledge\artifacts\route.ts:24:    const artifacts = await getArtifacts(tenantId, artifactType);
D:\Unite-Hub\src\app\api\knowledge\generate\route.ts:18:    const { tenantId, artifactType, title, content, sourceSystems } = await req.json();
D:\Unite-Hub\src\app\api\knowledge\generate\route.ts:19:    if (!tenantId || !artifactType || !title || !content) {
D:\Unite-Hub\src\app\api\knowledge\generate\route.ts:23:    const artifact = await generateArtifact(tenantId, artifactType, title, content, sourceSystems || []);
D:\Unite-Hub\src\app\api\load\snapshots\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId') || undefined;
D:\Unite-Hub\src\app\api\load\snapshots\route.ts:19:    const snapshots = await getLoadSnapshots(tenantId);
D:\Unite-Hub\src\app\api\loyalty\credit\route.ts:11: *   - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\loyalty\credit\route.ts:48:    const workspaceId = request.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\loyalty\credit\route.ts:50:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\loyalty\credit\route.ts:52:        { error: 'Missing workspaceId parameter' },
D:\Unite-Hub\src\app\api\loyalty\credit\route.ts:62:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\loyalty\credit\route.ts:73:    const balance = await getBalance(supabase, workspaceId, userId);
D:\Unite-Hub\src\app\api\loyalty\credit\route.ts:83:    const canEarnMore = await canEarnMoreCredits(supabase, workspaceId, userId);
D:\Unite-Hub\src\app\api\loyalty\dashboard\route.ts:12: *   - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\loyalty\dashboard\route.ts:48:    const workspaceId = request.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\loyalty\dashboard\route.ts:50:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\loyalty\dashboard\route.ts:52:        { error: 'Missing workspaceId parameter' },
D:\Unite-Hub\src\app\api\loyalty\dashboard\route.ts:62:      getBalance(supabase, workspaceId, userId),
D:\Unite-Hub\src\app\api\loyalty\dashboard\route.ts:63:      getMonthlyProgress(supabase, workspaceId, userId),
D:\Unite-Hub\src\app\api\loyalty\dashboard\route.ts:64:      getCreditHistory(supabase, workspaceId, userId, 5, 0), // Last 5 transactions
D:\Unite-Hub\src\app\api\loyalty\dashboard\route.ts:65:      getUserReferralStats(supabase, workspaceId, userId),
D:\Unite-Hub\src\app\api\loyalty\founder\approve-redemption\route.ts:12: *   - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\loyalty\founder\approve-redemption\route.ts:53:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\founder\approve-redemption\route.ts:60:    if (!workspaceId || !requestId || approved === undefined) {
D:\Unite-Hub\src\app\api\loyalty\founder\approve-redemption\route.ts:62:        { error: 'Missing required fields: workspaceId, requestId, approved' },
D:\Unite-Hub\src\app\api\loyalty\founder\approve-redemption\route.ts:79:            .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\loyalty\founder\approve-redemption\route.ts:95:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\founder\approve-redemption\route.ts:112:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\founder\redemption-queue\route.ts:11: *   - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\loyalty\founder\redemption-queue\route.ts:47:    const workspaceId = request.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\loyalty\founder\redemption-queue\route.ts:49:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\loyalty\founder\redemption-queue\route.ts:51:        { error: 'Missing workspaceId parameter' },
D:\Unite-Hub\src\app\api\loyalty\founder\redemption-queue\route.ts:68:            .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\loyalty\founder\redemption-queue\route.ts:82:    const pendingRequests = await getPendingRedemptionRequests(supabase, workspaceId);
D:\Unite-Hub\src\app\api\loyalty\fraud\alerts\route.ts:10: *   - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\loyalty\fraud\alerts\route.ts:48:    const workspaceId = request.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\loyalty\fraud\alerts\route.ts:52:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\loyalty\fraud\alerts\route.ts:54:        { error: 'Missing workspaceId parameter' },
D:\Unite-Hub\src\app\api\loyalty\fraud\alerts\route.ts:71:            .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\loyalty\fraud\alerts\route.ts:99:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\loyalty\history\route.ts:11: *   - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\loyalty\history\route.ts:51:    const workspaceId = request.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\loyalty\history\route.ts:56:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\loyalty\history\route.ts:58:        { error: 'Missing workspaceId parameter' },
D:\Unite-Hub\src\app\api\loyalty\history\route.ts:67:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\redeem\route.ts:12: *   - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\loyalty\redeem\route.ts:53:    const { workspaceId, userId, amount, rewardId } = await request.json();
D:\Unite-Hub\src\app\api\loyalty\redeem\route.ts:55:    if (!workspaceId || !userId || !amount) {
D:\Unite-Hub\src\app\api\loyalty\redeem\route.ts:57:        { error: 'Missing required fields: workspaceId, userId, amount' },
D:\Unite-Hub\src\app\api\loyalty\redeem\route.ts:72:          .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\loyalty\redeem\route.ts:87:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\redeem\route.ts:103:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:13: *   - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:51:    const { workspaceId, referralCode, referredEmail } = await request.json();
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:53:    if (!workspaceId || !referralCode) {
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:55:        { error: 'Missing required fields: workspaceId, referralCode' },
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:67:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:88:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:109:        workspaceId,
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:126:        workspaceId,
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:148:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:165:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:178:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\referral\claim\route.ts:201:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\referral\create\route.ts:12: *   - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\loyalty\referral\create\route.ts:49:    const { workspaceId, campaign } = await request.json();
D:\Unite-Hub\src\app\api\loyalty\referral\create\route.ts:51:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\loyalty\referral\create\route.ts:53:        { error: 'Missing required field: workspaceId' },
D:\Unite-Hub\src\app\api\loyalty\referral\create\route.ts:64:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\referral\create\route.ts:79:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\rewards\route.ts:12: *   - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\loyalty\rewards\route.ts:48:    const workspaceId = request.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\loyalty\rewards\route.ts:50:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\loyalty\rewards\route.ts:52:        { error: 'Missing workspaceId parameter' },
D:\Unite-Hub\src\app\api\loyalty\rewards\route.ts:61:    const balance = await getBalance(supabase, workspaceId, userId);
D:\Unite-Hub\src\app\api\loyalty\rewards\route.ts:66:      workspaceId,
D:\Unite-Hub\src\app\api\loyalty\rewards\route.ts:97: *   - workspaceId (required): Workspace ID
D:\Unite-Hub\src\app\api\loyalty\rewards\route.ts:134:    const { workspaceId, rewardId } = await request.json();
D:\Unite-Hub\src\app\api\loyalty\rewards\route.ts:136:    if (!workspaceId || !rewardId) {
D:\Unite-Hub\src\app\api\loyalty\rewards\route.ts:138:        { error: 'Missing required fields: workspaceId, rewardId' },
D:\Unite-Hub\src\app\api\loyalty\rewards\route.ts:149:      workspaceId,
D:\Unite-Hub\src\app\api\managed\projects\create\route.ts:20:  workspaceId: string;
D:\Unite-Hub\src\app\api\managed\projects\create\route.ts:44:      workspaceId,
D:\Unite-Hub\src\app\api\managed\projects\create\route.ts:56:    if (!workspaceId || !serviceType || !clientName || !clientEmail || !clientWebsite) {
D:\Unite-Hub\src\app\api\managed\projects\create\route.ts:58:        { error: 'Missing required fields: workspaceId, serviceType, clientName, clientEmail, clientWebsite' },
D:\Unite-Hub\src\app\api\managed\projects\create\route.ts:64:      workspaceId,
D:\Unite-Hub\src\app\api\managed\projects\create\route.ts:72:      workspaceId,
D:\Unite-Hub\src\app\api\marketplace\collections\route.ts:12:    const workspaceId = request.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\marketplace\collections\route.ts:15:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\marketplace\collections\route.ts:16:      return NextResponse.json({ error: "workspaceId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\marketplace\collections\route.ts:28:      .eq("workspace_id", workspaceId);
D:\Unite-Hub\src\app\api\marketplace\list\route.ts:12:    const workspaceId = request.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\marketplace\list\route.ts:19:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\marketplace\list\route.ts:20:      return NextResponse.json({ error: "workspaceId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\marketplace\list\route.ts:32:      .eq("workspace_id", workspaceId);
D:\Unite-Hub\src\app\api\marketplace\list\route.ts:63:      .eq("workspace_id", workspaceId);
D:\Unite-Hub\src\app\api\marketplace\search\route.ts:12:    const workspaceId = request.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\marketplace\search\route.ts:15:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\marketplace\search\route.ts:16:      return NextResponse.json({ error: "workspaceId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\marketplace\search\route.ts:33:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\marketplace\search\route.ts:46:      .eq("workspace_id", workspaceId);
D:\Unite-Hub\src\app\api\marketplace\[id\]\route.ts:16:    const workspaceId = request.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\marketplace\[id\]\route.ts:18:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\marketplace\[id\]\route.ts:19:      return NextResponse.json({ error: "workspaceId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\marketplace\[id\]\route.ts:32:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\marketplace\[id\]\route.ts:49:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\marketplace\[id\]\export\route.ts:22:    const workspaceId = request.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\marketplace\[id\]\export\route.ts:24:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\marketplace\[id\]\export\route.ts:25:      return NextResponse.json({ error: "workspaceId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\marketplace\[id\]\export\route.ts:45:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\marketplace\[id\]\favorite\route.ts:16:    const workspaceId = request.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\marketplace\[id\]\favorite\route.ts:18:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\marketplace\[id\]\favorite\route.ts:19:      return NextResponse.json({ error: "workspaceId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\marketplace\[id\]\favorite\route.ts:32:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\marketplace\[id\]\favorite\route.ts:44:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\marketplace\[id\]\favorite\route.ts:65:          workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\marketplace\[id\]\variants\route.ts:29:    const workspaceId = request.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\marketplace\[id\]\variants\route.ts:31:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\marketplace\[id\]\variants\route.ts:32:      return NextResponse.json({ error: "workspaceId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\marketplace\[id\]\variants\route.ts:53:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\media\analyze\route.ts:45:    // Get workspaceId from query params (REQUIRED for workspace isolation)
D:\Unite-Hub\src\app\api\media\analyze\route.ts:46:    const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\media\analyze\route.ts:48:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\media\analyze\route.ts:50:        error: 'workspaceId required for workspace isolation'
D:\Unite-Hub\src\app\api\media\analyze\route.ts:76:      .eq("workspace_id", workspaceId) // ✅ WORKSPACE ISOLATION
D:\Unite-Hub\src\app\api\media\analyze\route.ts:327: * GET /api/media/analyze?mediaId={id}&workspaceId={workspace}
D:\Unite-Hub\src\app\api\media\analyze\route.ts:361:    const workspaceId = searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\media\analyze\route.ts:370:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\media\analyze\route.ts:372:        { error: "workspaceId query parameter required" },
D:\Unite-Hub\src\app\api\media\analyze\route.ts:384:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\media\search\route.ts:10: * GET /api/media/search?workspaceId={id}&q={query}&fileType={type}&projectId={id}
D:\Unite-Hub\src\app\api\media\search\route.ts:42:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\media\search\route.ts:50:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\media\search\route.ts:52:        error: 'workspaceId required for workspace isolation'
D:\Unite-Hub\src\app\api\media\search\route.ts:62:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\media\transcribe\route.ts:40:    let workspaceId: string | null = null;
D:\Unite-Hub\src\app\api\media\transcribe\route.ts:64:    // Get workspaceId from query params (REQUIRED for workspace isolation)
D:\Unite-Hub\src\app\api\media\transcribe\route.ts:65:    workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\media\transcribe\route.ts:67:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\media\transcribe\route.ts:69:        error: 'workspaceId required for workspace isolation'
D:\Unite-Hub\src\app\api\media\transcribe\route.ts:89:      .eq('workspace_id', workspaceId) // ✅ WORKSPACE ISOLATION
D:\Unite-Hub\src\app\api\media\transcribe\route.ts:227:      fetch(`${req.nextUrl.origin}/api/media/analyze?workspaceId=${workspaceId}`, {
D:\Unite-Hub\src\app\api\media\transcribe\route.ts:350:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\media\transcribe\route.ts:356:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\media\transcribe\route.ts:357:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\media\transcribe\route.ts:367:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\media\upload\route.ts:280:        const transcribeResponse = await fetch(`${req.nextUrl.origin}/api/media/transcribe?workspaceId=${workspace_id}`, {
D:\Unite-Hub\src\app\api\media\upload\route.ts:304:      const analyzeResponse = await fetch(`${req.nextUrl.origin}/api/media/analyze?workspaceId=${workspace_id}`, {
D:\Unite-Hub\src\app\api\memory\compress\route.ts:25:    const { sourceType, tenantId, regionId } = body;
D:\Unite-Hub\src\app\api\memory\compress\route.ts:31:    const packet = await compressAndStore(sourceType, tenantId, regionId);
D:\Unite-Hub\src\app\api\memory\related\route.ts:61:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\memory\related\route.ts:68:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\memory\related\route.ts:70:        { error: 'workspaceId query parameter is required' },
D:\Unite-Hub\src\app\api\memory\related\route.ts:88:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\memory\related\route.ts:118:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\memory\related\route.ts:132:      workspaceId,
D:\Unite-Hub\src\app\api\memory\related\route.ts:141:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\memory\retrieve\route.ts:15:  workspaceId: string;
D:\Unite-Hub\src\app\api\memory\retrieve\route.ts:75:    if (!body.workspaceId) {
D:\Unite-Hub\src\app\api\memory\retrieve\route.ts:77:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\memory\retrieve\route.ts:95:      .eq('id', body.workspaceId)
D:\Unite-Hub\src\app\api\memory\retrieve\route.ts:125:      workspaceId: body.workspaceId,
D:\Unite-Hub\src\app\api\memory\retrieve\route.ts:163:      workspace_id: body.workspaceId,
D:\Unite-Hub\src\app\api\memory\retrieve\route.ts:167:      resource_id: body.workspaceId,
D:\Unite-Hub\src\app\api\memory\spine\route.ts:19:    const tenantId = req.nextUrl.searchParams.get('tenantId') || undefined;
D:\Unite-Hub\src\app\api\memory\spine\route.ts:21:    const links = await getLinks(sourceType, tenantId);
D:\Unite-Hub\src\app\api\memory\store\route.ts:15:  workspaceId: string;
D:\Unite-Hub\src\app\api\memory\store\route.ts:78:    if (!body.workspaceId) {
D:\Unite-Hub\src\app\api\memory\store\route.ts:80:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\memory\store\route.ts:112:      .eq('id', body.workspaceId)
D:\Unite-Hub\src\app\api\memory\store\route.ts:141:      workspaceId: body.workspaceId,
D:\Unite-Hub\src\app\api\memory\store\route.ts:156:      workspace_id: body.workspaceId,
D:\Unite-Hub\src\app\api\ml\anomaly-detection\detect\route.ts:21:    let workspaceId: string;
D:\Unite-Hub\src\app\api\ml\anomaly-detection\detect\route.ts:39:    workspaceId = req.nextUrl.searchParams.get("workspaceId") || "";
D:\Unite-Hub\src\app\api\ml\anomaly-detection\detect\route.ts:40:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ml\anomaly-detection\detect\route.ts:42:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\ml\anomaly-detection\detect\route.ts:75:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\ml\cost-tracking\budget\route.ts:17:    let workspaceId: string;
D:\Unite-Hub\src\app\api\ml\cost-tracking\budget\route.ts:35:    workspaceId = req.nextUrl.searchParams.get("workspaceId") || "";
D:\Unite-Hub\src\app\api\ml\cost-tracking\budget\route.ts:36:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ml\cost-tracking\budget\route.ts:38:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\ml\cost-tracking\budget\route.ts:44:    const budget = await engine.getBudget(workspaceId);
D:\Unite-Hub\src\app\api\ml\cost-tracking\budget\route.ts:84:    let workspaceId: string;
D:\Unite-Hub\src\app\api\ml\cost-tracking\budget\route.ts:102:    workspaceId = req.nextUrl.searchParams.get("workspaceId") || "";
D:\Unite-Hub\src\app\api\ml\cost-tracking\budget\route.ts:103:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ml\cost-tracking\budget\route.ts:105:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\ml\cost-tracking\budget\route.ts:125:      workspaceId,
D:\Unite-Hub\src\app\api\ml\cost-tracking\summary\route.ts:17:    let workspaceId: string;
D:\Unite-Hub\src\app\api\ml\cost-tracking\summary\route.ts:35:    workspaceId = req.nextUrl.searchParams.get("workspaceId") || "";
D:\Unite-Hub\src\app\api\ml\cost-tracking\summary\route.ts:36:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ml\cost-tracking\summary\route.ts:38:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\ml\cost-tracking\summary\route.ts:53:        summary = await engine.getDailyCost(workspaceId, today);
D:\Unite-Hub\src\app\api\ml\cost-tracking\summary\route.ts:55:        summary = await engine.getDailyCost(workspaceId, date);
D:\Unite-Hub\src\app\api\ml\cost-tracking\summary\route.ts:70:    const budget = await engine.getBudget(workspaceId);
D:\Unite-Hub\src\app\api\ml\cost-tracking\summary\route.ts:72:      workspaceId,
D:\Unite-Hub\src\app\api\ml\cost-tracking\summary\route.ts:78:    const recommendations = await engine.getOptimizationRecommendations(workspaceId);
D:\Unite-Hub\src\app\api\ml\cost-tracking\track\route.ts:17:    let workspaceId: string;
D:\Unite-Hub\src\app\api\ml\cost-tracking\track\route.ts:35:    workspaceId = req.nextUrl.searchParams.get("workspaceId") || "";
D:\Unite-Hub\src\app\api\ml\cost-tracking\track\route.ts:36:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ml\cost-tracking\track\route.ts:38:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\ml\cost-tracking\track\route.ts:72:      workspaceId,
D:\Unite-Hub\src\app\api\ml\cost-tracking\track\route.ts:82:      workspaceId,
D:\Unite-Hub\src\app\api\ml\pattern-detection\detect\route.ts:21:    let workspaceId: string;
D:\Unite-Hub\src\app\api\ml\pattern-detection\detect\route.ts:39:    workspaceId = req.nextUrl.searchParams.get("workspaceId") || "";
D:\Unite-Hub\src\app\api\ml\pattern-detection\detect\route.ts:40:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ml\pattern-detection\detect\route.ts:42:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\ml\pattern-detection\detect\route.ts:68:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\ml\prediction\predict\route.ts:24:    let workspaceId: string;
D:\Unite-Hub\src\app\api\ml\prediction\predict\route.ts:42:    workspaceId = req.nextUrl.searchParams.get("workspaceId") || "";
D:\Unite-Hub\src\app\api\ml\prediction\predict\route.ts:43:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\ml\prediction\predict\route.ts:45:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\ml\prediction\predict\route.ts:67:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\monitoring\cache-stats\route.ts:97:    // Get workspaceId from query params
D:\Unite-Hub\src\app\api\monitoring\cache-stats\route.ts:98:    const workspaceId = req.nextUrl.searchParams.get("workspaceId");
D:\Unite-Hub\src\app\api\monitoring\cache-stats\route.ts:100:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\monitoring\cache-stats\route.ts:102:        { error: "workspaceId is required" },
D:\Unite-Hub\src\app\api\monitoring\cache-stats\route.ts:114:      .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\mvp\dashboard\route.ts:32:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\mvp\dashboard\route.ts:34:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\mvp\dashboard\route.ts:35:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\mvp\dashboard\route.ts:39:    const dashboardData = await mvpDashboardService.getDashboardData(userId, workspaceId);
D:\Unite-Hub\src\app\api\mvp\dashboard\route.ts:74:    const { action, workspaceId, ...params } = body;
D:\Unite-Hub\src\app\api\mvp\dashboard\route.ts:76:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\mvp\dashboard\route.ts:77:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\mvp\dashboard\route.ts:88:        result = await mvpDashboardService.updateUserPreferences(userId, workspaceId, {
D:\Unite-Hub\src\app\api\mvp\dashboard\route.ts:123:        result = await mvpDashboardService.createNotification(userId, workspaceId, {
D:\Unite-Hub\src\app\api\narrative\snapshots\route.ts:24:    const tenantId = req.nextUrl.searchParams.get('tenantId') || undefined;
D:\Unite-Hub\src\app\api\narrative\snapshots\route.ts:27:    const narratives = await getNarratives(tenantId, scope);
D:\Unite-Hub\src\app\api\narrative\snapshots\route.ts:51:    const { scope, tenantId, regionId } = body;
D:\Unite-Hub\src\app\api\narrative\snapshots\route.ts:57:    const narrative = await generateNarrative(scope, tenantId, regionId);
D:\Unite-Hub\src\app\api\navigator\snapshot\route.ts:28:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\navigator\snapshot\route.ts:29:    if (!tenantId) {
D:\Unite-Hub\src\app\api\navigator\snapshot\route.ts:30:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\navigator\snapshot\route.ts:33:    const snapshot = await getLatestSnapshot(tenantId);
D:\Unite-Hub\src\app\api\navigator\snapshot\route.ts:66:    const { tenantId, regionId } = body;
D:\Unite-Hub\src\app\api\navigator\snapshot\route.ts:68:    if (!tenantId) {
D:\Unite-Hub\src\app\api\navigator\snapshot\route.ts:69:      return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\navigator\snapshot\route.ts:72:    const snapshot = await generateSnapshot({ tenantId, regionId });
D:\Unite-Hub\src\app\api\negotiation\decision\route.ts:43:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\negotiation\decision\route.ts:44:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\negotiation\decision\route.ts:45:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\negotiation\decision\route.ts:60:      workspaceId,
D:\Unite-Hub\src\app\api\negotiation\decision\route.ts:68:      workspaceId,
D:\Unite-Hub\src\app\api\negotiation\start\route.ts:62:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\negotiation\start\route.ts:63:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\negotiation\start\route.ts:64:      return NextResponse.json({ error: 'Missing workspaceId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\negotiation\start\route.ts:104:      workspaceId,
D:\Unite-Hub\src\app\api\negotiation\status\route.ts:46:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\negotiation\status\route.ts:47:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\negotiation\status\route.ts:48:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\negotiation\status\route.ts:54:    const session = await agentNegotiationEngine.getActiveNegotiation({ workspaceId });
D:\Unite-Hub\src\app\api\negotiation\status\route.ts:68:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\opportunities\generate\route.ts:34:      tenantId,
D:\Unite-Hub\src\app\api\opportunities\generate\route.ts:52:    if (regionId && !tenantId && !clientId) {
D:\Unite-Hub\src\app\api\opportunities\generate\route.ts:63:    if (clientId && tenantId) {
D:\Unite-Hub\src\app\api\opportunities\generate\route.ts:64:      const result = await generateWindowsForClient(clientId, tenantId);
D:\Unite-Hub\src\app\api\opportunities\generate\route.ts:74:    if (tenantId) {
D:\Unite-Hub\src\app\api\opportunities\generate\route.ts:76:        tenantId,
D:\Unite-Hub\src\app\api\opportunities\generate\route.ts:93:        tenantId,
D:\Unite-Hub\src\app\api\opportunities\generate\route.ts:102:      { error: 'tenantId, regionId, or runFullSweep required' },
D:\Unite-Hub\src\app\api\opportunities\list\route.ts:30:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\opportunities\list\route.ts:44:    } else if (tenantId) {
D:\Unite-Hub\src\app\api\opportunities\list\route.ts:45:      windows = await listWindowsForTenant(tenantId, {
D:\Unite-Hub\src\app\api\opportunities\list\route.ts:54:        report = await generateFounderOpportunityReport(tenantId);
D:\Unite-Hub\src\app\api\opportunities\list\route.ts:58:        { error: 'tenantId or regionId required' },
D:\Unite-Hub\src\app\api\optimizer\profile\route.ts:61:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\optimizer\profile\route.ts:62:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\optimizer\profile\route.ts:63:      return NextResponse.json({ error: 'Missing workspaceId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\optimizer\profile\route.ts:72:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\optimizer\profile\route.ts:80:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\optimizer\profile\route.ts:98:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\optimizer\run\route.ts:61:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\optimizer\run\route.ts:62:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\optimizer\run\route.ts:63:      return NextResponse.json({ error: 'Missing workspaceId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\optimizer\run\route.ts:89:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\optimizer\run\route.ts:119:      workspaceId,
D:\Unite-Hub\src\app\api\optimizer\run\route.ts:128:      workspaceId,
D:\Unite-Hub\src\app\api\optimizer\run\route.ts:150:      workspaceId,
D:\Unite-Hub\src\app\api\optimizer\status\route.ts:60:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\optimizer\status\route.ts:61:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\optimizer\status\route.ts:62:      return NextResponse.json({ error: 'Missing workspaceId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\optimizer\status\route.ts:71:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\optimizer\status\route.ts:79:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\optimizer\status\route.ts:87:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\optimizer\status\route.ts:108:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\orchestration\futurecasting\run\route.ts:32:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\orchestration\futurecasting\run\route.ts:37:      const stats = await getModelStats({ tenant_id: tenantId });
D:\Unite-Hub\src\app\api\orchestration\futurecasting\run\route.ts:43:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\orchestration\futurecasting\run\route.ts:76:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\orchestration\futurecasting\run\route.ts:78:    if (!tenantId) {
D:\Unite-Hub\src\app\api\orchestration\futurecasting\run\route.ts:92:    const model = await runForecast(title, domain, timeframe, inputs, tenantId);
D:\Unite-Hub\src\app\api\orchestration\scenario\run\route.ts:27:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\orchestration\scenario\run\route.ts:33:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\orchestration\scenario\run\route.ts:42:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\orchestration\scenario\run\route.ts:75:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\orchestration\scenario\run\route.ts:77:    if (!tenantId) {
D:\Unite-Hub\src\app\api\orchestration\scenario\run\route.ts:88:    const run = await runScenario(template_id, inputs, tenantId);
D:\Unite-Hub\src\app\api\orchestration\scenario\templates\route.ts:27:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\orchestration\scenario\templates\route.ts:36:      const template = await getTemplate(templateId, tenantId);
D:\Unite-Hub\src\app\api\orchestration\scenario\templates\route.ts:42:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\orchestration\scenario\templates\route.ts:73:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\orchestration\scenario\templates\route.ts:75:    if (!tenantId) {
D:\Unite-Hub\src\app\api\orchestration\scenario\templates\route.ts:86:    const template = await createTemplate(name, description, variables || {}, tenantId);
D:\Unite-Hub\src\app\api\orchestration\scheduler\route.ts:35:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\orchestration\scheduler\route.ts:39:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\orchestration\scheduler\route.ts:41:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\orchestration\scheduler\route.ts:48:        const actions = await getRecentActions(workspaceId, limit);
D:\Unite-Hub\src\app\api\orchestration\scheduler\route.ts:54:        const stats = await getActionStats(workspaceId, days);
D:\Unite-Hub\src\app\api\orchestration\scheduler\route.ts:61:          getRecentActions(workspaceId, 20),
D:\Unite-Hub\src\app\api\orchestration\scheduler\route.ts:62:          getActionStats(workspaceId, 7),
D:\Unite-Hub\src\app\api\orchestration\schedules\route.ts:35:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\orchestration\schedules\route.ts:42:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\orchestration\schedules\route.ts:44:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\orchestration\schedules\route.ts:53:        const overview = await getOrchestrationOverview(workspaceId);
D:\Unite-Hub\src\app\api\orchestration\schedules\route.ts:58:        const summaries = await getChannelSummaries(workspaceId);
D:\Unite-Hub\src\app\api\orchestration\schedules\route.ts:67:          .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\route.ts:10: *   - workspaceId: string (required)
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\route.ts:29:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\route.ts:35:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\route.ts:36:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\route.ts:43:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\route.ts:54:      .eq('workspace_id', workspaceId);
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\route.ts:79:      logger.error('Failed to fetch tasks', { error: error.message, workspaceId });
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\route.ts:84:      workspaceId,
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\route.ts:28:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\route.ts:30:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\route.ts:31:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\route.ts:39:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\route.ts:43:      logger.warn('Task not found', { taskId, workspaceId });
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\route.ts:85:      workspaceId,
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\evidence\route.ts:32:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\evidence\route.ts:34:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\evidence\route.ts:35:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\evidence\route.ts:43:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\failures\route.ts:30:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\failures\route.ts:32:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\failures\route.ts:33:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\failures\route.ts:41:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\retry\route.ts:29:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\retry\route.ts:31:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\retry\route.ts:32:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\retry\route.ts:40:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\retry\route.ts:80:      workspaceId: task.workspace_id,
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\steps\route.ts:28:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\steps\route.ts:30:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\steps\route.ts:31:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\orchestrator\dashboard\tasks\[id]\steps\route.ts:39:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\orchestrator\execute\route.ts:12:  workspaceId: string;
D:\Unite-Hub\src\app\api\orchestrator\execute\route.ts:46:    if (!body.workspaceId || !body.taskId) {
D:\Unite-Hub\src\app\api\orchestrator\execute\route.ts:48:        { error: 'workspaceId and taskId are required' },
D:\Unite-Hub\src\app\api\orchestrator\execute\route.ts:57:      .eq('id', body.workspaceId)
D:\Unite-Hub\src\app\api\orchestrator\execute\route.ts:76:    const trace = await orchestrator.executeWorkflow(body.taskId, body.workspaceId);
D:\Unite-Hub\src\app\api\orchestrator\execute\route.ts:80:      workspace_id: body.workspaceId,
D:\Unite-Hub\src\app\api\orchestrator\plan\route.ts:12:  workspaceId: string;
D:\Unite-Hub\src\app\api\orchestrator\plan\route.ts:47:    if (!body.workspaceId || !body.objective) {
D:\Unite-Hub\src\app\api\orchestrator\plan\route.ts:49:        { error: 'workspaceId and objective are required' },
D:\Unite-Hub\src\app\api\orchestrator\plan\route.ts:58:      .eq('id', body.workspaceId)
D:\Unite-Hub\src\app\api\orchestrator\plan\route.ts:78:      workspaceId: body.workspaceId,
D:\Unite-Hub\src\app\api\orchestrator\plan\route.ts:84:      workspace_id: body.workspaceId,
D:\Unite-Hub\src\app\api\orchestrator\status\route.ts:39:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\orchestrator\status\route.ts:42:    if (!workspaceId || !taskId) {
D:\Unite-Hub\src\app\api\orchestrator\status\route.ts:44:        { error: 'workspaceId and taskId query parameters are required' },
D:\Unite-Hub\src\app\api\orchestrator\status\route.ts:53:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\orchestrator\status\route.ts:72:    const trace = await orchestrator.getTaskStatus(taskId, workspaceId);
D:\Unite-Hub\src\app\api\orchestrator\status\route.ts:76:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\organization\clients\route.ts:16:    const workspaceId = searchParams.get("workspace_id");
D:\Unite-Hub\src\app\api\organization\clients\route.ts:21:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\organization\clients\route.ts:29:    const user = await validateUserAndWorkspace(request, workspaceId);
D:\Unite-Hub\src\app\api\organization\clients\route.ts:32:    let clients = await db.contacts.listByWorkspace(workspaceId);
D:\Unite-Hub\src\app\api\pair-operator\chat\route.ts:18:    const { tenantId, action, sessionId, context, message } = await req.json();
D:\Unite-Hub\src\app\api\pair-operator\chat\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\pair-operator\chat\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\pair-operator\chat\route.ts:24:      const session = await createSession(tenantId, userData.user.id, context || {});
D:\Unite-Hub\src\app\api\patterns\library\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\patterns\library\route.ts:20:    if (!tenantId) {
D:\Unite-Hub\src\app\api\patterns\library\route.ts:21:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\patterns\library\route.ts:24:    const patterns = await getPatterns(tenantId, category);
D:\Unite-Hub\src\app\api\patterns\match\route.ts:18:    const { tenantId, context } = await req.json();
D:\Unite-Hub\src\app\api\patterns\match\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\patterns\match\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\patterns\match\route.ts:23:    const matches = await matchPattern(tenantId, context || {});
D:\Unite-Hub\src\app\api\performance\normalized\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId') || undefined;
D:\Unite-Hub\src\app\api\performance\normalized\route.ts:19:    const snapshots = await getNormalizedSnapshots(tenantId);
D:\Unite-Hub\src\app\api\playbooks\intelligence\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\playbooks\intelligence\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\playbooks\intelligence\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\playbooks\intelligence\route.ts:23:    const playbooks = await getPlaybooks(tenantId);
D:\Unite-Hub\src\app\api\playbooks\intelligence\route.ts:45:    const { tenantId, scope } = body;
D:\Unite-Hub\src\app\api\playbooks\intelligence\route.ts:47:    if (!tenantId || !scope) {
D:\Unite-Hub\src\app\api\playbooks\intelligence\route.ts:51:    const playbook = await generatePlaybook(tenantId, scope);
D:\Unite-Hub\src\app\api\posting\attempts\route.ts:24:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\posting\attempts\route.ts:30:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\posting\attempts\route.ts:32:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\posting\attempts\route.ts:39:      const overview = await getPostingEngineOverview(workspaceId);
D:\Unite-Hub\src\app\api\posting\attempts\route.ts:45:      const stats = await getSchedulerStats(workspaceId, days);
D:\Unite-Hub\src\app\api\posting\attempts\route.ts:56:    const attempts = await getRecentAttempts(workspaceId, limit);
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:27:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:29:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:31:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:37:    const config = await getPostingEngineConfig(workspaceId);
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:58:    const { workspaceId, action, clientId, scheduleId, attemptId, config } = body;
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:60:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:62:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:69:      const result = await runPostingLoop(workspaceId);
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:78:      const result = await processClientSchedules(clientId, workspaceId);
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:96:      await setEngineEnabled(workspaceId, true);
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:101:      await setEngineEnabled(workspaceId, false);
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:108:      await setDraftMode(workspaceId, enabled);
D:\Unite-Hub\src\app\api\posting\scheduler\route.ts:116:      const updated = await updatePostingEngineConfig(workspaceId, config);
D:\Unite-Hub\src\app\api\posting-execution\execute\route.ts:28:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\posting-execution\execute\route.ts:46:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\posting-execution\execute\route.ts:47:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\posting-execution\execute\route.ts:52:      const stats = await getExecutionStats(workspaceId, days);
D:\Unite-Hub\src\app\api\posting-execution\execute\route.ts:57:    const executions = await listExecutions(workspaceId, {
D:\Unite-Hub\src\app\api\posting-execution\preflight\route.ts:22:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\posting-execution\preflight\route.ts:39:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\posting-execution\preflight\route.ts:40:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\posting-execution\preflight\route.ts:43:    const preflights = await listPreflights(workspaceId, {
D:\Unite-Hub\src\app\api\posting-execution\preflight\route.ts:70:    const { scheduleId, clientId, workspaceId, channel, content } = body;
D:\Unite-Hub\src\app\api\posting-execution\preflight\route.ts:72:    if (!scheduleId || !clientId || !workspaceId || !channel || !content) {
D:\Unite-Hub\src\app\api\posting-execution\preflight\route.ts:74:        { error: 'scheduleId, clientId, workspaceId, channel, and content required' },
D:\Unite-Hub\src\app\api\posting-execution\preflight\route.ts:82:      workspaceId,
D:\Unite-Hub\src\app\api\posting-execution\rollback\route.ts:26:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\posting-execution\rollback\route.ts:40:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\posting-execution\rollback\route.ts:41:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\posting-execution\rollback\route.ts:45:    const rollbacks = await listRollbacks(workspaceId, {
D:\Unite-Hub\src\app\api\posting-execution\scheduler\route.ts:26:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\posting-execution\scheduler\route.ts:30:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\posting-execution\scheduler\route.ts:31:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\posting-execution\scheduler\route.ts:36:      const status = await getSchedulerStatus(workspaceId);
D:\Unite-Hub\src\app\api\posting-execution\scheduler\route.ts:42:      const upcoming = await getUpcomingSchedules(workspaceId, limit);
D:\Unite-Hub\src\app\api\posting-execution\scheduler\route.ts:48:      getSchedulerStatus(workspaceId),
D:\Unite-Hub\src\app\api\posting-execution\scheduler\route.ts:49:      getUpcomingSchedules(workspaceId, limit),
D:\Unite-Hub\src\app\api\posting-execution\scheduler\route.ts:77:    const { action, workspaceId } = body;
D:\Unite-Hub\src\app\api\posting-execution\scheduler\route.ts:81:      const results = await processDueSchedules(workspaceId);
D:\Unite-Hub\src\app\api\postmortem\incidents\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\postmortem\incidents\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\postmortem\incidents\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\postmortem\incidents\route.ts:23:    const postmortems = await getPostmortems(tenantId);
D:\Unite-Hub\src\app\api\postmortem\incidents\route.ts:45:    const { tenantId, incidentType, title, summary, facts } = await req.json();
D:\Unite-Hub\src\app\api\postmortem\incidents\route.ts:46:    if (!tenantId || !incidentType || !title || !summary) {
D:\Unite-Hub\src\app\api\postmortem\incidents\route.ts:50:    const postmortem = await createPostmortem(tenantId, incidentType, title, summary, facts || []);
D:\Unite-Hub\src\app\api\pre-clients\route.ts:38:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\pre-clients\route.ts:39:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\route.ts:41:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\route.ts:70:    const result = await preClientMapperService.listPreClients(workspaceId, {
D:\Unite-Hub\src\app\api\pre-clients\route.ts:120:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\pre-clients\route.ts:122:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\route.ts:124:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\route.ts:143:          workspaceId
D:\Unite-Hub\src\app\api\pre-clients\route.ts:179:          workspaceId,
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:39:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:40:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:42:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:47:    const preClient = await preClientMapperService.getPreClient(id, workspaceId);
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:97:    const { workspaceId, name, company, notes, status } = body;
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:99:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:101:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:108:      workspaceId,
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:159:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:162:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:164:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:172:      success = await preClientMapperService.delete(id, workspaceId);
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:174:      success = await preClientMapperService.archive(id, workspaceId);
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:225:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:227:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:229:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:240:          workspaceId,
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:262:          workspaceId
D:\Unite-Hub\src\app\api\pre-clients\[id]\route.ts:286:          workspaceId
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:46:    const { workspaceId, connectedAppId, startDate, endDate, fullPipeline } = body;
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:48:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:50:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:65:      workspaceId
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:84:      workspaceId,
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:102:      runFullPipeline(preClientId, workspaceId).catch((err) => {
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:153:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:156:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:158:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:172:        .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:199:        .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:240:  workspaceId: string
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:249:      workspaceId,
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:254:    await relationshipTimelineService.buildTimeline(preClientId, workspaceId);
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:258:    await opportunityDetectorService.processPreClient(preClientId, workspaceId);
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:262:    await preClientMapperService.updateStats(preClientId, workspaceId);
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:266:    await preClientMapperService.calculateSentimentScore(preClientId, workspaceId);
D:\Unite-Hub\src\app\api\pre-clients\[id]\ingest-history\route.ts:272:      workspaceId
D:\Unite-Hub\src\app\api\pre-clients\[id]\insights\route.ts:44:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\pre-clients\[id]\insights\route.ts:45:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\insights\route.ts:47:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\insights\route.ts:71:      workspaceId,
D:\Unite-Hub\src\app\api\pre-clients\[id]\insights\route.ts:138:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\pre-clients\[id]\insights\route.ts:140:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\insights\route.ts:142:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\insights\route.ts:152:          workspaceId
D:\Unite-Hub\src\app\api\pre-clients\[id]\insights\route.ts:166:          workspaceId
D:\Unite-Hub\src\app\api\pre-clients\[id]\insights\route.ts:211:          workspaceId
D:\Unite-Hub\src\app\api\pre-clients\[id]\insights\route.ts:234:          workspaceId,
D:\Unite-Hub\src\app\api\pre-clients\[id]\threads\route.ts:39:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\pre-clients\[id]\threads\route.ts:40:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\threads\route.ts:42:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\threads\route.ts:62:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\pre-clients\[id]\threads\route.ts:154:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\pre-clients\[id]\threads\route.ts:156:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\threads\route.ts:158:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\threads\route.ts:168:          workspaceId,
D:\Unite-Hub\src\app\api\pre-clients\[id]\threads\route.ts:182:          workspaceId
D:\Unite-Hub\src\app\api\pre-clients\[id]\timeline\route.ts:42:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\pre-clients\[id]\timeline\route.ts:43:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\timeline\route.ts:45:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\timeline\route.ts:65:      workspaceId,
D:\Unite-Hub\src\app\api\pre-clients\[id]\timeline\route.ts:129:    const { workspaceId, action } = body;
D:\Unite-Hub\src\app\api\pre-clients\[id]\timeline\route.ts:131:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\pre-clients\[id]\timeline\route.ts:133:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\pre-clients\[id]\timeline\route.ts:143:          workspaceId
D:\Unite-Hub\src\app\api\pre-clients\[id]\timeline\route.ts:157:          workspaceId
D:\Unite-Hub\src\app\api\pre-clients\[id]\timeline\route.ts:192:          workspaceId
D:\Unite-Hub\src\app\api\pre-clients\[id]\timeline\route.ts:214:          workspaceId,
D:\Unite-Hub\src\app\api\predictions\success\route.ts:24:    const tenantId = req.nextUrl.searchParams.get('tenantId') || undefined;
D:\Unite-Hub\src\app\api\predictions\success\route.ts:27:    const predictions = await getPredictions(tenantId, domain);
D:\Unite-Hub\src\app\api\projects\route.ts:129:      workspaceId,
D:\Unite-Hub\src\app\api\projects\route.ts:150:      workspace_id: workspaceId || null,
D:\Unite-Hub\src\app\api\reasoning\start\route.ts:15:  workspaceId: string;
D:\Unite-Hub\src\app\api\reasoning\start\route.ts:71:    if (!body.workspaceId) {
D:\Unite-Hub\src\app\api\reasoning\start\route.ts:73:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\reasoning\start\route.ts:98:      .eq('id', body.workspaceId)
D:\Unite-Hub\src\app\api\reasoning\start\route.ts:128:      workspaceId: body.workspaceId,
D:\Unite-Hub\src\app\api\reasoning\start\route.ts:136:      workspace_id: body.workspaceId,
D:\Unite-Hub\src\app\api\reasoning\trace\route.ts:60:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\reasoning\trace\route.ts:64:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\reasoning\trace\route.ts:66:        { error: 'workspaceId query parameter is required' },
D:\Unite-Hub\src\app\api\reasoning\trace\route.ts:84:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\reasoning\trace\route.ts:114:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\reasoning\trace\route.ts:155:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\reports\analytics\route.ts:51:    const workspaceId = req.nextUrl.searchParams.get('workspaceId') || undefined;
D:\Unite-Hub\src\app\api\reports\analytics\route.ts:61:        result = await usageAnalyticsService.generateHeatmap(orgId, workspaceId, days);
D:\Unite-Hub\src\app\api\reports\audit\route.ts:59:        const workspaceId = req.nextUrl.searchParams.get('workspaceId') || undefined;
D:\Unite-Hub\src\app\api\reports\audit\route.ts:68:          workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\research\findings\route.ts:28:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\research\findings\route.ts:34:    if (!tenantId) {
D:\Unite-Hub\src\app\api\research\findings\route.ts:36:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\research\findings\route.ts:41:    const findings = await listFindings(tenantId, {
D:\Unite-Hub\src\app\api\research\projects\route.ts:30:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\research\projects\route.ts:34:    if (!tenantId) {
D:\Unite-Hub\src\app\api\research\projects\route.ts:36:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\research\projects\route.ts:41:    const projects = await listProjects(tenantId, {
D:\Unite-Hub\src\app\api\research\projects\route.ts:72:    const { tenantId, ...projectData } = body;
D:\Unite-Hub\src\app\api\research\projects\route.ts:74:    if (!tenantId || !projectData.name) {
D:\Unite-Hub\src\app\api\research\projects\route.ts:76:        { error: 'tenantId and name are required' },
D:\Unite-Hub\src\app\api\research\projects\route.ts:81:    const project = await createProject(tenantId, projectData, user.id);
D:\Unite-Hub\src\app\api\research\projects\[id]\run\route.ts:29:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\research\projects\[id]\run\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\research\projects\[id]\run\route.ts:33:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\research\projects\[id]\run\route.ts:38:    const result = await runProjectResearch(tenantId, id, user.id);
D:\Unite-Hub\src\app\api\research\queries\route.ts:30:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\research\queries\route.ts:35:    if (!tenantId) {
D:\Unite-Hub\src\app\api\research\queries\route.ts:37:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\research\queries\route.ts:42:    const queries = await listQueries(tenantId, {
D:\Unite-Hub\src\app\api\research\queries\route.ts:74:    const { tenantId, ...queryData } = body;
D:\Unite-Hub\src\app\api\research\queries\route.ts:76:    if (!tenantId || !queryData.query) {
D:\Unite-Hub\src\app\api\research\queries\route.ts:78:        { error: 'tenantId and query are required' },
D:\Unite-Hub\src\app\api\research\queries\route.ts:83:    const result = await executeQuery(tenantId, queryData, user.id);
D:\Unite-Hub\src\app\api\research\stats\route.ts:25:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\research\stats\route.ts:27:    if (!tenantId) {
D:\Unite-Hub\src\app\api\research\stats\route.ts:29:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\research\stats\route.ts:34:    const stats = await getResearchStats(tenantId);
D:\Unite-Hub\src\app\api\roadmap\generate\route.ts:18:    const { tenantId, name, horizonMonths } = await req.json();
D:\Unite-Hub\src\app\api\roadmap\generate\route.ts:19:    if (!tenantId || !name || !horizonMonths) {
D:\Unite-Hub\src\app\api\roadmap\generate\route.ts:27:    const roadmap = await generateRoadmap(tenantId, name, horizonMonths);
D:\Unite-Hub\src\app\api\roadmap\list\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\roadmap\list\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\roadmap\list\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\roadmap\list\route.ts:23:    const roadmaps = await getRoadmaps(tenantId);
D:\Unite-Hub\src\app\api\safety\enforce\route.ts:7: *   workspaceId: string (required)
D:\Unite-Hub\src\app\api\safety\enforce\route.ts:22:  workspaceId: string;
D:\Unite-Hub\src\app\api\safety\enforce\route.ts:76:      workspaceId,
D:\Unite-Hub\src\app\api\safety\enforce\route.ts:84:    if (!workspaceId || typeof riskScore !== 'number') {
D:\Unite-Hub\src\app\api\safety\enforce\route.ts:86:        { error: 'workspaceId and riskScore are required' },
D:\Unite-Hub\src\app\api\safety\enforce\route.ts:97:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\safety\enforce\route.ts:117:      workspaceId,
D:\Unite-Hub\src\app\api\safety\enforce\route.ts:129:        workspaceId,
D:\Unite-Hub\src\app\api\safety\intervene\route.ts:7: *   workspaceId: string (required)
D:\Unite-Hub\src\app\api\safety\intervene\route.ts:21:  workspaceId: string;
D:\Unite-Hub\src\app\api\safety\intervene\route.ts:73:    const { workspaceId, action, reason, targetAgent, targetWorkflow } = body;
D:\Unite-Hub\src\app\api\safety\intervene\route.ts:75:    if (!workspaceId || !action || !reason) {
D:\Unite-Hub\src\app\api\safety\intervene\route.ts:77:        { error: 'workspaceId, action, and reason are required' },
D:\Unite-Hub\src\app\api\safety\intervene\route.ts:97:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\safety\intervene\route.ts:117:      workspaceId,
D:\Unite-Hub\src\app\api\safety\intervene\route.ts:128:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\safety\intervene\route.ts:138:      workspaceId,
D:\Unite-Hub\src\app\api\safety\ledger\route.ts:6: * - workspaceId (required): Workspace to get ledger for
D:\Unite-Hub\src\app\api\safety\ledger\route.ts:50:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\safety\ledger\route.ts:55:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\safety\ledger\route.ts:57:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\safety\ledger\route.ts:68:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\safety\ledger\route.ts:90:      .eq('workspace_id', workspaceId);
D:\Unite-Hub\src\app\api\safety\ledger\route.ts:116:          id: workspaceId,
D:\Unite-Hub\src\app\api\safety\status\route.ts:6: * - workspaceId (required): Workspace to get safety status for
D:\Unite-Hub\src\app\api\safety\status\route.ts:49:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\safety\status\route.ts:52:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\safety\status\route.ts:54:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\safety\status\route.ts:65:      .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\safety\status\route.ts:94:        .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\safety\status\route.ts:102:        .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\safety\status\route.ts:110:        .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\safety\status\route.ts:118:      workspaceId,
D:\Unite-Hub\src\app\api\safety\status\route.ts:141:          id: workspaceId,
D:\Unite-Hub\src\app\api\scraping\analyze\route.ts:86:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\scraping\analyze\route.ts:87:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\scraping\analyze\route.ts:89:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\scraping\analyze\route.ts:157:          workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\scraping\monitor\route.ts:40:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\scraping\monitor\route.ts:41:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\scraping\monitor\route.ts:43:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\scraping\monitor\route.ts:64:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\scraping\monitor\route.ts:72:    analyzeUrl.searchParams.set('workspaceId', workspaceId);
D:\Unite-Hub\src\app\api\scraping\monitor\route.ts:141:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\scraping\monitor\route.ts:200:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\scraping\monitor\route.ts:203:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\scraping\monitor\route.ts:205:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\scraping\monitor\route.ts:215:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\search-suite\alerts\route.ts:89:    const { action, projectId, workspaceId, alertId, alertIds, options } = body;
D:\Unite-Hub\src\app\api\search-suite\alerts\route.ts:92:      if (!projectId || !workspaceId) {
D:\Unite-Hub\src\app\api\search-suite\alerts\route.ts:93:        return NextResponse.json({ error: 'projectId and workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\search-suite\alerts\route.ts:96:      const result = await volatilityService.checkVolatility(projectId, workspaceId, options);
D:\Unite-Hub\src\app\api\search-suite\keywords\route.ts:105:    const { action, projectId, workspaceId, keywords, keywordId, keywordIds, options, csvContent } = body;
D:\Unite-Hub\src\app\api\search-suite\keywords\route.ts:108:      if (!projectId || !workspaceId || !keywords || !Array.isArray(keywords)) {
D:\Unite-Hub\src\app\api\search-suite\keywords\route.ts:110:          { error: 'projectId, workspaceId, and keywords array required' },
D:\Unite-Hub\src\app\api\search-suite\keywords\route.ts:115:      const result = await keywordTrackingService.addKeywords(projectId, workspaceId, keywords, options);
D:\Unite-Hub\src\app\api\search-suite\keywords\route.ts:138:      if (!projectId || !workspaceId || !csvContent) {
D:\Unite-Hub\src\app\api\search-suite\keywords\route.ts:140:          { error: 'projectId, workspaceId, and csvContent required' },
D:\Unite-Hub\src\app\api\search-suite\keywords\route.ts:145:      const result = await keywordTrackingService.importKeywordsFromCsv(projectId, workspaceId, csvContent);
D:\Unite-Hub\src\app\api\security\alerts\route.ts:14:  const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\security\alerts\route.ts:16:  if (!tenantId) {
D:\Unite-Hub\src\app\api\security\alerts\route.ts:17:    return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\security\alerts\route.ts:20:  const alerts = await securityAlertService.listAlerts(supabase, tenantId, 50);
D:\Unite-Hub\src\app\api\security\alerts\route.ts:27:  const { tenantId, type, severity, message, source, metadata } = body;
D:\Unite-Hub\src\app\api\security\alerts\route.ts:29:  if (!tenantId || !type || !severity || !message) {
D:\Unite-Hub\src\app\api\security\alerts\route.ts:30:    return NextResponse.json({ error: 'tenantId, type, severity, and message are required' }, { status: 400 });
D:\Unite-Hub\src\app\api\security\alerts\route.ts:34:    tenantId,
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:14:  const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:16:  if (!tenantId) {
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:17:    return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:23:    .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:37:  const { tenantId, name, scopes } = body;
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:39:  if (!tenantId || !name) {
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:40:    return NextResponse.json({ error: 'tenantId and name required' }, { status: 400 });
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:43:  const { rawKey, recordId } = await apiKeyService.createApiKey(supabase, tenantId, name, scopes ?? []);
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:55:  const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:58:  if (!tenantId || !id) {
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:59:    return NextResponse.json({ error: 'tenantId and id required' }, { status: 400 });
D:\Unite-Hub\src\app\api\security\api-keys\route.ts:62:  const ok = await apiKeyService.revokeApiKey(supabase, tenantId, id);
D:\Unite-Hub\src\app\api\seo-enhancement\audit\route.ts:34:    const { workspaceId, url, auditType, clientId, scheduledAt } = body;
D:\Unite-Hub\src\app\api\seo-enhancement\audit\route.ts:36:    if (!workspaceId || !url) {
D:\Unite-Hub\src\app\api\seo-enhancement\audit\route.ts:38:        { error: 'workspaceId and url are required' },
D:\Unite-Hub\src\app\api\seo-enhancement\audit\route.ts:44:      workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\audit\route.ts:84:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\seo-enhancement\audit\route.ts:99:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\seo-enhancement\audit\route.ts:101:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\seo-enhancement\audit\route.ts:107:    const history = await seoAuditService.getAuditHistory(workspaceId, {
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:34:    const { action, workspaceId, clientDomain } = body;
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:36:    if (!workspaceId || !clientDomain) {
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:38:        { error: 'workspaceId and clientDomain are required' },
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:55:        workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:67:        workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:76:        workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:85:        workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:94:        competitorGapService.analyzeKeywordGap(workspaceId, clientDomain),
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:95:        competitorGapService.analyzeContentGap(workspaceId, clientDomain),
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:96:        competitorGapService.analyzeBacklinkGap(workspaceId, clientDomain),
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:135:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:139:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:141:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:149:        workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:158:        workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:167:        workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:176:        workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:185:        competitorGapService.getCompetitors(workspaceId, clientDomain),
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:186:        competitorGapService.getKeywordGapAnalysis(workspaceId, clientDomain),
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:187:        competitorGapService.getContentGapAnalysis(workspaceId, clientDomain),
D:\Unite-Hub\src\app\api\seo-enhancement\competitors\route.ts:188:        competitorGapService.getBacklinkGapAnalysis(workspaceId, clientDomain),
D:\Unite-Hub\src\app\api\seo-enhancement\content\route.ts:34:    const { workspaceId, url, targetKeyword, secondaryKeywords } = body;
D:\Unite-Hub\src\app\api\seo-enhancement\content\route.ts:36:    if (!workspaceId || !url || !targetKeyword) {
D:\Unite-Hub\src\app\api\seo-enhancement\content\route.ts:38:        { error: 'workspaceId, url, and targetKeyword are required' },
D:\Unite-Hub\src\app\api\seo-enhancement\content\route.ts:44:      workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\content\route.ts:83:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\seo-enhancement\content\route.ts:93:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\seo-enhancement\content\route.ts:95:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\seo-enhancement\content\route.ts:100:    const history = await contentOptimizationService.getContentAnalysisHistory(workspaceId, {
D:\Unite-Hub\src\app\api\seo-enhancement\ctr\route.ts:34:    const { action, workspaceId } = body;
D:\Unite-Hub\src\app\api\seo-enhancement\ctr\route.ts:36:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\seo-enhancement\ctr\route.ts:38:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\seo-enhancement\ctr\route.ts:55:        workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\ctr\route.ts:101:        workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\ctr\route.ts:183:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\seo-enhancement\ctr\route.ts:190:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\seo-enhancement\ctr\route.ts:192:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\seo-enhancement\ctr\route.ts:198:      const benchmarks = await ctrOptimizationService.getCTRBenchmarks(workspaceId, {
D:\Unite-Hub\src\app\api\seo-enhancement\ctr\route.ts:205:    const tests = await ctrOptimizationService.getTests(workspaceId, {
D:\Unite-Hub\src\app\api\seo-enhancement\schema\route.ts:34:    const { workspaceId, url, schemaType, pageInfo, action } = body;
D:\Unite-Hub\src\app\api\seo-enhancement\schema\route.ts:36:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\seo-enhancement\schema\route.ts:38:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\seo-enhancement\schema\route.ts:54:        workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\schema\route.ts:71:      workspaceId,
D:\Unite-Hub\src\app\api\seo-enhancement\schema\route.ts:113:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\seo-enhancement\schema\route.ts:119:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\seo-enhancement\schema\route.ts:121:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\seo-enhancement\schema\route.ts:127:      const results = await richResultsService.getRichResultMonitoring(workspaceId, {
D:\Unite-Hub\src\app\api\seo-enhancement\schema\route.ts:134:    const schemas = await richResultsService.getSchemas(workspaceId, {
D:\Unite-Hub\src\app\api\sequences\generate\route.ts:32:      workspaceId,
D:\Unite-Hub\src\app\api\sequences\generate\route.ts:83:    const targetWorkspaceId = workspaceId || contact.workspace_id;
D:\Unite-Hub\src\app\api\sequences\generate\route.ts:89:      .eq("id", targetWorkspaceId)
D:\Unite-Hub\src\app\api\sequences\generate\route.ts:187:        workspace_id: targetWorkspaceId,
D:\Unite-Hub\src\app\api\sequences\[id]\route.ts:87:        workspaceId: sequence.workspace_id,
D:\Unite-Hub\src\app\api\signal-purity\snapshots\route.ts:25:    const tenantId = req.nextUrl.searchParams.get('tenantId') || undefined;
D:\Unite-Hub\src\app\api\signal-purity\snapshots\route.ts:27:    const snapshots = await getPuritySnapshots(sourceEngine, tenantId);
D:\Unite-Hub\src\app\api\sites\route.ts:21:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\sites\route.ts:22:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\sites\route.ts:23:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\sites\route.ts:31:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\sites\route.ts:63:    const { workspaceId, name, domain, url, siteType, cmsType, accessMethod } = body;
D:\Unite-Hub\src\app\api\sites\route.ts:65:    if (!workspaceId || !name || !domain || !url) {
D:\Unite-Hub\src\app\api\sites\route.ts:74:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\sites\scan\route.ts:22:    const { siteId, workspaceId, scanType = 'seo' } = body;
D:\Unite-Hub\src\app\api\sites\scan\route.ts:24:    if (!siteId || !workspaceId) {
D:\Unite-Hub\src\app\api\sites\scan\route.ts:25:      return NextResponse.json({ error: 'siteId and workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\sites\scan\route.ts:35:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\sites\scan\route.ts:47:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\social-inbox\accounts\route.ts:33:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\social-inbox\accounts\route.ts:35:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\social-inbox\accounts\route.ts:36:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\social-inbox\accounts\route.ts:44:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\social-inbox\accounts\route.ts:81:    const { workspaceId, provider, accessToken, refreshToken, accountId, username, displayName, profileImageUrl } = body;
D:\Unite-Hub\src\app\api\social-inbox\accounts\route.ts:83:    if (!workspaceId || !provider || !accessToken || !accountId) {
D:\Unite-Hub\src\app\api\social-inbox\accounts\route.ts:85:        { error: 'workspaceId, provider, accessToken, and accountId are required' },
D:\Unite-Hub\src\app\api\social-inbox\accounts\route.ts:90:    const account = await socialInboxService.connectAccount(workspaceId, {
D:\Unite-Hub\src\app\api\social-inbox\messages\route.ts:29:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\social-inbox\messages\route.ts:38:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\social-inbox\messages\route.ts:39:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\social-inbox\messages\route.ts:43:      workspaceId,
D:\Unite-Hub\src\app\api\social-inbox\messages\route.ts:141:    const { action, workspaceId, accountId } = body;
D:\Unite-Hub\src\app\api\social-inbox\messages\route.ts:144:      if (!workspaceId) {
D:\Unite-Hub\src\app\api\social-inbox\messages\route.ts:145:        return NextResponse.json({ error: 'workspaceId required for sync' }, { status: 400 });
D:\Unite-Hub\src\app\api\social-inbox\messages\route.ts:148:      const result = await socialInboxService.syncMessages(workspaceId, {
D:\Unite-Hub\src\app\api\social-inbox\reply\route.ts:57:          workspaceId: message.workspace_id,
D:\Unite-Hub\src\app\api\social-inbox\reply\route.ts:155:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\social-inbox\reply\route.ts:158:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\social-inbox\reply\route.ts:159:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\social-inbox\reply\route.ts:163:      const pending = await socialReplyService.getPendingReplies(workspaceId);
D:\Unite-Hub\src\app\api\social-inbox\reply\route.ts:171:      const templates = await socialReplyService.getTemplates(workspaceId, {
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:30:    const { action, workspaceId, messageId, messageIds, options } = body;
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:52:        workspaceId: message.workspace_id,
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:77:      if (!workspaceId) {
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:78:        return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:81:      const result = await socialTriageService.batchTriage(workspaceId, {
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:90:      if (!workspaceId) {
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:91:        return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:95:      const messages = await socialTriageService.getUntriagedMessages(workspaceId, limit);
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:125:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:127:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:128:      return NextResponse.json({ error: 'workspaceId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\social-inbox\triage\route.ts:137:      .eq('workspace_id', workspaceId);
D:\Unite-Hub\src\app\api\staff\scope-ai\generate\route.ts:26: *   workspaceId: string;
D:\Unite-Hub\src\app\api\staff\scope-ai\generate\route.ts:53:  workspaceId: z.string().uuid('Invalid workspace ID'),
D:\Unite-Hub\src\app\api\staff\scope-ai\generate\route.ts:112:    const { idea, organizationId, workspaceId, clientId } = validationResult.data;
D:\Unite-Hub\src\app\api\staff\scope-ai\generate\route.ts:127:      workspaceId,
D:\Unite-Hub\src\app\api\storytelling\touchpoints\route.ts:50:    const workspaceId = searchParams.get('workspace_id') || 'ws_demo';
D:\Unite-Hub\src\app\api\storytelling\touchpoints\route.ts:69:          generateWeeklyTouchpointForClient(workspaceId, clientId, clientName)
D:\Unite-Hub\src\app\api\storytelling\touchpoints\route.ts:75:          generateMonthlyTouchpointForClient(workspaceId, clientId, clientName)
D:\Unite-Hub\src\app\api\storytelling\touchpoints\route.ts:81:          generate90DayTouchpointForClient(workspaceId, clientId, clientName)
D:\Unite-Hub\src\app\api\storytelling\touchpoints\route.ts:89:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\strategy\create\route.ts:37:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\strategy\create\route.ts:38:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\strategy\create\route.ts:39:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\strategy\create\route.ts:43:    const rateLimitResult = checkRateLimit(`strategy:${workspaceId}`, 5, 60);
D:\Unite-Hub\src\app\api\strategy\create\route.ts:89:      workspaceId,
D:\Unite-Hub\src\app\api\strategy\create\route.ts:116:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\strategy\create\route.ts:136:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\strategy\create\route.ts:154:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\strategy\history\route.ts:33:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\strategy\history\route.ts:37:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\strategy\history\route.ts:38:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\strategy\history\route.ts:42:    const rateLimitResult = checkRateLimit(`strategy:history:${workspaceId}`, 30, 60);
D:\Unite-Hub\src\app\api\strategy\history\route.ts:78:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\strategy\history\route.ts:98:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\strategy\history\route.ts:103:      archiveQuery = archiveQuery.eq('workspace_id', workspaceId);
D:\Unite-Hub\src\app\api\strategy\history\route.ts:116:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\strategy\status\route.ts:33:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\strategy\status\route.ts:36:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\strategy\status\route.ts:37:      return NextResponse.json({ error: 'workspaceId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\strategy\status\route.ts:45:    const rateLimitResult = checkRateLimit(`strategy:status:${workspaceId}`, 30, 60);
D:\Unite-Hub\src\app\api\strategy\status\route.ts:82:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\strategy\status\route.ts:94:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\strategy\status\route.ts:109:      .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\synthex\admin\tenants\[tenantId]\actions\route.ts:3: * POST /api/synthex/admin/tenants/[tenantId]/actions - Execute safe admin actions
D:\Unite-Hub\src\app\api\synthex\admin\tenants\[tenantId]\actions\route.ts:13:    tenantId: string;
D:\Unite-Hub\src\app\api\synthex\admin\tenants\[tenantId]\actions\route.ts:34:    // Await params to get tenantId
D:\Unite-Hub\src\app\api\synthex\admin\tenants\[tenantId]\actions\route.ts:35:    const { tenantId } = await params;
D:\Unite-Hub\src\app\api\synthex\admin\tenants\[tenantId]\actions\route.ts:53:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\admin\tenants\[tenantId]\health\route.ts:3: * GET /api/synthex/admin/tenants/[tenantId]/health - Get tenant health snapshot
D:\Unite-Hub\src\app\api\synthex\admin\tenants\[tenantId]\health\route.ts:13:    tenantId: string;
D:\Unite-Hub\src\app\api\synthex\admin\tenants\[tenantId]\health\route.ts:34:    // Await params to get tenantId
D:\Unite-Hub\src\app\api\synthex\admin\tenants\[tenantId]\health\route.ts:35:    const { tenantId } = await params;
D:\Unite-Hub\src\app\api\synthex\admin\tenants\[tenantId]\health\route.ts:38:    const snapshot = await getTenantHealthSnapshot(user.id, tenantId);
D:\Unite-Hub\src\app\api\synthex\agency\alerts\route.ts:27:    const agencyTenantId = searchParams.get('agencyTenantId');
D:\Unite-Hub\src\app\api\synthex\agency\alerts\route.ts:28:    const clientTenantId = searchParams.get('clientTenantId');
D:\Unite-Hub\src\app\api\synthex\agency\alerts\route.ts:33:    if (!agencyTenantId) {
D:\Unite-Hub\src\app\api\synthex\agency\alerts\route.ts:35:        { error: 'agencyTenantId is required' },
D:\Unite-Hub\src\app\api\synthex\agency\alerts\route.ts:40:    const alerts = await getAgencyAlerts(agencyTenantId, {
D:\Unite-Hub\src\app\api\synthex\agency\alerts\route.ts:41:      clientTenantId: clientTenantId || undefined,
D:\Unite-Hub\src\app\api\synthex\agency\alerts\route.ts:70:    const { agencyTenantId, ...alertInput } = body;
D:\Unite-Hub\src\app\api\synthex\agency\alerts\route.ts:72:    if (!agencyTenantId || !alertInput.alert_type || !alertInput.title || !alertInput.message) {
D:\Unite-Hub\src\app\api\synthex\agency\alerts\route.ts:74:        { error: 'agencyTenantId, alert_type, title, and message are required' },
D:\Unite-Hub\src\app\api\synthex\agency\alerts\route.ts:88:    const alert = await createAlert(agencyTenantId, input);
D:\Unite-Hub\src\app\api\synthex\agency\goals\route.ts:28:    const agencyTenantId = searchParams.get('agencyTenantId');
D:\Unite-Hub\src\app\api\synthex\agency\goals\route.ts:31:    if (!agencyTenantId) {
D:\Unite-Hub\src\app\api\synthex\agency\goals\route.ts:33:        { error: 'agencyTenantId is required' },
D:\Unite-Hub\src\app\api\synthex\agency\goals\route.ts:38:    const goals = await getAgencyGoals(agencyTenantId, {
D:\Unite-Hub\src\app\api\synthex\agency\goals\route.ts:65:    const { agencyTenantId, ...goalInput } = body;
D:\Unite-Hub\src\app\api\synthex\agency\goals\route.ts:67:    if (!agencyTenantId || !goalInput.goal_type || !goalInput.target_value || !goalInput.period_start || !goalInput.period_end) {
D:\Unite-Hub\src\app\api\synthex\agency\goals\route.ts:69:        { error: 'agencyTenantId, goal_type, target_value, period_start, and period_end are required' },
D:\Unite-Hub\src\app\api\synthex\agency\goals\route.ts:82:    const goal = await createGoal(agencyTenantId, input);
D:\Unite-Hub\src\app\api\synthex\agency\metrics\route.ts:27:    const clientTenantId = searchParams.get('clientTenantId');
D:\Unite-Hub\src\app\api\synthex\agency\metrics\route.ts:32:    if (!clientTenantId) {
D:\Unite-Hub\src\app\api\synthex\agency\metrics\route.ts:34:        { error: 'clientTenantId is required' },
D:\Unite-Hub\src\app\api\synthex\agency\metrics\route.ts:40:      clientTenantId,
D:\Unite-Hub\src\app\api\synthex\agency\metrics\route.ts:83:    const { clientTenantId, period, periodType, ...metricsData } = body;
D:\Unite-Hub\src\app\api\synthex\agency\metrics\route.ts:85:    if (!clientTenantId || !period) {
D:\Unite-Hub\src\app\api\synthex\agency\metrics\route.ts:87:        { error: 'clientTenantId and period are required' },
D:\Unite-Hub\src\app\api\synthex\agency\metrics\route.ts:115:    const metric = await upsertClientMetrics(clientTenantId, input);
D:\Unite-Hub\src\app\api\synthex\agency\overview\route.ts:27:    const agencyTenantId = searchParams.get('agencyTenantId');
D:\Unite-Hub\src\app\api\synthex\agency\overview\route.ts:34:    if (!agencyTenantId) {
D:\Unite-Hub\src\app\api\synthex\agency\overview\route.ts:36:        { error: 'agencyTenantId is required' },
D:\Unite-Hub\src\app\api\synthex\agency\overview\route.ts:43:      agencyTenantId,
D:\Unite-Hub\src\app\api\synthex\agency\overview\route.ts:58:        agencyTenantId,
D:\Unite-Hub\src\app\api\synthex\agency\overview\route.ts:65:      response.alerts = await getAgencyAlerts(agencyTenantId, {
D:\Unite-Hub\src\app\api\synthex\agency\overview\route.ts:72:      response.goals = await getAgencyGoals(agencyTenantId, {
D:\Unite-Hub\src\app\api\synthex\agent\generate-content\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\agent\generate-content\route.ts:33:    const { tenantId, brandId, contentType, topic, additionalContext } = body;
D:\Unite-Hub\src\app\api\synthex\agent\generate-content\route.ts:35:    if (!tenantId || !contentType || !topic) {
D:\Unite-Hub\src\app\api\synthex\agent\generate-content\route.ts:37:        { error: 'Missing required fields: tenantId, contentType, topic' },
D:\Unite-Hub\src\app\api\synthex\agent\generate-content\route.ts:46:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\agent\generate-content\route.ts:54:      tenantId,
D:\Unite-Hub\src\app\api\synthex\agent\generate-sequence\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\agent\generate-sequence\route.ts:33:    const { tenantId, brandId, campaignType, goal, emailCount } = body;
D:\Unite-Hub\src\app\api\synthex\agent\generate-sequence\route.ts:35:    if (!tenantId || !campaignType || !goal) {
D:\Unite-Hub\src\app\api\synthex\agent\generate-sequence\route.ts:37:        { error: 'Missing required fields: tenantId, campaignType, goal' },
D:\Unite-Hub\src\app\api\synthex\agent\generate-sequence\route.ts:46:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\agent\generate-sequence\route.ts:54:      tenantId,
D:\Unite-Hub\src\app\api\synthex\agent\run\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\agent\run\route.ts:43:    const { tenantId, brandId, task, conversationId, autonomousMode } = body;
D:\Unite-Hub\src\app\api\synthex\agent\run\route.ts:46:    if (!tenantId || typeof tenantId !== 'string') {
D:\Unite-Hub\src\app\api\synthex\agent\run\route.ts:48:        { error: 'Missing or invalid tenantId' },
D:\Unite-Hub\src\app\api\synthex\agent\run\route.ts:64:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\agent\run\route.ts:80:      tenantId,
D:\Unite-Hub\src\app\api\synthex\agent\suggest-metadata\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\agent\suggest-metadata\route.ts:31:    const { tenantId, content, contentType } = body;
D:\Unite-Hub\src\app\api\synthex\agent\suggest-metadata\route.ts:33:    if (!tenantId || !content) {
D:\Unite-Hub\src\app\api\synthex\agent\suggest-metadata\route.ts:35:        { error: 'Missing required fields: tenantId, content' },
D:\Unite-Hub\src\app\api\synthex\agent\suggest-metadata\route.ts:44:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\agent\suggest-metadata\route.ts:52:      tenantId,
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:30:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:33:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:35:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:42:        const stats = await meshService.getMeshStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:52:        const agents = await meshService.listAgents(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:70:        const agents = await meshService.getAvailableAgents(tenantId, capability);
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:82:        const links = await meshService.listLinks(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:106:        const tasks = await meshService.listTasks(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:129:        const events = await meshService.listEvents(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:138:        const workflows = await meshService.listWorkflows(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:182:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:184:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:186:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:203:          tenantId,
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:239:        const link = await meshService.createLink(tenantId, {
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:275:        const task = await meshService.createTask(tenantId, {
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:341:        const event = await meshService.recordEvent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:362:          tenantId,
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:396:        const result = await meshService.autoAssignTask(tenantId, data.task_id);
D:\Unite-Hub\src\app\api\synthex\agent-mesh\route.ts:407:        const result = await meshService.suggestCollaborators(tenantId, data.task_id);
D:\Unite-Hub\src\app\api\synthex\alerts\route.ts:21: * GET /api/synthex/alerts?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\alerts\route.ts:32:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\alerts\route.ts:34:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\alerts\route.ts:35:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\alerts\route.ts:38:    const alerts = await listAlerts(tenantId, {
D:\Unite-Hub\src\app\api\synthex\alerts\route.ts:68:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\alerts\route.ts:70:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\alerts\route.ts:71:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\alerts\route.ts:81:    const alert = await createAlert(tenantId, {
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:8: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:15: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:47:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:52:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:54:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:63:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:71:    const result = await getChannelEvents(tenantId, {
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:105:    const { tenantId, brandId, events } = body;
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:107:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:109:        { error: 'Missing required field: tenantId' },
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:125:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\analytics\channels\route.ts:140:      tenantId,
D:\Unite-Hub\src\app\api\synthex\analytics\channels\summary\route.ts:7: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\analytics\channels\summary\route.ts:38:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\analytics\channels\summary\route.ts:42:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\analytics\channels\summary\route.ts:44:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\analytics\channels\summary\route.ts:53:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\analytics\channels\summary\route.ts:61:    const result = await getRealTimeOverview(tenantId, { days });
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:36:    const { tenantId, analyticsData } = body;
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:38:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:40:        { error: 'Missing required field: tenantId' },
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:49:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:57:    const result = await generateAnalyticsInsights(tenantId, analyticsData);
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:86:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:89:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:91:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:100:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:108:    const analyticsResult = await getCombinedAnalytics(tenantId, { days });
D:\Unite-Hub\src\app\api\synthex\analytics\insights\route.ts:115:    const insightsResult = await generateAnalyticsInsights(tenantId, analyticsResult.data || undefined);
D:\Unite-Hub\src\app\api\synthex\analytics\summary\route.ts:7: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\analytics\summary\route.ts:41:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\analytics\summary\route.ts:47:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\analytics\summary\route.ts:49:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\analytics\summary\route.ts:58:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\analytics\summary\route.ts:66:    const analyticsResult = await getCombinedAnalytics(tenantId, { days });
D:\Unite-Hub\src\app\api\synthex\analytics\summary\route.ts:78:      const topResult = await getTopCampaigns(tenantId, { limit: 5 });
D:\Unite-Hub\src\app\api\synthex\analytics\summary\route.ts:86:      const channelResult = await getChannelComparison(tenantId, { days });
D:\Unite-Hub\src\app\api\synthex\analytics\summary\route.ts:94:      const engagementResult = await getEngagementScores(tenantId, {
D:\Unite-Hub\src\app\api\synthex\api-keys\route.ts:26:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\api-keys\route.ts:29:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\api-keys\route.ts:31:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\api-keys\route.ts:36:    const keys = await listApiKeys(tenantId, includeRevoked);
D:\Unite-Hub\src\app\api\synthex\api-keys\route.ts:71:      tenantId,
D:\Unite-Hub\src\app\api\synthex\api-keys\route.ts:80:    if (!tenantId || !name) {
D:\Unite-Hub\src\app\api\synthex\api-keys\route.ts:82:        { error: 'tenantId and name are required' },
D:\Unite-Hub\src\app\api\synthex\api-keys\route.ts:87:    const result = await createApiKey(tenantId, user.id, {
D:\Unite-Hub\src\app\api\synthex\assistant\history\route.ts:7: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\assistant\history\route.ts:37:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\assistant\history\route.ts:42:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\assistant\history\route.ts:44:        { error: 'Missing tenantId parameter' },
D:\Unite-Hub\src\app\api\synthex\assistant\history\route.ts:53:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\assistant\history\route.ts:72:      tenantId,
D:\Unite-Hub\src\app\api\synthex\assistant\history\route.ts:81:      conversations = await getRecentConversations(tenantId, user.id, 10);
D:\Unite-Hub\src\app\api\synthex\assistant\run\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\assistant\run\route.ts:45:    const { tenantId, brandId, prompt, conversationId } = body;
D:\Unite-Hub\src\app\api\synthex\assistant\run\route.ts:48:    if (!tenantId || typeof tenantId !== 'string') {
D:\Unite-Hub\src\app\api\synthex\assistant\run\route.ts:50:        { error: 'Missing or invalid tenantId' },
D:\Unite-Hub\src\app\api\synthex\assistant\run\route.ts:66:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\assistant\run\route.ts:88:        tenantId,
D:\Unite-Hub\src\app\api\synthex\assistant\run\route.ts:107:      tenantId,
D:\Unite-Hub\src\app\api\synthex\assistant\run\route.ts:126:      tenantId,
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:39:        const stats = await attributionService.getAttributionStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:51:        const contacts = await attributionService.listAttributionContacts(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:66:        const events = await attributionService.listEvents(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:78:        const journeys = await attributionService.listJourneys(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:83:        const models = await attributionService.listAttributionModels(tenantId);
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:94:        const performance = await attributionService.getChannelPerformance(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:106:        const insights = await attributionService.listAttributionInsights(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:138:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:140:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:142:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:158:        const event = await attributionService.recordEvent(tenantId, data.contact_id, {
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:197:          tenantId,
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:229:        const journey = await attributionService.analyzeJourney(tenantId, data.journey_id);
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:244:          tenantId,
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:267:        const insight = await attributionService.generateAttributionInsight(tenantId, {
D:\Unite-Hub\src\app\api\synthex\attribution-memory\route.ts:287:          tenantId,
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:39:        const stats = await attributionService.getAttributionStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:53:        const touchpoints = await attributionService.listTouchpoints(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:76:        const conversions = await attributionService.listConversions(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:97:        const paths = await attributionService.listPaths(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:118:        const credits = await attributionService.listCredits(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:125:          const ltv = await attributionService.getLTVByProfile(tenantId, profileId);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:135:        const ltvs = await attributionService.listLTVs(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:147:        const performance = await attributionService.getChannelPerformance(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:157:        const patterns = await attributionService.listPathPatterns(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:166:        const models = await attributionService.listAttributionModels(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:174:        const reports = await attributionService.listReports(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:203:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:205:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:206:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:220:        const touchpoint = await attributionService.createTouchpoint(tenantId, {
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:262:        const conversion = await attributionService.createConversion(tenantId, {
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:306:          tenantId,
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:321:          tenantId,
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:338:        const ltv = await attributionService.calculateLTV(tenantId, data.profile_id);
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:353:          tenantId,
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:381:          tenantId,
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:402:          attributionService.listPaths(tenantId, { limit: 50 }),
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:403:          attributionService.listConversions(tenantId, { limit: 50 }),
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:404:          attributionService.listTouchpoints(tenantId, { limit: 100 }),
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:405:          attributionService.getChannelPerformance(tenantId, { limit: 20 }),
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:408:        const analysis = await attributionService.aiAnalyzeAttribution(tenantId, {
D:\Unite-Hub\src\app\api\synthex\attribution-v3\route.ts:424:        const prediction = await attributionService.aiPredictLTV(tenantId, {
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:9: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:14: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:39:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:42:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:44:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:53:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:60:    const result = await listAudiences(tenantId, { brandId: brandId || undefined });
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:89:    const { tenantId, name, description, audienceType, brandId } = body;
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:91:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:93:        { error: 'Missing required field: tenantId' },
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:109:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\audience\route.ts:116:    const result = await createAudience(tenantId, {
D:\Unite-Hub\src\app\api\synthex\audience\classify\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\audience\classify\route.ts:31:    const { tenantId, contactId, save = true } = body;
D:\Unite-Hub\src\app\api\synthex\audience\classify\route.ts:33:    if (!tenantId || !contactId) {
D:\Unite-Hub\src\app\api\synthex\audience\classify\route.ts:35:        { error: 'Missing required fields: tenantId, contactId' },
D:\Unite-Hub\src\app\api\synthex\audience\classify\route.ts:44:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\audience\classify\route.ts:62:    if (contact.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\synthex\audience\contacts\route.ts:15: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\audience\contacts\route.ts:60:      .eq('id', audienceResult.data.tenantId)
D:\Unite-Hub\src\app\api\synthex\audience\contacts\route.ts:99:    const { tenantId, audienceId, contact, contacts } = body;
D:\Unite-Hub\src\app\api\synthex\audience\contacts\route.ts:101:    if (!tenantId || !audienceId) {
D:\Unite-Hub\src\app\api\synthex\audience\contacts\route.ts:103:        { error: 'Missing required fields: tenantId, audienceId' },
D:\Unite-Hub\src\app\api\synthex\audience\contacts\route.ts:119:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\audience\contacts\route.ts:128:      const result = await addContacts(tenantId, audienceId, contacts);
D:\Unite-Hub\src\app\api\synthex\audience\contacts\route.ts:140:      const result = await addContact(tenantId, audienceId, contact);
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:9: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:16: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:39:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:45:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:47:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:56:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:72:    const result = await listScores(tenantId, {
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:105:    const { tenantId, contactId, event } = body;
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:107:    if (!tenantId || !contactId || !event) {
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:109:        { error: 'Missing required fields: tenantId, contactId, event' },
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:125:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:143:    if (contact.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\synthex\audience\score\route.ts:147:    const result = await recordEvent(tenantId, contactId, event);
D:\Unite-Hub\src\app\api\synthex\audit\route.ts:25:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\audit\route.ts:36:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\audit\route.ts:38:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\audit\route.ts:43:    const logs = await listAuditLogs(tenantId, {
D:\Unite-Hub\src\app\api\synthex\audit\summary\route.ts:25:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\audit\summary\route.ts:28:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\audit\summary\route.ts:30:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\audit\summary\route.ts:35:    const summary = await getAuditSummary(tenantId, days);
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:8: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:15: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:46:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:52:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:54:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:63:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:71:    const result = await listWorkflows(tenantId, {
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:92:      const runsResult = await listRuns(tenantId, { limit: 20 });
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:116:    const { tenantId, name, description, trigger, actions } = body;
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:118:    if (!tenantId || !name) {
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:120:        { error: 'Missing required fields: tenantId, name' },
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:143:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\automation\route.ts:152:      tenantId,
D:\Unite-Hub\src\app\api\synthex\automation\run\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\automation\run\route.ts:36:    const { tenantId, workflowId, contactId, context } = body;
D:\Unite-Hub\src\app\api\synthex\automation\run\route.ts:38:    if (!tenantId || !workflowId || !contactId) {
D:\Unite-Hub\src\app\api\synthex\automation\run\route.ts:40:        { error: 'Missing required fields: tenantId, workflowId, contactId' },
D:\Unite-Hub\src\app\api\synthex\automation\run\route.ts:49:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\automation\run\route.ts:68:    if (workflow.tenantId !== tenantId) {
D:\Unite-Hub\src\app\api\synthex\automation\run\route.ts:89:    if (contactData.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:28:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:31:      return NextResponse.json({ error: 'Missing tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:38:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:50:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:74:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:80:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:131:    const { tenantId, action, newPlan } = body;
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:133:    if (!tenantId || !action) {
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:141:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:166:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:182:          tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:206:        .eq('id', tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:210:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:223:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:248:        .eq('id', tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\route.ts:252:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\billing\checkout\route.ts:29:    const { tenantId, planCode, billingPeriod, successUrl, cancelUrl } = body;
D:\Unite-Hub\src\app\api\synthex\billing\checkout\route.ts:31:    if (!tenantId || !planCode || !billingPeriod) {
D:\Unite-Hub\src\app\api\synthex\billing\checkout\route.ts:33:        { error: 'Missing required fields: tenantId, planCode, billingPeriod' },
D:\Unite-Hub\src\app\api\synthex\billing\checkout\route.ts:42:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\checkout\route.ts:51:    const subscription = await getTenantSubscription(tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\checkout\route.ts:65:        .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\checkout\route.ts:73:          tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\billing\checkout\route.ts:86:        .eq('tenant_id', tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\checkout\route.ts:109:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\billing\checkout\route.ts:115:          tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\billing\checkout\route.ts:122:    await recordBillingEvent(tenantId, 'checkout.session_created', {
D:\Unite-Hub\src\app\api\synthex\billing\invoices\route.ts:27:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\billing\invoices\route.ts:33:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\invoices\route.ts:34:      return NextResponse.json({ error: 'Missing tenantId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\billing\invoices\route.ts:41:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\invoices\route.ts:51:      const upcomingCharges = await calculateUpcomingCharges(tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\invoices\route.ts:56:    const invoices = await listInvoices(tenantId, {
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:30:    // Get tenantId from query params
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:32:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:34:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:35:      return NextResponse.json({ error: 'Missing tenantId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:42:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:51:    const paymentMethods = await listPaymentMethods(tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:79:    const { tenantId, paymentMethodId, action } = body;
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:81:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:82:      return NextResponse.json({ error: 'Missing tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:89:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:103:      const paymentMethod = await setDefaultPaymentMethod(tenantId, paymentMethodId);
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:133:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:136:    if (!tenantId || !paymentMethodId) {
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:138:        { error: 'Missing tenantId or paymentMethodId parameter' },
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:147:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\payment-methods\route.ts:156:    await removePaymentMethod(tenantId, paymentMethodId);
D:\Unite-Hub\src\app\api\synthex\billing\subscription\route.ts:24:    // Get tenantId from query params
D:\Unite-Hub\src\app\api\synthex\billing\subscription\route.ts:26:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\billing\subscription\route.ts:28:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\subscription\route.ts:29:      return NextResponse.json({ error: 'Missing tenantId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\billing\subscription\route.ts:36:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\billing\subscription\route.ts:45:    const subscription = await getTenantSubscription(tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\subscription\route.ts:48:    const usage = await getUsageSummary(tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\usage\route.ts:29:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\billing\usage\route.ts:32:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\usage\route.ts:34:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\billing\usage\route.ts:40:    const summary = await getUsageSummary(tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\usage\route.ts:51:      warnings = await classifyUsageAgainstLimits(tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:89:  const tenantId = invoice.metadata?.tenant_id;
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:90:  if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:108:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:131:  await recordBillingEvent(tenantId, 'stripe.invoice.paid', {
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:141:  const tenantId = invoice.metadata?.tenant_id;
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:142:  if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:158:  await recordBillingEvent(tenantId, 'stripe.invoice.payment_failed', {
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:168:  const tenantId = subscription.metadata?.tenant_id;
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:169:  if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:202:    .eq('tenant_id', tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:208:  await recordBillingEvent(tenantId, 'stripe.subscription.updated', {
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:219:  const tenantId = subscription.metadata?.tenant_id;
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:220:  if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:245:    .eq('tenant_id', tenantId);
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:251:  await recordBillingEvent(tenantId, 'stripe.subscription.deleted', {
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:280:      tenantId: subscription.tenant_id,
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:294:  const tenantId = session.metadata?.tenant_id;
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:295:  if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\billing\webhook\route.ts:300:  await recordBillingEvent(tenantId, 'stripe.checkout.completed', {
D:\Unite-Hub\src\app\api\synthex\brand\analyze\route.ts:16:    const { tenantId, content, contentType, voiceId } = body;
D:\Unite-Hub\src\app\api\synthex\brand\analyze\route.ts:18:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brand\analyze\route.ts:20:        { status: 'error', error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brand\analyze\route.ts:39:    const result = await analyzeContentTone(tenantId, content, contentType, voiceId);
D:\Unite-Hub\src\app\api\synthex\brand\generate\route.ts:20:    const { tenantId, voiceId, ...options } = body;
D:\Unite-Hub\src\app\api\synthex\brand\generate\route.ts:22:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brand\generate\route.ts:24:        { status: 'error', error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brand\generate\route.ts:54:    const result = await generateBrandedContent(tenantId, generationOptions, voiceId);
D:\Unite-Hub\src\app\api\synthex\brand\generate\route.ts:86:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\brand\generate\route.ts:89:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brand\generate\route.ts:91:        { status: 'error', error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brand\generate\route.ts:96:    const result = await getBrandVoicePrompt(tenantId, voiceId || undefined);
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:23:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:27:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:29:        { status: 'error', error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:35:      const result = await getDefaultBrandVoice(tenantId);
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:48:    const result = await getBrandVoices(tenantId, activeOnly);
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:78:    const { tenantId, ...voiceInput } = body;
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:80:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:82:        { status: 'error', error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:94:    const result = await createBrandVoice(tenantId, voiceInput as BrandVoiceInput);
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:123:    const { tenantId, voiceId, ...voiceInput } = body;
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:125:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:127:        { status: 'error', error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:139:    const result = await updateBrandVoice(tenantId, voiceId, voiceInput);
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:168:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:171:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:173:        { status: 'error', error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brand\voice\route.ts:185:    const result = await deleteBrandVoice(tenantId, voiceId);
D:\Unite-Hub\src\app\api\synthex\brands\route.ts:28:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\brands\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brands\route.ts:32:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brands\route.ts:37:    const brands = await listBrands(tenantId);
D:\Unite-Hub\src\app\api\synthex\brands\route.ts:38:    const defaultBrand = await getDefaultBrand(tenantId);
D:\Unite-Hub\src\app\api\synthex\brands\route.ts:64:    const { tenantId, ...brandInput } = body;
D:\Unite-Hub\src\app\api\synthex\brands\route.ts:66:    if (!tenantId || !brandInput.name) {
D:\Unite-Hub\src\app\api\synthex\brands\route.ts:68:        { error: 'tenantId and name are required' },
D:\Unite-Hub\src\app\api\synthex\brands\route.ts:94:    const brand = await createBrand(tenantId, input);
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:36:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:38:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:40:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:45:    const brand = await getBrand(brandId, tenantId);
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:83:    const { tenantId, ...patch } = body;
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:85:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:87:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:121:    const brand = await updateBrand(brandId, tenantId, updateInput);
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:144:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:146:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:148:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brands\[id]\route.ts:153:    await deleteBrand(brandId, tenantId);
D:\Unite-Hub\src\app\api\synthex\brands\[id]\default\route.ts:27:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\brands\[id]\default\route.ts:29:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\brands\[id]\default\route.ts:31:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\brands\[id]\default\route.ts:36:    const brand = await setDefaultBrand(brandId, tenantId);
D:\Unite-Hub\src\app\api\synthex\businesses\route.ts:33:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\businesses\route.ts:35:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\businesses\route.ts:36:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\businesses\route.ts:43:    const business = await createBusiness(tenantId, {
D:\Unite-Hub\src\app\api\synthex\businesses\route.ts:76: * GET /api/synthex/businesses?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\businesses\route.ts:87:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\businesses\route.ts:89:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\businesses\route.ts:90:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\businesses\route.ts:96:        listBusinesses(tenantId, {
D:\Unite-Hub\src\app\api\synthex\businesses\route.ts:103:        getStats(tenantId),
D:\Unite-Hub\src\app\api\synthex\businesses\route.ts:109:    const businesses = await listBusinesses(tenantId, {
D:\Unite-Hub\src\app\api\synthex\campaigns\route.ts:32:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\campaigns\route.ts:41:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\campaigns\route.ts:43:        { error: 'Missing tenantId parameter' },
D:\Unite-Hub\src\app\api\synthex\campaigns\route.ts:52:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\campaigns\route.ts:70:      tenantId,
D:\Unite-Hub\src\app\api\synthex\campaigns\route.ts:90:      response.stats = await getCampaignStats(tenantId, brandId || undefined);
D:\Unite-Hub\src\app\api\synthex\campaigns\route.ts:115:      tenantId,
D:\Unite-Hub\src\app\api\synthex\campaigns\route.ts:128:    if (!tenantId || typeof tenantId !== 'string') {
D:\Unite-Hub\src\app\api\synthex\campaigns\route.ts:130:        { error: 'Missing or invalid tenantId' },
D:\Unite-Hub\src\app\api\synthex\campaigns\route.ts:146:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\campaigns\route.ts:161:      tenantId,
D:\Unite-Hub\src\app\api\synthex\coach\route.ts:30:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\coach\route.ts:35:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\coach\route.ts:37:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\coach\route.ts:42:    const messages = await getConversationHistory(tenantId, user.id, {
D:\Unite-Hub\src\app\api\synthex\coach\route.ts:74:    const { tenantId, message, contextType, contextRef, threadId } = body;
D:\Unite-Hub\src\app\api\synthex\coach\route.ts:76:    if (!tenantId || !message) {
D:\Unite-Hub\src\app\api\synthex\coach\route.ts:78:        { error: 'tenantId and message are required' },
D:\Unite-Hub\src\app\api\synthex\coach\route.ts:83:    const response = await sendCoachMessage(tenantId, user.id, message, {
D:\Unite-Hub\src\app\api\synthex\coach\tips\route.ts:30:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\coach\tips\route.ts:35:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\coach\tips\route.ts:37:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\coach\tips\route.ts:42:    const tips = await getApplicableTips(tenantId, user.id, {
D:\Unite-Hub\src\app\api\synthex\coach\tips\route.ts:74:    const { tenantId, tipId, action } = body;
D:\Unite-Hub\src\app\api\synthex\coach\tips\route.ts:76:    if (!tenantId || !tipId || !action) {
D:\Unite-Hub\src\app\api\synthex\coach\tips\route.ts:78:        { error: 'tenantId, tipId, and action are required' },
D:\Unite-Hub\src\app\api\synthex\coach\tips\route.ts:91:    await recordTipImpression(tipId, tenantId, user.id, action);
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:8: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:12: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:44:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:46:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:48:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:57:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:64:    const result = await listCohorts(tenantId);
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:93:    const { tenantId, name, description, rule, isDynamic, color, icon, evaluate } = body;
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:95:    if (!tenantId || !name) {
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:97:        { error: 'Missing required fields: tenantId, name' },
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:113:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:121:    const result = await createCohort(tenantId, name, rule as CohortRule, {
D:\Unite-Hub\src\app\api\synthex\cohorts\route.ts:135:      evaluationResult = await evaluateCohort(tenantId, result.data.id);
D:\Unite-Hub\src\app\api\synthex\competitors\route.ts:33:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\competitors\route.ts:37:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\competitors\route.ts:38:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\competitors\route.ts:43:      const summary = await getCompetitorSummary(tenantId);
D:\Unite-Hub\src\app\api\synthex\competitors\route.ts:49:      const forecast = await competitorForecast(tenantId, competitorId);
D:\Unite-Hub\src\app\api\synthex\competitors\route.ts:55:      const competitor = await getCompetitor(tenantId, competitorId);
D:\Unite-Hub\src\app\api\synthex\competitors\route.ts:63:    const competitors = await getCompetitors(tenantId);
D:\Unite-Hub\src\app\api\synthex\competitors\route.ts:181:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\competitors\route.ts:184:    if (!tenantId || !competitorId) {
D:\Unite-Hub\src\app\api\synthex\competitors\route.ts:186:        { error: 'tenantId and competitorId are required' },
D:\Unite-Hub\src\app\api\synthex\competitors\route.ts:191:    await deleteCompetitor(tenantId, competitorId);
D:\Unite-Hub\src\app\api\synthex\competitors\alerts\route.ts:28:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\competitors\alerts\route.ts:32:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\competitors\alerts\route.ts:33:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\competitors\alerts\route.ts:36:    const alerts = await getAlerts(tenantId, {
D:\Unite-Hub\src\app\api\synthex\competitors\serp\route.ts:26:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\competitors\serp\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\competitors\serp\route.ts:32:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\competitors\serp\route.ts:37:      const gaps = await getKeywordGaps(tenantId);
D:\Unite-Hub\src\app\api\synthex\competitors\serp\route.ts:43:      const keywords = await getCompetitorKeywords(tenantId, competitorId, limit);
D:\Unite-Hub\src\app\api\synthex\compliance\route.ts:30:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\compliance\route.ts:35:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\compliance\route.ts:37:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\compliance\route.ts:42:    const requests = await listComplianceRequests(tenantId, {
D:\Unite-Hub\src\app\api\synthex\compliance\route.ts:74:    const { tenantId, request_type, requester_email, requester_contact_id, request_data, deadline_days } = body;
D:\Unite-Hub\src\app\api\synthex\compliance\route.ts:76:    if (!tenantId || !request_type || !requester_email) {
D:\Unite-Hub\src\app\api\synthex\compliance\route.ts:78:        { error: 'tenantId, request_type, and requester_email are required' },
D:\Unite-Hub\src\app\api\synthex\compliance\route.ts:99:    const complianceRequest = await createComplianceRequest(tenantId, {
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:39:        const stats = await intentService.getIntentStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:72:        const intents = await intentService.listIntents(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:84:        const intent = await intentService.getIntent(tenantId, intentId);
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:108:        const signals = await intentService.listSignals(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:114:        const patterns = await intentService.listPatterns(tenantId, includeSystem);
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:120:        const responses = await intentService.listResponses(tenantId, intent);
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:139:          tenantId,
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:155:          tenantId,
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:189:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:191:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:193:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:206:        const result = await intentService.analyzeIntent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:268:        const pattern = await intentService.createPattern(tenantId, {
D:\Unite-Hub\src\app\api\synthex\contacts\intent\route.ts:290:        const response = await intentService.createResponse(tenantId, {
D:\Unite-Hub\src\app\api\synthex\content\route.ts:32:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\content\route.ts:42:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\content\route.ts:44:        { error: 'Missing tenantId parameter' },
D:\Unite-Hub\src\app\api\synthex\content\route.ts:53:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\content\route.ts:72:      tenantId,
D:\Unite-Hub\src\app\api\synthex\content\route.ts:93:      response.stats = await getContentStats(tenantId, brandId || undefined);
D:\Unite-Hub\src\app\api\synthex\content\route.ts:118:      tenantId,
D:\Unite-Hub\src\app\api\synthex\content\route.ts:133:    if (!tenantId || typeof tenantId !== 'string') {
D:\Unite-Hub\src\app\api\synthex\content\route.ts:135:        { error: 'Missing or invalid tenantId' },
D:\Unite-Hub\src\app\api\synthex\content\route.ts:158:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\content\route.ts:173:      tenantId,
D:\Unite-Hub\src\app\api\synthex\conversations\route.ts:21:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\conversations\route.ts:23:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\conversations\route.ts:25:        { status: 'error', error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\conversations\route.ts:73:    const result = await getConversations(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\conversations\route.ts:103:    const { tenantId, ...payload } = body;
D:\Unite-Hub\src\app\api\synthex\conversations\route.ts:105:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\conversations\route.ts:107:        { status: 'error', error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\conversations\route.ts:155:    const result = await ingestConversationEvent(tenantId, eventPayload);
D:\Unite-Hub\src\app\api\synthex\conversations\analyze\route.ts:18: * 1. { tenantId, conversationId } - Analyze existing conversation
D:\Unite-Hub\src\app\api\synthex\conversations\analyze\route.ts:19: * 2. { tenantId, transcript, channel } - Analyze raw transcript (creates temporary conversation)
D:\Unite-Hub\src\app\api\synthex\conversations\analyze\route.ts:24:    const { tenantId, conversationId, transcript, channel } = body;
D:\Unite-Hub\src\app\api\synthex\conversations\analyze\route.ts:26:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\conversations\analyze\route.ts:28:        { status: 'error', error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\conversations\analyze\route.ts:40:      const ingestResult = await ingestConversationEvent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\conversations\analyze\route.ts:67:    const detailResult = await getConversationDetail(tenantId, targetConversationId);
D:\Unite-Hub\src\app\api\synthex\conversations\analyze\route.ts:76:    const analysisResult = await analyzeConversationWithAI(tenantId, targetConversationId);
D:\Unite-Hub\src\app\api\synthex\conversations\[conversationId]\route.ts:21:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\conversations\[conversationId]\route.ts:23:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\conversations\[conversationId]\route.ts:25:        { status: 'error', error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\conversations\[conversationId]\route.ts:37:    const result = await getConversationDetail(tenantId, conversationId);
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:39:        const stats = await conversionService.getConversionStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:48:        const channels = await conversionService.listChannels(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:61:        const predictions = await conversionService.listPredictions(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:71:        const strategies = await conversionService.listStrategies(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:83:        const strategy = await conversionService.getStrategy(tenantId, strategyId);
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:95:        const touchpoints = await conversionService.listTouchpoints(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:104:        const experiments = await conversionService.listExperiments(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:136:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:138:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:140:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:157:          tenantId,
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:191:        const prediction = await conversionService.generatePrediction(tenantId, {
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:228:          tenantId,
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:310:        const touchpoint = await conversionService.createTouchpoint(tenantId, {
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:353:          tenantId,
D:\Unite-Hub\src\app\api\synthex\conversion\route.ts:420:        await conversionService.initializeDefaultChannels(tenantId, user.id);
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:39:        const stats = await crossBrandService.getCrossBrandStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:51:        const profiles = await crossBrandService.listCrossBrandProfiles(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:63:        const profile = await crossBrandService.getCrossBrandProfile(tenantId, profileId);
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:69:        const domains = await crossBrandService.listCrossBrandDomains(tenantId, crossbrandId);
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:83:        const insights = await crossBrandService.listCrossBrandInsights(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:94:        const synergies = await crossBrandService.listSynergies(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:105:        const campaigns = await crossBrandService.listCrossBrandCampaigns(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:121:        const metrics = await crossBrandService.getMetricsHistory(tenantId, crossbrandId, periodType, limit);
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:126:        const portfolioHealth = await crossBrandService.getPortfolioHealth(tenantId);
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:158:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:160:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:162:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:179:          tenantId,
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:225:          tenantId,
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:258:        const insight = await crossBrandService.generateCrossBrandInsight(tenantId, {
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:293:          tenantId,
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:322:          tenantId,
D:\Unite-Hub\src\app\api\synthex\crossbrand-intel\route.ts:380:        const metrics = await crossBrandService.recordMetrics(tenantId, data.crossbrand_id, {
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:44:    const { tenantId, limit, dryRun, action } = body;
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:46:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:48:        { error: 'Missing required field: tenantId' },
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:57:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:67:      const result = await retryFailedDeliveries(tenantId, { limit: limit || 100 });
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:78:      const result = await getDeliveryStatsSummary(tenantId, { days: body.days || 30 });
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:125:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:129:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:131:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:140:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:148:    const result = await getDeliveryStatsSummary(tenantId, {
D:\Unite-Hub\src\app\api\synthex\delivery\run\route.ts:161:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\events\stream\route.ts:7: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\events\stream\route.ts:34:  const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\events\stream\route.ts:38:  if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\events\stream\route.ts:40:      JSON.stringify({ error: 'Missing required param: tenantId' }),
D:\Unite-Hub\src\app\api\synthex\events\stream\route.ts:49:    .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\events\stream\route.ts:72:      controller.enqueue(encoder.encode(`event: connected\ndata: ${JSON.stringify({ tenantId, timestamp: new Date().toISOString() })}\n\n`));
D:\Unite-Hub\src\app\api\synthex\events\stream\route.ts:93:            .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\experiment-lab\route.ts:35:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\experiment-lab\route.ts:41:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\experiment-lab\route.ts:42:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\experiment-lab\route.ts:45:    const experiments = await listExperiments(tenantId, {
D:\Unite-Hub\src\app\api\synthex\experiment-lab\route.ts:52:      const stats = await getExperimentStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\experiment-lab\route.ts:79:    const { tenantId, businessId, action, templateId } = body;
D:\Unite-Hub\src\app\api\synthex\experiment-lab\route.ts:81:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\experiment-lab\route.ts:82:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\experiment-lab\route.ts:87:      const suggestions = await aiSuggestExperiments(tenantId, {
D:\Unite-Hub\src\app\api\synthex\experiment-lab\route.ts:97:      const result = await createFromTemplate(tenantId, businessId, templateId, {
D:\Unite-Hub\src\app\api\synthex\experiment-lab\route.ts:121:    const experiment = await createExperiment(tenantId, businessId, {
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:39:        const stats = await experimentationService.getExperimentationStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:50:        const experiments = await experimentationService.listExperiments(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:91:        const assignments = await experimentationService.listAssignments(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:113:        const events = await experimentationService.listEvents(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:153:        const flags = await experimentationService.listFeatureFlags(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:164:          const flag = await experimentationService.getFeatureFlagByKey(tenantId, flagKey);
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:177:        const templates = await experimentationService.listTemplates(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:206:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:208:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:209:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:224:          tenantId,
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:309:          tenantId,
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:342:          tenantId,
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:374:        const event = await experimentationService.trackEvent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:400:          tenantId,
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:445:          tenantId,
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:456:          tenantId,
D:\Unite-Hub\src\app\api\synthex\experimentation\route.ts:463:        const hypotheses = await experimentationService.aiGenerateHypothesis(tenantId, {
D:\Unite-Hub\src\app\api\synthex\experiments\route.ts:30:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\experiments\route.ts:50:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\experiments\route.ts:52:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\experiments\route.ts:57:    const experiments = await listExperiments(tenantId, {
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:37:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:39:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:41:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:54:      tenantId,
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:92: * GET /api/synthex/experiments/global?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:96: * - tenantId (required)
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:114:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:116:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:118:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:125:      const stats = await getStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:133:      const suggestions = await aiSuggestExperiments(tenantId, { goals });
D:\Unite-Hub\src\app\api\synthex\experiments\global\route.ts:138:    const experiments = await listExperiments(tenantId, {
D:\Unite-Hub\src\app\api\synthex\experiments\global\evaluate\route.ts:22: * - tenantId (required)
D:\Unite-Hub\src\app\api\synthex\experiments\global\evaluate\route.ts:41:      tenantId,
D:\Unite-Hub\src\app\api\synthex\experiments\global\evaluate\route.ts:50:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\experiments\global\evaluate\route.ts:52:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\experiments\global\evaluate\route.ts:65:    const result = await evaluateExperiment(tenantId, experimentKey, context);
D:\Unite-Hub\src\app\api\synthex\experiments\global\evaluate\route.ts:69:      await trackEvent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\experiments\[id]\assign\route.ts:32:    const { tenantId, contactId } = body;
D:\Unite-Hub\src\app\api\synthex\experiments\[id]\assign\route.ts:34:    if (!tenantId || !contactId) {
D:\Unite-Hub\src\app\api\synthex\experiments\[id]\assign\route.ts:36:        { error: 'tenantId and contactId are required' },
D:\Unite-Hub\src\app\api\synthex\experiments\[id]\assign\route.ts:57:    const assignment = await assignVariantForContact(tenantId, id, contactId);
D:\Unite-Hub\src\app\api\synthex\exports\route.ts:30:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\exports\route.ts:34:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\exports\route.ts:36:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\exports\route.ts:41:    const exports = await listDataExports(tenantId, { status, limit });
D:\Unite-Hub\src\app\api\synthex\exports\route.ts:69:    const { tenantId, export_type, format, filters, date_range_start, date_range_end } = body;
D:\Unite-Hub\src\app\api\synthex\exports\route.ts:71:    if (!tenantId || !export_type) {
D:\Unite-Hub\src\app\api\synthex\exports\route.ts:73:        { error: 'tenantId and export_type are required' },
D:\Unite-Hub\src\app\api\synthex\exports\route.ts:96:    const dataExport = await createDataExport(tenantId, user.id, {
D:\Unite-Hub\src\app\api\synthex\finance\accounts\route.ts:31:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\finance\accounts\route.ts:36:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\finance\accounts\route.ts:37:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\finance\accounts\route.ts:40:    const accounts = await listAccounts(tenantId, {
D:\Unite-Hub\src\app\api\synthex\finance\accounts\route.ts:69:    const { tenantId, businessId } = body;
D:\Unite-Hub\src\app\api\synthex\finance\accounts\route.ts:71:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\finance\accounts\route.ts:72:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\finance\accounts\route.ts:79:    const account = await createAccount(tenantId, businessId, {
D:\Unite-Hub\src\app\api\synthex\finance\events\route.ts:33:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\finance\events\route.ts:43:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\finance\events\route.ts:44:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\finance\events\route.ts:47:    const events = await listEvents(tenantId, {
D:\Unite-Hub\src\app\api\synthex\finance\events\route.ts:81:    const { tenantId, businessId } = body;
D:\Unite-Hub\src\app\api\synthex\finance\events\route.ts:83:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\finance\events\route.ts:84:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\finance\events\route.ts:99:    const event = await createEvent(tenantId, businessId, {
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:34:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:38:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:39:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:45:        const snapshots = await listRunwaySnapshots(tenantId, {
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:53:        const snapshot = await getLatestRunwaySnapshot(tenantId, businessId || undefined);
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:59:        const summary = await getFinanceSummary(tenantId, businessId || undefined);
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:85:    const { tenantId, businessId, action } = body;
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:87:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:88:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:97:        const snapshot = await calculateRunway(tenantId, businessId, {
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:109:        const summary = await getFinanceSummary(tenantId, businessId);
D:\Unite-Hub\src\app\api\synthex\finance\runway\route.ts:124:        const summary = await getFinanceSummary(tenantId, businessId);
D:\Unite-Hub\src\app\api\synthex\flags\route.ts:34:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\flags\route.ts:40:    const flags = await listFeatureFlags(tenantId, {
D:\Unite-Hub\src\app\api\synthex\flags\route.ts:66:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\flags\route.ts:83:          tenantId,
D:\Unite-Hub\src\app\api\synthex\flags\route.ts:101:        const enabled = await evaluateFeatureFlag(tenantId, flag_key, {
D:\Unite-Hub\src\app\api\synthex\flags\route.ts:119:        const results = await evaluateFeatureFlags(tenantId, flag_keys, {
D:\Unite-Hub\src\app\api\synthex\flags\route.ts:137:        const events = await getRolloutHistory(tenantId, flag_id, limit);
D:\Unite-Hub\src\app\api\synthex\flags\route.ts:160:        const overrides = await listOverrides(tenantId, flag_id);
D:\Unite-Hub\src\app\api\synthex\flags\overrides\route.ts:28:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\flags\overrides\route.ts:44:      tenantId,
D:\Unite-Hub\src\app\api\synthex\flags\[id]\route.ts:36:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\flags\[id]\route.ts:58:      response.overrides = await listOverrides(tenantId, id);
D:\Unite-Hub\src\app\api\synthex\flags\[id]\route.ts:62:      response.history = await getRolloutHistory(tenantId, id, 20);
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:39:        const stats = await funnelService.getFunnelStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:48:        const funnels = await funnelService.listFunnels(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:60:        const funnel = await funnelService.getFunnel(tenantId, funnelId);
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:74:        const events = await funnelService.listEvents(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:85:        const dropoffs = await funnelService.listDropoffs(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:97:        const dropoff = await funnelService.getDropoff(tenantId, dropoffId);
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:108:        const actions = await funnelService.listRecoveryActions(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:119:        const alerts = await funnelService.listAlerts(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:133:        const metrics = await funnelService.getFunnelMetrics(tenantId, funnelId, periodType, limit);
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:165:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:167:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:169:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:186:          tenantId,
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:235:        const event = await funnelService.trackEvent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:269:        const dropoffs = await funnelService.analyzeDropoffs(tenantId, data.funnel_id);
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:298:        const action = await funnelService.createRecoveryAction(tenantId, {
D:\Unite-Hub\src\app\api\synthex\funnel\route.ts:358:        await funnelService.initializeDefaultFunnels(tenantId, user.id);
D:\Unite-Hub\src\app\api\synthex\goals\route.ts:19: * GET /api/synthex/goals?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\goals\route.ts:30:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\goals\route.ts:32:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\goals\route.ts:33:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\goals\route.ts:37:      tenantId,
D:\Unite-Hub\src\app\api\synthex\goals\route.ts:64:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\goals\route.ts:66:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\goals\route.ts:67:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\goals\route.ts:84:    const goal = await createGoal(tenantId, {
D:\Unite-Hub\src\app\api\synthex\guardrails\route.ts:32:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\guardrails\route.ts:38:    const policies = await listPolicies(tenantId, {
D:\Unite-Hub\src\app\api\synthex\guardrails\route.ts:64:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\guardrails\route.ts:80:        const policy = await createPolicy(tenantId, {
D:\Unite-Hub\src\app\api\synthex\guardrails\route.ts:125:        const violations = await listViolations(tenantId, { limit: 50 });
D:\Unite-Hub\src\app\api\synthex\guardrails\route.ts:128:        const recommendations = await aiRecommendGuardrails(tenantId, violations);
D:\Unite-Hub\src\app\api\synthex\guardrails\kill-switch\route.ts:29:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\guardrails\kill-switch\route.ts:45:      const enabled = await checkKillSwitch(tenantId, scope, target);
D:\Unite-Hub\src\app\api\synthex\guardrails\kill-switch\route.ts:53:    const killSwitches = await listKillSwitches(tenantId, {
D:\Unite-Hub\src\app\api\synthex\guardrails\kill-switch\route.ts:79:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\guardrails\kill-switch\route.ts:91:    const killSwitch = await setKillSwitch(tenantId, {
D:\Unite-Hub\src\app\api\synthex\guardrails\violations\route.ts:27:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\guardrails\violations\route.ts:34:      const summary = await getViolationSummary(tenantId, days ? parseInt(days, 10) : 7);
D:\Unite-Hub\src\app\api\synthex\guardrails\violations\route.ts:44:    const violations = await listViolations(tenantId, {
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:39:        const stats = await identityService.getGraphStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:53:        const nodes = await identityService.listNodes(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:75:        const node = await identityService.findNodeByIdentifier(tenantId, channel, identifier);
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:89:        const edges = await identityService.listEdges(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:116:        const profiles = await identityService.listUnifiedProfiles(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:134:        const logs = await identityService.listResolutionLogs(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:144:        const rules = await identityService.listMatchingRules(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:149:        const suggestions = await identityService.suggestMerges(tenantId);
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:178:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:180:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:181:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:195:        const node = await identityService.createNode(tenantId, {
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:230:        const edge = await identityService.createEdge(tenantId, {
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:267:          tenantId,
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:279:        const result = await identityService.aiResolveIdentity(tenantId, {
D:\Unite-Hub\src\app\api\synthex\identity\route.ts:294:          tenantId,
D:\Unite-Hub\src\app\api\synthex\incidents\route.ts:37:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\incidents\route.ts:44:      const summary = await getIncidentSummary(tenantId, days ? parseInt(days, 10) : 7);
D:\Unite-Hub\src\app\api\synthex\incidents\route.ts:54:    const incidents = await listIncidents(tenantId, {
D:\Unite-Hub\src\app\api\synthex\incidents\route.ts:82:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\incidents\route.ts:98:        const incident = await createIncident(tenantId, {
D:\Unite-Hub\src\app\api\synthex\incidents\route.ts:133:        const incidentAction = await createAction(tenantId, {
D:\Unite-Hub\src\app\api\synthex\incidents\route.ts:170:        const actions = await listActions(tenantId, incident_id);
D:\Unite-Hub\src\app\api\synthex\incidents\route.ts:194:        const relatedEvents = await listRiskEvents(tenantId, {
D:\Unite-Hub\src\app\api\synthex\insights\route.ts:7: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\insights\route.ts:36:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\insights\route.ts:42:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\insights\route.ts:44:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\insights\route.ts:53:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\insights\route.ts:60:    const result = await getInsights(tenantId, user.id, {
D:\Unite-Hub\src\app\api\synthex\insights\route.ts:76:      const counts = await getInsightCounts(tenantId, user.id);
D:\Unite-Hub\src\app\api\synthex\insights\run\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\insights\run\route.ts:31:    const { tenantId, brandId, categories } = body;
D:\Unite-Hub\src\app\api\synthex\insights\run\route.ts:33:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\insights\run\route.ts:35:        { error: 'Missing required field: tenantId' },
D:\Unite-Hub\src\app\api\synthex\insights\run\route.ts:44:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\insights\run\route.ts:52:      tenantId,
D:\Unite-Hub\src\app\api\synthex\integrations\route.ts:16:// GET /api/synthex/integrations?tenantId=xxx&provider=resend&channel=email&status=connected
D:\Unite-Hub\src\app\api\synthex\integrations\route.ts:20:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\integrations\route.ts:25:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\integrations\route.ts:27:        { error: 'Missing tenantId parameter' },
D:\Unite-Hub\src\app\api\synthex\integrations\route.ts:43:    const result = await listIntegrations(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\integrations\route.ts:66:// Body: { tenantId, provider, channel, displayName?, status?, config?, metadata? }
D:\Unite-Hub\src\app\api\synthex\integrations\route.ts:70:    const { tenantId, ...input } = body as { tenantId: string } & UpsertIntegrationInput;
D:\Unite-Hub\src\app\api\synthex\integrations\route.ts:72:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\integrations\route.ts:74:        { error: 'Missing tenantId in request body' },
D:\Unite-Hub\src\app\api\synthex\integrations\route.ts:86:    const result = await upsertIntegration(tenantId, input);
D:\Unite-Hub\src\app\api\synthex\job\route.ts:32:    const { tenantId, brandId, jobType, payload } = body;
D:\Unite-Hub\src\app\api\synthex\job\route.ts:34:    if (!tenantId || !jobType) {
D:\Unite-Hub\src\app\api\synthex\job\route.ts:42:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\job\route.ts:52:      tenantId,
D:\Unite-Hub\src\app\api\synthex\job\route.ts:64:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\job\route.ts:106:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\job\route.ts:109:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\job\route.ts:110:      return NextResponse.json({ error: 'Missing tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\job\route.ts:117:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\job\route.ts:136:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\job\route.ts:149:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:8: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:17: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:46:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:54:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:56:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:65:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:72:    const result = await listJourneys(tenantId, {
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:95:      const analyticsResult = await generateAnalytics(tenantId, cohortId || undefined);
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:119:    const { tenantId, contactId, cohortId, initialStage } = body;
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:121:    if (!tenantId || !contactId) {
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:123:        { error: 'Missing required fields: tenantId, contactId' },
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:132:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:144:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\journeys\route.ts:155:    const result = await createJourney(tenantId, contactId, {
D:\Unite-Hub\src\app\api\synthex\kgim\edges\route.ts:29:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\kgim\edges\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kgim\edges\route.ts:32:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kgim\edges\route.ts:42:    const edge = await createEdge(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kgim\edges\route.ts:65: * GET /api/synthex/kgim/edges?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\kgim\edges\route.ts:78:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\kgim\edges\route.ts:80:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kgim\edges\route.ts:81:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kgim\edges\route.ts:84:    const edges = await listEdges(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kgim\extract\route.ts:19: * - tenantId: tenant ID
D:\Unite-Hub\src\app\api\synthex\kgim\extract\route.ts:35:    const { tenantId, text, auto_create, source, source_id } = body;
D:\Unite-Hub\src\app\api\synthex\kgim\extract\route.ts:37:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kgim\extract\route.ts:38:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kgim\extract\route.ts:56:        const node = await createNode(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kgim\extract\route.ts:75:          const edge = await createEdge(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kgim\insights\route.ts:35:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\kgim\insights\route.ts:37:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kgim\insights\route.ts:38:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kgim\insights\route.ts:52:        const insight = await createInsight(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kgim\insights\route.ts:77:    const insight = await createInsight(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kgim\insights\route.ts:103: * GET /api/synthex/kgim/insights?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\kgim\insights\route.ts:116:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\kgim\insights\route.ts:118:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kgim\insights\route.ts:119:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kgim\insights\route.ts:124:      const insights = await listInsights(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kgim\insights\route.ts:132:    const insights = await listInsights(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kgim\memory\route.ts:29:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\kgim\memory\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kgim\memory\route.ts:32:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kgim\memory\route.ts:42:    const memory = await storeMemory(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kgim\memory\route.ts:63: * GET /api/synthex/kgim/memory?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\kgim\memory\route.ts:76:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\kgim\memory\route.ts:78:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kgim\memory\route.ts:79:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kgim\memory\route.ts:82:    const memories = await listMemories(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kgim\nodes\route.ts:34:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\kgim\nodes\route.ts:36:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kgim\nodes\route.ts:37:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kgim\nodes\route.ts:47:    const node = await createNode(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kgim\nodes\route.ts:72: * GET /api/synthex/kgim/nodes?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\kgim\nodes\route.ts:85:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\kgim\nodes\route.ts:87:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kgim\nodes\route.ts:88:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kgim\nodes\route.ts:93:      const stats = await getStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\kgim\nodes\route.ts:97:    const nodes = await listNodes(tenantId, {
D:\Unite-Hub\src\app\api\synthex\knowledge\route.ts:61:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\synthex\knowledge\route.ts:62:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\knowledge\route.ts:71:      const node = await getKnowledgeNode(tenantId, id);
D:\Unite-Hub\src\app\api\synthex\knowledge\route.ts:90:    const nodes = await listKnowledgeNodes(tenantId, {
D:\Unite-Hub\src\app\api\synthex\knowledge\route.ts:129:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\synthex\knowledge\route.ts:130:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\knowledge\route.ts:155:      const node = await createKnowledgeNode(tenantId, input);
D:\Unite-Hub\src\app\api\synthex\knowledge\route.ts:176:      const edge = await createKnowledgeEdge(tenantId, input);
D:\Unite-Hub\src\app\api\synthex\knowledge\route.ts:195:      const node = await updateKnowledgeNode(tenantId, nodeId, updates);
D:\Unite-Hub\src\app\api\synthex\knowledge\route.ts:206:      await deleteKnowledgeNode(tenantId, nodeId);
D:\Unite-Hub\src\app\api\synthex\knowledge\route.ts:217:      await deleteKnowledgeEdge(tenantId, edgeId);
D:\Unite-Hub\src\app\api\synthex\knowledge\edges\route.ts:29:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\knowledge\edges\route.ts:34:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\knowledge\edges\route.ts:35:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\knowledge\edges\route.ts:40:      const neighbors = await getNeighbors(tenantId, nodeId, depth);
D:\Unite-Hub\src\app\api\synthex\knowledge\edges\route.ts:45:    const edges = await getAllEdges(tenantId, limit);
D:\Unite-Hub\src\app\api\synthex\knowledge\nodes\route.ts:31:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\knowledge\nodes\route.ts:36:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\knowledge\nodes\route.ts:37:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\knowledge\nodes\route.ts:42:      const node = await getNode(tenantId, nodeId);
D:\Unite-Hub\src\app\api\synthex\knowledge\nodes\route.ts:51:      ? await getNodesByType(tenantId, nodeType, limit)
D:\Unite-Hub\src\app\api\synthex\knowledge\nodes\route.ts:52:      : await getAllNodes(tenantId, limit);
D:\Unite-Hub\src\app\api\synthex\knowledge\nodes\route.ts:155:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\knowledge\nodes\route.ts:158:    if (!tenantId || !nodeId) {
D:\Unite-Hub\src\app\api\synthex\knowledge\nodes\route.ts:160:        { error: 'tenantId and nodeId are required' },
D:\Unite-Hub\src\app\api\synthex\knowledge\nodes\route.ts:165:    await deleteNode(tenantId, nodeId);
D:\Unite-Hub\src\app\api\synthex\knowledge\search\route.ts:130:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\knowledge\search\route.ts:132:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\knowledge\search\route.ts:133:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\knowledge\search\route.ts:136:    const stats = await getGraphStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:22: * GET /api/synthex/kpis?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:33:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:35:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:36:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:42:        listKpiDefinitions(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:47:        getControlTowerStats(tenantId),
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:53:    const kpis = await listKpiDefinitions(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:82:    const { tenantId, action } = body;
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:84:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:85:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:90:      await seedDefaultKpis(tenantId);
D:\Unite-Hub\src\app\api\synthex\kpis\route.ts:102:    const kpi = await createKpiDefinition(tenantId, {
D:\Unite-Hub\src\app\api\synthex\kpis\values\route.ts:19: * GET /api/synthex/kpis/values?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\kpis\values\route.ts:30:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\kpis\values\route.ts:33:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kpis\values\route.ts:34:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kpis\values\route.ts:37:    const values = await getLatestKpiValues(tenantId, businessId || undefined);
D:\Unite-Hub\src\app\api\synthex\kpis\values\route.ts:62:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\kpis\values\route.ts:64:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\kpis\values\route.ts:65:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\kpis\values\route.ts:82:    const value = await recordKpiValue(tenantId, {
D:\Unite-Hub\src\app\api\synthex\lead\route.ts:7: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\lead\route.ts:31:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\lead\route.ts:37:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\lead\route.ts:39:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\lead\route.ts:48:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\lead\route.ts:64:    const result = await listLeadModels(tenantId, {
D:\Unite-Hub\src\app\api\synthex\lead\routing\apply\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\lead\routing\apply\route.ts:37:      tenantId,
D:\Unite-Hub\src\app\api\synthex\lead\routing\apply\route.ts:47:    if (!tenantId || !leadId || !recommendedOwner) {
D:\Unite-Hub\src\app\api\synthex\lead\routing\apply\route.ts:49:        { error: 'Missing required fields: tenantId, leadId, recommendedOwner' },
D:\Unite-Hub\src\app\api\synthex\lead\routing\apply\route.ts:58:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\lead\routing\apply\route.ts:70:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\lead\routing\apply\route.ts:82:      tenantId,
D:\Unite-Hub\src\app\api\synthex\lead\routing\log\route.ts:7: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\lead\routing\log\route.ts:33:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\lead\routing\log\route.ts:41:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\lead\routing\log\route.ts:43:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\lead\routing\log\route.ts:52:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\lead\routing\log\route.ts:59:    const result = await listRoutingLog(tenantId, {
D:\Unite-Hub\src\app\api\synthex\lead\routing\recommend\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\lead\routing\recommend\route.ts:33:    const { tenantId, leadId } = body;
D:\Unite-Hub\src\app\api\synthex\lead\routing\recommend\route.ts:35:    if (!tenantId || !leadId) {
D:\Unite-Hub\src\app\api\synthex\lead\routing\recommend\route.ts:37:        { error: 'Missing required fields: tenantId, leadId' },
D:\Unite-Hub\src\app\api\synthex\lead\routing\recommend\route.ts:46:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\lead\routing\recommend\route.ts:54:    const leadsResult = await getRoutableLeads(tenantId, { limit: 1000 });
D:\Unite-Hub\src\app\api\synthex\lead\routing\recommend\route.ts:68:    const result = await getRoutingRecommendation(tenantId, lead);
D:\Unite-Hub\src\app\api\synthex\lead\run\route.ts:9: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\lead\run\route.ts:40:    const { tenantId, contactId, engagementScore: providedEngagement } = body;
D:\Unite-Hub\src\app\api\synthex\lead\run\route.ts:42:    if (!tenantId || !contactId) {
D:\Unite-Hub\src\app\api\synthex\lead\run\route.ts:44:        { error: 'Missing required fields: tenantId, contactId' },
D:\Unite-Hub\src\app\api\synthex\lead\run\route.ts:53:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\lead\run\route.ts:71:    if (contact.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\synthex\lead\run\route.ts:153:    const result = await upsertLeadModel(tenantId, contactId, payload);
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:25:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:28:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:30:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:37:        const stats = await stateMachineService.getStateMachineStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:56:        const states = await stateMachineService.listLeadStates(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:68:        const state = await stateMachineService.getLeadState(tenantId, leadId);
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:85:        const transitions = await stateMachineService.listTransitions(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:90:        const definitions = await stateMachineService.listStateDefinitions(tenantId);
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:105:        const rules = await stateMachineService.listTransitionRules(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:119:        const alerts = await stateMachineService.listAlerts(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:130:        const metrics = await stateMachineService.getStateMetrics(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:161:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:163:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:165:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:172:        const state = await stateMachineService.createLeadState(tenantId, {
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:187:          tenantId,
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:205:          tenantId,
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:214:          tenantId,
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:222:          tenantId,
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:230:          tenantId,
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:252:          tenantId,
D:\Unite-Hub\src\app\api\synthex\leads\state\route.ts:284:        const alert = await stateMachineService.createAlert(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:25:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:28:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:30:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:37:        const stats = await behaviorService.getBehaviorStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:50:        const events = await behaviorService.getEvents(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:64:        const sessions = await behaviorService.getSessions(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:77:        const trends = await behaviorService.getTrends(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:94:        const patterns = await behaviorService.getPatterns(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:107:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:122:        const alerts = await behaviorService.getAlerts(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:153:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:155:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:157:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:164:        const event = await behaviorService.trackEvent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:185:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:192:        const trends = await behaviorService.analyzeTrends(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:201:        const patterns = await behaviorService.detectPatterns(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:209:        const prediction = await behaviorService.generatePrediction(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\behavior\route.ts:219:        const alert = await behaviorService.createAlert(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\behavior\sessions\[sessionId]\route.ts:29:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\behavior\sessions\[sessionId]\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\behavior\sessions\[sessionId]\route.ts:33:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\behavior\sessions\[sessionId]\route.ts:40:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:35:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:37:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:39:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:46:      const stats = await getBrandingStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:52:      const context = await getBrandContextForAI(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:56:    const profile = await getBrandProfile(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:85:    const { tenantId, ...profileData } = body;
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:87:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:89:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:94:    const profile = await upsertBrandProfile(tenantId, profileData);
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:122:    const { tenantId, businessName, businessDescription, industry, targetAudience, existingBrandElements } = body;
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:124:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:126:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:138:    const profile = await generateBrandProfile(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:173:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:175:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:177:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\branding\route.ts:182:    await deleteBrandProfile(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\branding\consistency\route.ts:29:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\library\branding\consistency\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\branding\consistency\route.ts:33:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\branding\consistency\route.ts:39:    const history = await getConsistencyHistory(tenantId, limit);
D:\Unite-Hub\src\app\api\synthex\library\branding\consistency\route.ts:68:    const { tenantId, content, contentType, contentId } = body;
D:\Unite-Hub\src\app\api\synthex\library\branding\consistency\route.ts:70:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\branding\consistency\route.ts:72:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\branding\consistency\route.ts:85:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\branding\generate-from-url\route.ts:71:    const { tenantId, url, applyJobId } = body;
D:\Unite-Hub\src\app\api\synthex\library\branding\generate-from-url\route.ts:73:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\branding\generate-from-url\route.ts:75:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\branding\generate-from-url\route.ts:108:    const job = await generateFromWebsite(tenantId, url, user.id);
D:\Unite-Hub\src\app\api\synthex\library\branding\voice-samples\route.ts:30:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\library\branding\voice-samples\route.ts:32:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\branding\voice-samples\route.ts:34:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\branding\voice-samples\route.ts:44:    const samples = await listVoiceSamples(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\branding\voice-samples\route.ts:73:    const { tenantId, content, content_type, source, source_url, analyze = false } = body;
D:\Unite-Hub\src\app\api\synthex\library\branding\voice-samples\route.ts:75:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\branding\voice-samples\route.ts:77:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\branding\voice-samples\route.ts:89:    const sample = await addVoiceSample(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\brands\route.ts:28:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\brands\route.ts:32:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\brands\route.ts:34:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\brands\route.ts:41:      const defaultBrand = await getDefaultBrand(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\brands\route.ts:53:    const brands = await listBrands(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\brands\route.ts:65:      response.stats = await getBrandStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\brands\route.ts:90:    const { tenantId, ...brandData } = body;
D:\Unite-Hub\src\app\api\synthex\library\brands\route.ts:92:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\brands\route.ts:94:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\brands\route.ts:106:    const brand = await createBrand(tenantId, brandData, user.id);
D:\Unite-Hub\src\app\api\synthex\library\categories\route.ts:30:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\library\categories\route.ts:32:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\categories\route.ts:34:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\categories\route.ts:39:    const categories = await listCategories(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\categories\route.ts:68:    const { tenantId, initializeDefaults, ...categoryData } = body;
D:\Unite-Hub\src\app\api\synthex\library\categories\route.ts:70:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\categories\route.ts:72:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\categories\route.ts:79:      await initializeDefaultCategories(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\categories\route.ts:80:      const categories = await listCategories(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\categories\route.ts:95:    const category = await createCategory(tenantId, categoryData);
D:\Unite-Hub\src\app\api\synthex\library\channels\route.ts:28:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\channels\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\channels\route.ts:33:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\channels\route.ts:39:      const constraints = await getChannelConstraints(tenantId, channel);
D:\Unite-Hub\src\app\api\synthex\library\channels\route.ts:47:    const configs = await listChannelConfigs(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\channels\route.ts:74:    const { tenantId, channel, ...config } = body;
D:\Unite-Hub\src\app\api\synthex\library\channels\route.ts:76:    if (!tenantId || !channel) {
D:\Unite-Hub\src\app\api\synthex\library\channels\route.ts:78:        { error: "tenantId and channel are required" },
D:\Unite-Hub\src\app\api\synthex\library\channels\route.ts:83:    const channelConfig = await upsertChannelConfig(tenantId, channel, config);
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:30:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:55:    // Tenant-specific data requires tenantId
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:56:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:58:        { error: "tenantId is required for settings and stats" },
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:65:      const settings = await getSettings(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:77:      const stats = await getComplianceStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:86:    const settings = await getSettings(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:87:    const stats = await getComplianceStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:119:    const { tenantId, ...settings } = body;
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:121:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:123:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\compliance\route.ts:128:    const updatedSettings = await upsertSettings(tenantId, settings);
D:\Unite-Hub\src\app\api\synthex\library\compliance\check\route.ts:29:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\compliance\check\route.ts:44:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\compliance\check\route.ts:46:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\compliance\check\route.ts:60:    const checks = await listChecks(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\compliance\check\route.ts:87:    const { tenantId, content, contentType, contentId, subject, fromName, fromEmail, frameworks, jurisdictions } = body;
D:\Unite-Hub\src\app\api\synthex\library\compliance\check\route.ts:89:    if (!tenantId || !content || !contentType) {
D:\Unite-Hub\src\app\api\synthex\library\compliance\check\route.ts:91:        { error: "tenantId, content, and contentType are required" },
D:\Unite-Hub\src\app\api\synthex\library\compliance\check\route.ts:96:    const check = await checkContent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\compliance\exemptions\route.ts:29:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\compliance\exemptions\route.ts:32:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\compliance\exemptions\route.ts:34:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\compliance\exemptions\route.ts:39:    const exemptions = await listExemptions(tenantId, frameworkCode);
D:\Unite-Hub\src\app\api\synthex\library\compliance\exemptions\route.ts:66:    const { tenantId, ...exemptionData } = body;
D:\Unite-Hub\src\app\api\synthex\library\compliance\exemptions\route.ts:68:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\compliance\exemptions\route.ts:70:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\compliance\exemptions\route.ts:82:    const exemption = await createExemption(tenantId, exemptionData, user.id);
D:\Unite-Hub\src\app\api\synthex\library\compliance\reports\route.ts:28:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\compliance\reports\route.ts:43:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\compliance\reports\route.ts:45:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\compliance\reports\route.ts:51:    const reports = await listReports(tenantId, limit);
D:\Unite-Hub\src\app\api\synthex\library\compliance\reports\route.ts:78:    const { tenantId, type, frameworks, periodStart, periodEnd } = body;
D:\Unite-Hub\src\app\api\synthex\library\compliance\reports\route.ts:80:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\compliance\reports\route.ts:82:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\compliance\reports\route.ts:87:    const report = await generateReport(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:25:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:28:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:30:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:37:        const stats = await creativeService.getCreativeStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:53:        const briefs = await creativeService.listBriefs(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:76:        const assets = await creativeService.listAssets(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:96:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:110:        const tests = await creativeService.listABTests(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:158:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:160:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:162:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:170:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:212:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:240:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:278:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:303:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:328:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\creative\route.ts:344:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\credits\route.ts:30:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\credits\route.ts:35:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\credits\route.ts:37:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\credits\route.ts:42:    const account = await getOrCreateAccount(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\credits\route.ts:56:      response.usage = await getUsageSummary(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\credits\route.ts:89:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\library\credits\route.ts:91:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\credits\route.ts:93:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\credits\route.ts:109:        tenantId,
D:\Unite-Hub\src\app\api\synthex\library\credits\route.ts:132:        tenantId,
D:\Unite-Hub\src\app\api\synthex\library\credits\limits\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\credits\limits\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\credits\limits\route.ts:33:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\credits\limits\route.ts:38:    const rateLimits = await checkAllRateLimits(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\credits\limits\route.ts:50:      response.featureLimit = await checkFeatureLimit(tenantId, feature, currentCount);
D:\Unite-Hub\src\app\api\synthex\library\credits\limits\route.ts:75:    const { tenantId, creditsRequired } = body;
D:\Unite-Hub\src\app\api\synthex\library\credits\limits\route.ts:77:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\credits\limits\route.ts:79:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\credits\limits\route.ts:84:    const check = await preOperationCheck(tenantId, creditsRequired || 1);
D:\Unite-Hub\src\app\api\synthex\library\credits\plans\route.ts:69:    const { tenantId, planType, stripeSubscriptionId } = body;
D:\Unite-Hub\src\app\api\synthex\library\credits\plans\route.ts:71:    if (!tenantId || !planType) {
D:\Unite-Hub\src\app\api\synthex\library\credits\plans\route.ts:73:        { error: "tenantId and planType are required" },
D:\Unite-Hub\src\app\api\synthex\library\credits\plans\route.ts:78:    const account = await upgradePlan(tenantId, planType, stripeSubscriptionId);
D:\Unite-Hub\src\app\api\synthex\library\credits\transactions\route.ts:22:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\credits\transactions\route.ts:26:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\credits\transactions\route.ts:28:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\credits\transactions\route.ts:33:    const transactions = await getTransactionHistory(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\credits\usage\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\credits\usage\route.ts:34:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\credits\usage\route.ts:36:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\credits\usage\route.ts:41:    const history = await getUsageHistory(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\credits\usage\route.ts:57:        tenantId,
D:\Unite-Hub\src\app\api\synthex\library\credits\usage\route.ts:85:    const { tenantId, ...usageData } = body;
D:\Unite-Hub\src\app\api\synthex\library\credits\usage\route.ts:87:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\credits\usage\route.ts:89:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\credits\usage\route.ts:101:    const record = await recordUsage(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\localization\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\localization\route.ts:29:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\localization\route.ts:31:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\localization\route.ts:36:    const stats = await getLocalizationStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\localization\route.ts:64:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\localization\route.ts:77:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\localization\route.ts:79:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\localization\route.ts:94:        tenantId,
D:\Unite-Hub\src\app\api\synthex\library\localization\route.ts:123:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\localization\glossaries\route.ts:26:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\localization\glossaries\route.ts:33:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\localization\glossaries\route.ts:35:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\localization\glossaries\route.ts:40:    const glossaries = await listGlossaries(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\localization\glossaries\route.ts:76:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\localization\glossaries\route.ts:86:    if (!tenantId || !name) {
D:\Unite-Hub\src\app\api\synthex\library\localization\glossaries\route.ts:88:        { error: "tenantId and name are required" },
D:\Unite-Hub\src\app\api\synthex\library\localization\glossaries\route.ts:94:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\localization\projects\route.ts:23:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\localization\projects\route.ts:29:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\localization\projects\route.ts:31:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\localization\projects\route.ts:36:    const projects = await listProjects(tenantId, { status, limit });
D:\Unite-Hub\src\app\api\synthex\library\localization\projects\route.ts:68:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\localization\projects\route.ts:83:    if (!tenantId || !name || !target_languages?.length) {
D:\Unite-Hub\src\app\api\synthex\library\localization\projects\route.ts:85:        { error: "tenantId, name, and target_languages are required" },
D:\Unite-Hub\src\app\api\synthex\library\localization\projects\route.ts:91:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\localization\translations\route.ts:22:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\localization\translations\route.ts:34:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\localization\translations\route.ts:36:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\localization\translations\route.ts:41:    const translations = await listTranslations(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\personas\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\personas\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\personas\route.ts:32:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\personas\route.ts:46:    const personas = await listPersonas(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\personas\route.ts:58:      response.stats = await getPersonaStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\personas\route.ts:83:    const { tenantId, ...personaData } = body;
D:\Unite-Hub\src\app\api\synthex\library\personas\route.ts:85:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\personas\route.ts:87:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\personas\route.ts:99:    const persona = await createPersona(tenantId, personaData, user.id);
D:\Unite-Hub\src\app\api\synthex\library\personas\generate\route.ts:67:    const { tenantId, action, jobId, ...input } = body;
D:\Unite-Hub\src\app\api\synthex\library\personas\generate\route.ts:69:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\personas\generate\route.ts:71:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\personas\generate\route.ts:87:    const job = await generatePersonas(tenantId, input, user.id);
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:25:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:28:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:30:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:37:        const stats = await reputationService.getReputationStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:57:        const sources = await reputationService.listSources(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:87:        const reviews = await reputationService.listReviews(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:99:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:113:        const metrics = await reputationService.getMetrics(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:126:        const alerts = await reputationService.listAlerts(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:143:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:176:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:178:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:180:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:187:        const source = await reputationService.createSource(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:201:        const review = await reputationService.importReview(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:251:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:280:          tenantId,
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:287:        const alert = await reputationService.createAlert(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\reputation\route.ts:318:        const competitor = await reputationService.addCompetitor(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\sync\route.ts:32:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\sync\route.ts:38:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\sync\route.ts:40:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\sync\route.ts:47:      const stats = await getSyncStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\sync\route.ts:56:      const analytics = await getChannelAnalytics(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\sync\route.ts:109:    const { tenantId, templateId, sourceChannel, targetChannels, action, syncId, ...options } = body;
D:\Unite-Hub\src\app\api\synthex\library\sync\route.ts:111:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\sync\route.ts:113:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\sync\route.ts:145:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\sync\jobs\route.ts:67:    const { tenantId, action, jobId, ...config } = body;
D:\Unite-Hub\src\app\api\synthex\library\sync\jobs\route.ts:69:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\sync\jobs\route.ts:71:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\sync\jobs\route.ts:93:    const job = await createSyncJob(tenantId, config, user.id);
D:\Unite-Hub\src\app\api\synthex\library\sync\rules\route.ts:30:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\sync\rules\route.ts:32:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\sync\rules\route.ts:34:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\sync\rules\route.ts:45:    const rules = await listSyncRules(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\sync\rules\route.ts:72:    const { tenantId, ...ruleData } = body;
D:\Unite-Hub\src\app\api\synthex\library\sync\rules\route.ts:74:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\sync\rules\route.ts:76:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\sync\rules\route.ts:88:    const rule = await createSyncRule(tenantId, ruleData, user.id);
D:\Unite-Hub\src\app\api\synthex\library\templates\route.ts:32:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\library\templates\route.ts:34:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\templates\route.ts:36:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\templates\route.ts:53:      const stats = await getTemplateStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\templates\route.ts:57:    const templates = await listTemplates(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\templates\route.ts:86:    const { tenantId, ...templateData } = body;
D:\Unite-Hub\src\app\api\synthex\library\templates\route.ts:88:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\templates\route.ts:90:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\templates\route.ts:102:    const template = await createTemplate(tenantId, templateData, user.id);
D:\Unite-Hub\src\app\api\synthex\library\templates\generate\route.ts:30:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\templates\generate\route.ts:41:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\templates\generate\route.ts:43:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\library\templates\generate\route.ts:57:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\templates\generate\route.ts:67:        tenantId,
D:\Unite-Hub\src\app\api\synthex\library\tone\route.ts:28:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\tone\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\tone\route.ts:33:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\tone\route.ts:43:    const profiles = await listProfiles(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\library\tone\route.ts:55:      response.stats = await getToneStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\library\tone\route.ts:80:    const { tenantId, presetId, ...profileData } = body;
D:\Unite-Hub\src\app\api\synthex\library\tone\route.ts:82:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\tone\route.ts:84:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\tone\route.ts:92:        tenantId,
D:\Unite-Hub\src\app\api\synthex\library\tone\route.ts:111:    const profile = await createProfile(tenantId, profileData, user.id);
D:\Unite-Hub\src\app\api\synthex\library\tone\analyze\route.ts:26:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\tone\analyze\route.ts:29:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\tone\analyze\route.ts:31:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\tone\analyze\route.ts:36:    const analyses = await listAnalyses(tenantId, limit);
D:\Unite-Hub\src\app\api\synthex\library\tone\analyze\route.ts:63:    const { tenantId, content, contentType, contentId } = body;
D:\Unite-Hub\src\app\api\synthex\library\tone\analyze\route.ts:65:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\tone\analyze\route.ts:67:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\tone\analyze\route.ts:80:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\tone\transform\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\library\tone\transform\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\tone\transform\route.ts:33:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\tone\transform\route.ts:38:    const transformations = await listTransformations(tenantId, {
D:\Unite-Hub\src\app\api\synthex\library\tone\transform\route.ts:68:    const { tenantId, profileId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\library\tone\transform\route.ts:70:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\library\tone\transform\route.ts:72:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\library\tone\transform\route.ts:109:      tenantId,
D:\Unite-Hub\src\app\api\synthex\library\visual\quota\route.ts:10:  const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\synthex\library\visual\quota\route.ts:12:  if (!workspaceId) {
D:\Unite-Hub\src\app\api\synthex\library\visual\quota\route.ts:13:    return errorResponse('workspaceId required', 400);
D:\Unite-Hub\src\app\api\synthex\library\visual\quota\route.ts:22:    .eq('id', workspaceId)
D:\Unite-Hub\src\app\api\synthex\library\visual\quota\route.ts:46:    .eq('workspace_id', workspaceId)
D:\Unite-Hub\src\app\api\synthex\market-radar\route.ts:26:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\market-radar\route.ts:29:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\market-radar\route.ts:30:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\market-radar\route.ts:33:    const summary = await getMarketRadarSummary(tenantId, businessId || undefined);
D:\Unite-Hub\src\app\api\synthex\market-radar\competitors\route.ts:31:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\market-radar\competitors\route.ts:37:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\market-radar\competitors\route.ts:38:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\market-radar\competitors\route.ts:41:    const competitors = await listCompetitors(tenantId, {
D:\Unite-Hub\src\app\api\synthex\market-radar\competitors\route.ts:71:    const { tenantId, businessId } = body;
D:\Unite-Hub\src\app\api\synthex\market-radar\competitors\route.ts:73:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\market-radar\competitors\route.ts:74:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\market-radar\competitors\route.ts:81:    const competitor = await createCompetitor(tenantId, businessId, {
D:\Unite-Hub\src\app\api\synthex\market-radar\recommendations\route.ts:36:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\market-radar\recommendations\route.ts:43:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\market-radar\recommendations\route.ts:44:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\market-radar\recommendations\route.ts:47:    const recommendations = await listRecommendations(tenantId, {
D:\Unite-Hub\src\app\api\synthex\market-radar\recommendations\route.ts:78:    const { tenantId, businessId, action } = body;
D:\Unite-Hub\src\app\api\synthex\market-radar\recommendations\route.ts:80:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\market-radar\recommendations\route.ts:81:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\market-radar\recommendations\route.ts:103:        listSignals(tenantId, { businessId, limit: 20 }),
D:\Unite-Hub\src\app\api\synthex\market-radar\recommendations\route.ts:104:        listCompetitors(tenantId, { businessId, limit: 10 }),
D:\Unite-Hub\src\app\api\synthex\market-radar\recommendations\route.ts:107:      const recommendations = await aiGenerateRecommendations(tenantId, businessId, {
D:\Unite-Hub\src\app\api\synthex\market-radar\recommendations\route.ts:127:    const recommendation = await createRecommendation(tenantId, businessId, {
D:\Unite-Hub\src\app\api\synthex\market-radar\signals\route.ts:34:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\market-radar\signals\route.ts:42:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\market-radar\signals\route.ts:43:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\market-radar\signals\route.ts:46:    const signals = await listSignals(tenantId, {
D:\Unite-Hub\src\app\api\synthex\market-radar\signals\route.ts:78:    const { tenantId, businessId, action } = body;
D:\Unite-Hub\src\app\api\synthex\market-radar\signals\route.ts:80:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\market-radar\signals\route.ts:81:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\market-radar\signals\route.ts:99:        tenantId,
D:\Unite-Hub\src\app\api\synthex\market-radar\signals\route.ts:115:    const signal = await createSignal(tenantId, businessId, {
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:39:        const stats = await offerService.getOfferStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:58:        const insights = await offerService.listOfferInsights(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:70:        const insight = await offerService.getOfferInsight(tenantId, insightId);
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:82:        const tests = await offerService.listOfferTests(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:94:        const test = await offerService.getOfferTest(tenantId, testId);
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:100:        const templates = await offerService.listOfferTemplates(tenantId, offerType);
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:106:        const rules = await offerService.listOfferRules(tenantId, ruleType);
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:120:        const redemptions = await offerService.listRedemptions(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:152:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:154:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:156:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:173:          tenantId,
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:262:          tenantId,
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:343:          tenantId,
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:393:          tenantId,
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:437:        const redemption = await offerService.recordRedemption(tenantId, {
D:\Unite-Hub\src\app\api\synthex\offer\intelligence\route.ts:474:        await offerService.initializeDefaultTemplates(tenantId, user.id);
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:39:        const stats = await graphService.getGraphStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:57:        const nodes = await graphService.listNodes(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:81:        const connections = await graphService.getNodeConnections(tenantId, nodeId);
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:96:        const edges = await graphService.listEdges(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:110:        const paths = await graphService.listPaths(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:127:          tenantId,
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:144:        const clusters = await graphService.listClusters(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:156:        const members = await graphService.getClusterMembers(tenantId, clusterId);
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:169:        const analyses = await graphService.listAnalyses(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:201:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:203:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:205:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:222:          tenantId,
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:270:        const node = await graphService.linkExternalEntity(tenantId, {
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:286:        const metrics = await graphService.calculateNodeMetrics(tenantId, data.node_id);
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:300:        const edge = await graphService.createEdge(tenantId, {
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:343:        const edges = await graphService.bulkCreateEdges(tenantId, data.edges);
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:357:        const path = await graphService.createPath(tenantId, {
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:378:        const cluster = await graphService.createCluster(tenantId, {
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:407:          tenantId,
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:422:          tenantId,
D:\Unite-Hub\src\app\api\synthex\opportunity-graph\route.ts:440:          tenantId,
D:\Unite-Hub\src\app\api\synthex\optimizer\actions\route.ts:28:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\optimizer\actions\route.ts:43:    const actions = await listActions(tenantId, runId, {
D:\Unite-Hub\src\app\api\synthex\optimizer\run\route.ts:30:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\optimizer\run\route.ts:37:      const summary = await getOptimizerSummary(tenantId, days ? parseInt(days, 10) : 30);
D:\Unite-Hub\src\app\api\synthex\optimizer\run\route.ts:46:    const runs = await listRuns(tenantId, {
D:\Unite-Hub\src\app\api\synthex\optimizer\run\route.ts:73:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\optimizer\run\route.ts:89:        const run = await createRun(tenantId, {
D:\Unite-Hub\src\app\api\synthex\optimizer\run\route.ts:107:        const result = await executeOptimizerRun(tenantId, run_id);
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:39:        const stats = await personalisationService.getPersonalisationStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:51:        const profile = await personalisationService.getProfile(tenantId, contactId);
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:74:        const events = await personalisationService.listEvents(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:91:          tenantId,
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:99:        const rules = await personalisationService.listRules(tenantId, ruleType);
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:106:          tenantId,
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:113:        const personas = await personalisationService.listPersonas(tenantId);
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:145:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:147:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:149:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:162:        const event = await personalisationService.trackEvent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:196:          tenantId,
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:210:          tenantId,
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:225:          tenantId,
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:253:        const rule = await personalisationService.createRule(tenantId, {
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:276:        const experiment = await personalisationService.createExperiment(tenantId, {
D:\Unite-Hub\src\app\api\synthex\personalisation\route.ts:311:        const persona = await personalisationService.createPersona(tenantId, {
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:75:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:76:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:85:      const playbook = await getPlaybook(tenantId, id);
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:120:    const playbooks = await listPlaybooks(tenantId, {
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:159:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:160:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:199:      const playbook = await getPlaybook(tenantId, execution.playbook_id);
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:226:      const playbook = await createPlaybook(tenantId, input);
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:276:      const execution = await startPlaybookExecution(tenantId, input);
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:295:      const execution = await updatePlaybookExecution(tenantId, executionId, updates);
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:316:      const playbook = await updatePlaybook(tenantId, playbookId, updates);
D:\Unite-Hub\src\app\api\synthex\playbooks\route.ts:327:      await deletePlaybook(tenantId, playbookId);
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\route.ts:33:    const { tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\route.ts:35:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\route.ts:36:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\route.ts:46:    const playbook = await createPlaybook(tenantId, {
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\route.ts:74: * GET /api/synthex/playbooks/appe?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\route.ts:85:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\route.ts:87:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\route.ts:88:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\route.ts:94:        listPlaybooks(tenantId, {
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\route.ts:101:        getStats(tenantId),
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\route.ts:107:    const playbooks = await listPlaybooks(tenantId, {
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\executions\route.ts:18: * GET /api/synthex/playbooks/appe/executions?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\executions\route.ts:29:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\executions\route.ts:31:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\executions\route.ts:32:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\executions\route.ts:35:    const executions = await listExecutions(tenantId, {
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\generate\route.ts:23: * - tenantId: tenant ID
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\generate\route.ts:35:    const { tenantId, description, auto_create } = body;
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\generate\route.ts:37:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\generate\route.ts:38:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\generate\route.ts:59:    const playbook = await createPlaybook(tenantId, {
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\generate\route.ts:72:      const step = await createStep(tenantId, playbook.id, {
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\templates\route.ts:54: * - tenantId: tenant ID
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\templates\route.ts:67:    const { tenantId, templateId } = body;
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\templates\route.ts:69:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\templates\route.ts:70:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\playbooks\appe\templates\route.ts:77:    const playbook = await createFromTemplate(tenantId, templateId, {
D:\Unite-Hub\src\app\api\synthex\playbooks\progress\route.ts:31:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\playbooks\progress\route.ts:34:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\playbooks\progress\route.ts:36:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\playbooks\progress\route.ts:43:      const progress = await getPlaybookProgress(tenantId, user.id, playbookId);
D:\Unite-Hub\src\app\api\synthex\playbooks\progress\route.ts:48:    const progress = await getUserProgress(tenantId, user.id);
D:\Unite-Hub\src\app\api\synthex\playbooks\progress\route.ts:76:    const { tenantId, playbookId, stepId, action } = body;
D:\Unite-Hub\src\app\api\synthex\playbooks\progress\route.ts:78:    if (!tenantId || !playbookId) {
D:\Unite-Hub\src\app\api\synthex\playbooks\progress\route.ts:80:        { error: 'tenantId and playbookId are required' },
D:\Unite-Hub\src\app\api\synthex\playbooks\progress\route.ts:87:      const progress = await startPlaybook(tenantId, user.id, playbookId);
D:\Unite-Hub\src\app\api\synthex\playbooks\progress\route.ts:100:      tenantId,
D:\Unite-Hub\src\app\api\synthex\playbooks\recommended\route.ts:25:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\playbooks\recommended\route.ts:28:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\playbooks\recommended\route.ts:30:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\playbooks\recommended\route.ts:35:    const recommendations = await getRecommendedPlaybooks(tenantId, user.id, limit);
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:9: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:16: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:43:    const { tenantId, audienceId, days } = body;
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:45:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:47:        { error: 'Missing required field: tenantId' },
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:56:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:64:    const result = await generateSendTimePrediction(tenantId, {
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:107:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:111:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:113:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:122:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:131:      const result = await getSendTimePredictionHistory(tenantId);
D:\Unite-Hub\src\app\api\synthex\predict\send-time\route.ts:143:    const result = await getLatestSendTimePrediction(tenantId, audienceId || undefined);
D:\Unite-Hub\src\app\api\synthex\preview\route.ts:34:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\preview\route.ts:36:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\preview\route.ts:37:      return NextResponse.json({ error: 'Missing tenantId parameter' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\preview\route.ts:44:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\preview\route.ts:52:    const preview = await getLatestPreview(tenantId);
D:\Unite-Hub\src\app\api\synthex\preview\route.ts:82:    const { tenantId, forceRegenerate, customPromptHints, colorOverrides } = body;
D:\Unite-Hub\src\app\api\synthex\preview\route.ts:84:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\preview\route.ts:85:      return NextResponse.json({ error: 'Missing required field: tenantId' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\preview\route.ts:92:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\preview\route.ts:101:    const preview = await generateWebsitePreview(tenantId, {
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:39:        const stats = await reasoningService.getReasoningStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:60:        const models = await reasoningService.listModels(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:72:        const model = await reasoningService.getModel(tenantId, modelId);
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:92:        const chains = await reasoningService.listChains(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:104:        const chain = await reasoningService.getChain(tenantId, chainId);
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:124:        const prompts = await reasoningService.listPrompts(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:136:        const prompt = await reasoningService.getPrompt(tenantId, promptId);
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:153:        const logs = await reasoningService.listLogs(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:165:        const log = await reasoningService.getLog(tenantId, logId);
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:171:        const feedback = await reasoningService.listFeedback(tenantId, logId);
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:203:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:205:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:207:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:214:        const result = await reasoningService.runReasoning(tenantId, {
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:230:        const model = await reasoningService.createModel(tenantId, {
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:265:        const chain = await reasoningService.createChain(tenantId, {
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:296:        const prompt = await reasoningService.createPrompt(tenantId, {
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:316:          tenantId,
D:\Unite-Hub\src\app\api\synthex\reasoning\route.ts:330:        await reasoningService.initializeDefaultModels(tenantId);
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:68:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:69:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:78:      const report = await getReport(tenantId, id);
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:100:      const summary = await getReportSummary(tenantId, months);
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:110:    const reports = await listReports(tenantId, {
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:150:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:151:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:166:      const generated = await aiGenerateReport(tenantId, template_id, data_snapshot || {});
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:178:      const report = await getReport(tenantId, reportId);
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:205:      const report = await createReport(tenantId, input);
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:226:      const audience = await createReportAudience(tenantId, input);
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:249:      const report = await updateReport(tenantId, reportId, updates);
D:\Unite-Hub\src\app\api\synthex\reports\route.ts:260:      await deleteReport(tenantId, reportId);
D:\Unite-Hub\src\app\api\synthex\reports\templates\route.ts:59:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\synthex\reports\templates\route.ts:60:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\reports\templates\route.ts:69:      const template = await getReportTemplate(tenantId, id);
D:\Unite-Hub\src\app\api\synthex\reports\templates\route.ts:87:    const templates = await listReportTemplates(tenantId, {
D:\Unite-Hub\src\app\api\synthex\reports\templates\route.ts:126:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\synthex\reports\templates\route.ts:127:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\reports\templates\route.ts:151:      const template = await createReportTemplate(tenantId, input);
D:\Unite-Hub\src\app\api\synthex\reports\templates\route.ts:206:      const template = await updateReportTemplate(tenantId, templateId, updates);
D:\Unite-Hub\src\app\api\synthex\reports\templates\route.ts:217:      await deleteReportTemplate(tenantId, templateId);
D:\Unite-Hub\src\app\api\synthex\reputation\summary\route.ts:12:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\reputation\summary\route.ts:14:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\reputation\summary\route.ts:16:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\reputation\summary\route.ts:21:    const result = await getReputationSummary(tenantId);
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:25:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:28:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:30:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:37:        const stats = await revenueService.getRevenueStats(tenantId, {
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:67:        const events = await revenueService.listRevenueEvents(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:79:        const event = await revenueService.getRevenueEventById(tenantId, eventId);
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:100:        const rules = await revenueService.listRoutingRules(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:119:        const channels = await revenueService.getChannelPerformance(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:135:        const paths = await revenueService.getAttributionPaths(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:154:        const forecasts = await revenueService.getForecasts(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:168:        const alerts = await revenueService.listRevenueAlerts(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:199:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:201:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:203:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:210:        const event = await revenueService.recordRevenueEvent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:242:          tenantId,
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:281:          tenantId,
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:292:          tenantId,
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:299:        const forecast = await revenueService.generateRevenueForecast(tenantId, {
D:\Unite-Hub\src\app\api\synthex\revenue\route.ts:308:        const alert = await revenueService.createRevenueAlert(tenantId, {
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:8: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:20: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:61:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:71:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:73:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:82:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:89:    const result = await listRevenueEvents(tenantId, {
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:129:      tenantId,
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:147:    if (!tenantId || amount === undefined || !channel) {
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:149:        { error: 'Missing required fields: tenantId, amount, channel' },
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:158:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:171:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:188:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\revenue\events\route.ts:201:      tenantId,
D:\Unite-Hub\src\app\api\synthex\revenue\summary\route.ts:7: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\revenue\summary\route.ts:35:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\revenue\summary\route.ts:41:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\revenue\summary\route.ts:43:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\revenue\summary\route.ts:52:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\revenue\summary\route.ts:66:      getStageSummary(tenantId, { ...dateRange, cohortId: cohortId || undefined }),
D:\Unite-Hub\src\app\api\synthex\revenue\summary\route.ts:67:      getRevenueStats(tenantId, dateRange),
D:\Unite-Hub\src\app\api\synthex\revenue\summary\route.ts:90:      const channelsResult = await getChannelAttribution(tenantId, dateRange);
D:\Unite-Hub\src\app\api\synthex\reviews\route.ts:18:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\reviews\route.ts:20:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\reviews\route.ts:22:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\reviews\route.ts:48:    const result = await getReviews(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\reviews\route.ts:81:      if (!review.tenantId || !review.source || !review.authorName || !review.body) {
D:\Unite-Hub\src\app\api\synthex\reviews\route.ts:85:              'Each review must have tenantId, source, authorName, and body',
D:\Unite-Hub\src\app\api\synthex\reviews\insights\route.ts:12:    const { reviewId, tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\reviews\insights\route.ts:14:    if (!reviewId || !tenantId) {
D:\Unite-Hub\src\app\api\synthex\reviews\insights\route.ts:16:        { error: 'reviewId and tenantId are required' },
D:\Unite-Hub\src\app\api\synthex\reviews\insights\route.ts:21:    const result = await analyzeReviewWithAI(reviewId, tenantId);
D:\Unite-Hub\src\app\api\synthex\reviews\respond\route.ts:12:    const { reviewId, tenantId, voiceId, action } = body;
D:\Unite-Hub\src\app\api\synthex\reviews\respond\route.ts:14:    if (!reviewId || !tenantId) {
D:\Unite-Hub\src\app\api\synthex\reviews\respond\route.ts:16:        { error: 'reviewId and tenantId are required' },
D:\Unite-Hub\src\app\api\synthex\reviews\respond\route.ts:45:    const result = await suggestReviewResponse(reviewId, tenantId, voiceId);
D:\Unite-Hub\src\app\api\synthex\risk\events\route.ts:29:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\risk\events\route.ts:38:    const events = await listRiskEvents(tenantId, {
D:\Unite-Hub\src\app\api\synthex\risk\events\route.ts:67:    const tenantId = user.user_metadata?.tenant_id || user.id;
D:\Unite-Hub\src\app\api\synthex\risk\events\route.ts:83:        const event = await createRiskEvent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\safety\audit\route.ts:18:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\safety\audit\route.ts:20:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\safety\audit\route.ts:21:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\safety\audit\route.ts:52:    const logs = await listAuditLogs(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\safety\incidents\route.ts:19:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\safety\incidents\route.ts:21:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\safety\incidents\route.ts:22:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\safety\incidents\route.ts:48:    const incidents = await listIncidents(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\safety\incidents\route.ts:66:    const { tenantId, incidentId } = body;
D:\Unite-Hub\src\app\api\synthex\safety\incidents\route.ts:68:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\safety\incidents\route.ts:69:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\safety\incidents\route.ts:76:    const incident = await resolveIncident(incidentId, tenantId);
D:\Unite-Hub\src\app\api\synthex\safety\policy\route.ts:19:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\safety\policy\route.ts:21:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\safety\policy\route.ts:22:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\safety\policy\route.ts:25:    const policy = await getGuardrailPolicy(tenantId);
D:\Unite-Hub\src\app\api\synthex\safety\policy\route.ts:43:    const { tenantId, policy } = body;
D:\Unite-Hub\src\app\api\synthex\safety\policy\route.ts:45:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\safety\policy\route.ts:46:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\safety\policy\route.ts:53:    const updatedPolicy = await updateGuardrailPolicy(tenantId, policy);
D:\Unite-Hub\src\app\api\synthex\safety\stats\route.ts:18:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\safety\stats\route.ts:20:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\safety\stats\route.ts:21:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\safety\stats\route.ts:30:      .eq('tenant_id', tenantId);
D:\Unite-Hub\src\app\api\synthex\safety\stats\route.ts:36:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\safety\stats\route.ts:46:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\safety\stats\route.ts:53:      .eq('tenant_id', tenantId);
D:\Unite-Hub\src\app\api\synthex\safety\stats\route.ts:63:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\sales\activities\route.ts:15: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\sales\activities\route.ts:110:    const { opportunityId, tenantId, type, content, nextAction, dueAt, completed } = body;
D:\Unite-Hub\src\app\api\synthex\sales\activities\route.ts:112:    if (!opportunityId || !tenantId || !type || !content) {
D:\Unite-Hub\src\app\api\synthex\sales\activities\route.ts:114:        { error: 'Missing required fields: opportunityId, tenantId, type, content' },
D:\Unite-Hub\src\app\api\synthex\sales\activities\route.ts:123:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\sales\activities\route.ts:135:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\sales\activities\route.ts:147:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:9: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:17: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:71:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:77:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:79:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:88:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:95:    const result = await listOpportunities(tenantId, {
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:130:      tenantId,
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:143:    if (!tenantId || !pipelineId || !name || !stage || !ownerId) {
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:145:        { error: 'Missing required fields: tenantId, pipelineId, name, stage, ownerId' },
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:154:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\sales\opportunities\route.ts:162:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:8: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:12: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:40:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:42:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:44:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:53:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:60:    const result = await listPipelines(tenantId);
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:89:    const { tenantId, name, stages, is_default } = body;
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:91:    if (!tenantId || !name || !stages || !Array.isArray(stages)) {
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:93:        { error: 'Missing required fields: tenantId, name, stages (array)' },
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:102:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\sales\pipelines\route.ts:110:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:23: * GET /api/synthex/scenarios?tenantId=xxx
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:34:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:36:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:37:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:43:        listScenarios(tenantId, {
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:49:        getGrowthPlannerStats(tenantId),
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:55:    const scenarios = await listScenarios(tenantId, {
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:85:    const { tenantId, templateId } = body;
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:87:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:88:      return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:93:      const scenario = await createFromTemplate(tenantId, templateId, {
D:\Unite-Hub\src\app\api\synthex\scenarios\route.ts:111:    const scenario = await createScenario(tenantId, {
D:\Unite-Hub\src\app\api\synthex\scenarios\templates\route.ts:26:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\scenarios\templates\route.ts:29:    const templates = await listTemplates(tenantId || undefined, publicOnly);
D:\Unite-Hub\src\app\api\synthex\scenarios\[id]\route.ts:143:    const { action, tenantId } = body;
D:\Unite-Hub\src\app\api\synthex\scenarios\[id]\route.ts:156:        if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\scenarios\[id]\route.ts:157:          return NextResponse.json({ error: "tenantId is required" }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\scenarios\[id]\route.ts:159:        const simulation = await runSimulation(tenantId, id, {
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:7: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:16: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:48:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:54:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:56:        { error: 'Missing required param: tenantId' },
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:65:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:79:      result = await listSchedules(tenantId, user.id, {
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:113:    const { campaignId, tenantId, brandId, steps, timezone } = body;
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:115:    if (!campaignId || !tenantId || !steps || !Array.isArray(steps)) {
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:117:        { error: 'Missing required fields: campaignId, tenantId, steps' },
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:126:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:140:    if (!campaign || campaign.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\synthex\schedule\route.ts:164:      tenantId,
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:29:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:32:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:34:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:43:        const result = await listAudienceSegments(tenantId, {
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:57:        const stats = await dynamicSegmentService.getSegmentStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:88:        const segments = await dynamicSegmentService.listSegments(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:100:        const segment = await dynamicSegmentService.getSegment(tenantId, segmentId);
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:124:        const members = await dynamicSegmentService.listMembers(tenantId, segmentId, filters);
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:140:        const segments = await dynamicSegmentService.getMemberSegments(tenantId, options);
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:160:        const rules = await dynamicSegmentService.listRules(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:175:        const snapshots = await dynamicSegmentService.getSnapshots(tenantId, segmentId, limit);
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:207:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:209:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:211:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:219:          tenantId,
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:264:          tenantId,
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:294:          tenantId,
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:302:        const result = await dynamicSegmentService.refreshSegment(tenantId, data.segment_id);
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:307:        const rule = await dynamicSegmentService.createRule(tenantId, {
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:327:          tenantId,
D:\Unite-Hub\src\app\api\synthex\segments\route.ts:336:          tenantId,
D:\Unite-Hub\src\app\api\synthex\segments\generate\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\segments\generate\route.ts:31:    const { tenantId, audienceId, save = true } = body;
D:\Unite-Hub\src\app\api\synthex\segments\generate\route.ts:33:    if (!tenantId || !audienceId) {
D:\Unite-Hub\src\app\api\synthex\segments\generate\route.ts:35:        { error: 'Missing required fields: tenantId, audienceId' },
D:\Unite-Hub\src\app\api\synthex\segments\generate\route.ts:44:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\segments\generate\route.ts:57:    if (audienceResult.data.tenantId !== tenantId) {
D:\Unite-Hub\src\app\api\synthex\segments\generate\route.ts:62:    const generateResult = await generateSegments(tenantId, audienceId);
D:\Unite-Hub\src\app\api\synthex\segments\generate\route.ts:78:      const saveResult = await saveSegments(tenantId, audienceId, generateResult.data);
D:\Unite-Hub\src\app\api\synthex\send\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\send\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\send\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\send\route.ts:39:        const stats = await sendEngine.getSendStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\send\route.ts:50:        const channels = await sendEngine.listChannels(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\send\route.ts:62:        const channel = await sendEngine.getDefaultChannel(tenantId, channelType);
D:\Unite-Hub\src\app\api\synthex\send\route.ts:74:        const templates = await sendEngine.listTemplates(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\send\route.ts:86:          const template = await sendEngine.getTemplateByKey(tenantId, templateKey);
D:\Unite-Hub\src\app\api\synthex\send\route.ts:104:        const messages = await sendEngine.listQueuedMessages(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\send\route.ts:110:        const messages = await sendEngine.getPendingMessages(tenantId, limit);
D:\Unite-Hub\src\app\api\synthex\send\route.ts:120:        const events = await sendEngine.listEvents(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\send\route.ts:133:        const performance = await sendEngine.getChannelPerformance(tenantId, channelId, period);
D:\Unite-Hub\src\app\api\synthex\send\route.ts:165:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\send\route.ts:167:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\send\route.ts:169:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\send\route.ts:186:          tenantId,
D:\Unite-Hub\src\app\api\synthex\send\route.ts:226:          tenantId,
D:\Unite-Hub\src\app\api\synthex\send\route.ts:257:          tenantId,
D:\Unite-Hub\src\app\api\synthex\send\route.ts:293:        const result = await sendEngine.queueBulkMessages(tenantId, data.messages);
D:\Unite-Hub\src\app\api\synthex\send\route.ts:338:        const event = await sendEngine.recordEvent(tenantId, data.queue_id, {
D:\Unite-Hub\src\app\api\synthex\send\route.ts:367:        const result = await sendEngine.generatePersonalizedContent(tenantId, {
D:\Unite-Hub\src\app\api\synthex\send\route.ts:382:        const result = await sendEngine.optimizeSendTime(tenantId, data.recipient_id);
D:\Unite-Hub\src\app\api\synthex\seo\analyses\route.ts:2: * GET /api/synthex/seo/analyses?tenantId=...
D:\Unite-Hub\src\app\api\synthex\seo\analyses\route.ts:21:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\seo\analyses\route.ts:24:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\seo\analyses\route.ts:26:        { error: 'Missing tenantId parameter' },
D:\Unite-Hub\src\app\api\synthex\seo\analyses\route.ts:37:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\seo\analyze\route.ts:8: *   tenantId: string
D:\Unite-Hub\src\app\api\synthex\seo\analyze\route.ts:38:      tenantId,
D:\Unite-Hub\src\app\api\synthex\seo\analyze\route.ts:48:    if (!tenantId || !domain || !analysisType) {
D:\Unite-Hub\src\app\api\synthex\seo\analyze\route.ts:50:        { error: 'Missing required fields: tenantId, domain, analysisType' },
D:\Unite-Hub\src\app\api\synthex\seo\analyze\route.ts:70:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\seo\analyze\route.ts:93:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\seo\reports\route.ts:7: * - tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\seo\reports\route.ts:38:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\seo\reports\route.ts:44:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\seo\reports\route.ts:46:        { error: 'Missing tenantId parameter' },
D:\Unite-Hub\src\app\api\synthex\seo\reports\route.ts:55:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\seo\reports\route.ts:76:      tenantId,
D:\Unite-Hub\src\app\api\synthex\seo\run\route.ts:8: *   tenantId: string (required)
D:\Unite-Hub\src\app\api\synthex\seo\run\route.ts:173:    const { tenantId, brandId, targetUrl, keywords = [], competitors = [] } = body;
D:\Unite-Hub\src\app\api\synthex\seo\run\route.ts:176:    if (!tenantId || typeof tenantId !== 'string') {
D:\Unite-Hub\src\app\api\synthex\seo\run\route.ts:178:        { error: 'Missing or invalid tenantId' },
D:\Unite-Hub\src\app\api\synthex\seo\run\route.ts:204:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\seo\run\route.ts:225:        .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\seo\run\route.ts:287:      tenantId,
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:27:    const tenantId = searchParams.get("tenantId");
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:30:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:32:        { error: "Missing required param: tenantId" },
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:39:        const stats = await simulatorService.getSimulationStats(tenantId);
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:50:        const simulations = await simulatorService.listSimulations(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:107:        const templates = await simulatorService.listTemplates(tenantId, filters);
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:180:    const { tenantId, action, ...data } = body;
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:182:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:184:        { error: "tenantId is required" },
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:201:          tenantId,
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:265:        const result = await simulatorService.runAISimulation(tenantId, data.simulation_id);
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:280:          tenantId,
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:316:          tenantId,
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:334:          tenantId,
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:372:          tenantId,
D:\Unite-Hub\src\app\api\synthex\simulator\route.ts:405:          tenantId,
D:\Unite-Hub\src\app\api\synthex\social\accounts\route.ts:29:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\social\accounts\route.ts:32:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\social\accounts\route.ts:33:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\social\accounts\route.ts:38:      const summary = await getSocialSummary(tenantId);
D:\Unite-Hub\src\app\api\synthex\social\accounts\route.ts:43:    const accounts = await getAccounts(tenantId);
D:\Unite-Hub\src\app\api\synthex\social\accounts\route.ts:124:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\social\accounts\route.ts:127:    if (!tenantId || !accountId) {
D:\Unite-Hub\src\app\api\synthex\social\accounts\route.ts:129:        { error: 'tenantId and accountId are required' },
D:\Unite-Hub\src\app\api\synthex\social\accounts\route.ts:134:    await disconnectAccount(tenantId, accountId);
D:\Unite-Hub\src\app\api\synthex\social\posts\route.ts:34:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\social\posts\route.ts:40:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\social\posts\route.ts:41:      return NextResponse.json({ error: 'tenantId is required' }, { status: 400 });
D:\Unite-Hub\src\app\api\synthex\social\posts\route.ts:46:      const templates = await getTemplates(tenantId);
D:\Unite-Hub\src\app\api\synthex\social\posts\route.ts:51:    const posts = await getPosts(tenantId, {
D:\Unite-Hub\src\app\api\synthex\social\run\route.ts:80:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\social\run\route.ts:83:    if (!tenantId || !postId) {
D:\Unite-Hub\src\app\api\synthex\social\run\route.ts:85:        { error: 'tenantId and postId are required' },
D:\Unite-Hub\src\app\api\synthex\social\run\route.ts:90:    const analytics = await getPostAnalytics(tenantId, postId);
D:\Unite-Hub\src\app\api\synthex\subscription\route.ts:28:    const tenantId = request.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\subscription\route.ts:29:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\subscription\route.ts:31:        { success: false, error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\subscription\route.ts:40:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\subscription\route.ts:51:    const subscription = await getTenantSubscription(tenantId);
D:\Unite-Hub\src\app\api\synthex\subscription\route.ts:89:    const { tenantId, planCode, billingPeriod, action } = body;
D:\Unite-Hub\src\app\api\synthex\subscription\route.ts:91:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\subscription\route.ts:93:        { success: false, error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\subscription\route.ts:102:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\subscription\route.ts:115:      await cancelSubscription(tenantId);
D:\Unite-Hub\src\app\api\synthex\subscription\route.ts:145:      tenantId,
D:\Unite-Hub\src\app\api\synthex\templates\clone\route.ts:34:    const { templateId, tenantId, options } = body as {
D:\Unite-Hub\src\app\api\synthex\templates\clone\route.ts:36:      tenantId: string;
D:\Unite-Hub\src\app\api\synthex\templates\clone\route.ts:40:    if (!templateId || !tenantId) {
D:\Unite-Hub\src\app\api\synthex\templates\clone\route.ts:42:        { error: 'templateId and tenantId are required' },
D:\Unite-Hub\src\app\api\synthex\templates\clone\route.ts:51:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\templates\clone\route.ts:72:      tenantId,
D:\Unite-Hub\src\app\api\synthex\templates\marketplace\route.ts:32:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\templates\marketplace\route.ts:58:      tenantId: tenantId || undefined,
D:\Unite-Hub\src\app\api\synthex\templates\marketplace\route.ts:138:        tenantId: tenant_id,
D:\Unite-Hub\src\app\api\synthex\templates\marketplace\[id]\route.ts:38:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\templates\marketplace\[id]\route.ts:57:    if (tenantId) {
D:\Unite-Hub\src\app\api\synthex\templates\marketplace\[id]\route.ts:58:      await recordTemplateUsage(id, tenantId, user.id, 'view');
D:\Unite-Hub\src\app\api\synthex\templates\packs\route.ts:36:    const tenantId = searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\templates\packs\route.ts:38:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\templates\packs\route.ts:40:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\templates\packs\route.ts:51:    const packs = await listAvailablePacks(tenantId, {
D:\Unite-Hub\src\app\api\synthex\templates\packs\route.ts:91:    const { tenantId, packData } = body as {
D:\Unite-Hub\src\app\api\synthex\templates\packs\route.ts:92:      tenantId: string;
D:\Unite-Hub\src\app\api\synthex\templates\packs\route.ts:96:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\templates\packs\route.ts:98:        { error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\templates\packs\route.ts:114:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\templates\packs\route.ts:132:    const pack = await createOrUpdatePack(tenantId, packData);
D:\Unite-Hub\src\app\api\synthex\templates\recommend\route.ts:26:  tenantId: string;
D:\Unite-Hub\src\app\api\synthex\templates\recommend\route.ts:42:    const { tenantId, goalDescription, preferredType, stackContext } = body;
D:\Unite-Hub\src\app\api\synthex\templates\recommend\route.ts:44:    if (!tenantId || !goalDescription) {
D:\Unite-Hub\src\app\api\synthex\templates\recommend\route.ts:46:        { error: 'tenantId and goalDescription are required' },
D:\Unite-Hub\src\app\api\synthex\templates\recommend\route.ts:113:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\tenant\route.ts:29:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\tenant\route.ts:31:    if (tenantId) {
D:\Unite-Hub\src\app\api\synthex\tenant\route.ts:41:        .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\tenant\members\route.ts:44:    const tenantId = searchParams.get('tenant_id');
D:\Unite-Hub\src\app\api\synthex\tenant\members\route.ts:46:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\tenant\members\route.ts:57:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\tenant\members\route.ts:71:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\tenant\members\route.ts:84:    const result = await listTenantMembers(tenantId);
D:\Unite-Hub\src\app\api\synthex\tenant\members\route.ts:324:    const tenantId = searchParams.get('tenant_id');
D:\Unite-Hub\src\app\api\synthex\tenant\members\route.ts:326:    if (!memberId || !tenantId) {
D:\Unite-Hub\src\app\api\synthex\tenant\members\route.ts:337:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\tenant\members\route.ts:351:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\tenant\profile\route.ts:40:    const tenantId = searchParams.get('tenant_id');
D:\Unite-Hub\src\app\api\synthex\tenant\profile\route.ts:42:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\tenant\profile\route.ts:50:    const result = await getTenantProfile(tenantId);
D:\Unite-Hub\src\app\api\synthex\usage\summary\route.ts:23:    const tenantId = request.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\usage\summary\route.ts:24:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\usage\summary\route.ts:26:        { success: false, error: 'tenantId is required' },
D:\Unite-Hub\src\app\api\synthex\usage\summary\route.ts:35:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\usage\summary\route.ts:46:    const summary = await getUsageSummary(tenantId);
D:\Unite-Hub\src\app\api\synthex\video\generate\route.ts:8: *   tenantId: string
D:\Unite-Hub\src\app\api\synthex\video\generate\route.ts:42:    const { tenantId, jobType, description, brandName, options } = body;
D:\Unite-Hub\src\app\api\synthex\video\generate\route.ts:45:    if (!tenantId || !jobType || !description || !brandName) {
D:\Unite-Hub\src\app\api\synthex\video\generate\route.ts:47:        { error: 'Missing required fields: tenantId, jobType, description, brandName' },
D:\Unite-Hub\src\app\api\synthex\video\generate\route.ts:65:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\video\generate\route.ts:84:      tenantId,
D:\Unite-Hub\src\app\api\synthex\video\jobs\route.ts:2: * GET /api/synthex/video/jobs?tenantId=...
D:\Unite-Hub\src\app\api\synthex\video\jobs\route.ts:21:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\video\jobs\route.ts:24:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\video\jobs\route.ts:26:        { error: 'Missing tenantId parameter' },
D:\Unite-Hub\src\app\api\synthex\video\jobs\route.ts:35:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\video\templates\route.ts:2: * GET /api/synthex/video/templates?tenantId=...
D:\Unite-Hub\src\app\api\synthex\video\templates\route.ts:21:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\video\templates\route.ts:23:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\video\templates\route.ts:25:        { error: 'Missing tenantId parameter' },
D:\Unite-Hub\src\app\api\synthex\video\templates\route.ts:34:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\visual\brand-kits\route.ts:2: * GET /api/synthex/visual/brand-kits?tenantId=...
D:\Unite-Hub\src\app\api\synthex\visual\brand-kits\route.ts:26:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\visual\brand-kits\route.ts:28:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\visual\brand-kits\route.ts:30:        { error: 'Missing tenantId parameter' },
D:\Unite-Hub\src\app\api\synthex\visual\brand-kits\route.ts:39:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\visual\brand-kits\route.ts:72:      tenantId,
D:\Unite-Hub\src\app\api\synthex\visual\brand-kits\route.ts:82:    if (!tenantId || !name) {
D:\Unite-Hub\src\app\api\synthex\visual\brand-kits\route.ts:84:        { error: 'Missing required fields: tenantId, name' },
D:\Unite-Hub\src\app\api\synthex\visual\brand-kits\route.ts:93:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\synthex\visual\capabilities\route.ts:2: * GET /api/synthex/visual/capabilities?tenantId=...&planCode=...
D:\Unite-Hub\src\app\api\synthex\visual\capabilities\route.ts:41:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\visual\capabilities\route.ts:44:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\visual\capabilities\route.ts:46:        { error: 'Missing tenantId parameter' },
D:\Unite-Hub\src\app\api\synthex\visual\capabilities\route.ts:64:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\synthex\visual\generate\route.ts:8: *   tenantId: string
D:\Unite-Hub\src\app\api\synthex\visual\generate\route.ts:49:    const { tenantId, brandKitId, jobType, prompt, socialPlatform } = body;
D:\Unite-Hub\src\app\api\synthex\visual\generate\route.ts:52:    if (!tenantId || !brandKitId || !jobType || !prompt) {
D:\Unite-Hub\src\app\api\synthex\visual\generate\route.ts:54:        { error: 'Missing required fields: tenantId, brandKitId, jobType, prompt' },
D:\Unite-Hub\src\app\api\synthex\visual\generate\route.ts:72:      .eq('id', tenantId)
D:\Unite-Hub\src\app\api\synthex\visual\generate\route.ts:82:    const quota = await canGenerateVisual(tenantId, jobType, planCode);
D:\Unite-Hub\src\app\api\synthex\visual\generate\route.ts:91:    const brandKit = await getBrandKit(tenantId, brandKitId);
D:\Unite-Hub\src\app\api\synthex\visual\generate\route.ts:101:        job = await generateWebsiteBanner(tenantId, planCode, brandKit, prompt);
D:\Unite-Hub\src\app\api\synthex\visual\generate\route.ts:131:          tenantId,
D:\Unite-Hub\src\app\api\synthex\visual\generate\route.ts:140:        job = await generateVideo(tenantId, planCode, brandKit, prompt);
D:\Unite-Hub\src\app\api\synthex\visual\jobs\route.ts:2: * GET /api/synthex/visual/jobs?tenantId=...
D:\Unite-Hub\src\app\api\synthex\visual\jobs\route.ts:37:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\synthex\visual\jobs\route.ts:40:    if (!tenantId) {
D:\Unite-Hub\src\app\api\synthex\visual\jobs\route.ts:42:        { error: 'Missing tenantId parameter' },
D:\Unite-Hub\src\app\api\synthex\visual\jobs\route.ts:51:      .eq('tenant_id', tenantId)
D:\Unite-Hub\src\app\api\testing\chaos\route.ts:52:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\testing\chaos\route.ts:55:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\testing\chaos\route.ts:57:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\testing\chaos\route.ts:117:    const { action, workspaceId, fault, mode, intensity, duration_seconds, auto_pause_threshold } = body;
D:\Unite-Hub\src\app\api\testing\chaos\route.ts:119:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\testing\chaos\route.ts:121:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\testing\chaos\route.ts:163:        const result = await chaosTestEngine.startChaosTest(workspaceId, {
D:\Unite-Hub\src\app\api\testing\load\route.ts:54:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\testing\load\route.ts:57:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\testing\load\route.ts:59:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\testing\load\route.ts:88:          workspaceId,
D:\Unite-Hub\src\app\api\testing\load\route.ts:120:    const { action, workspaceId, scenario, config } = body;
D:\Unite-Hub\src\app\api\testing\load\route.ts:122:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\testing\load\route.ts:124:        { error: 'workspaceId is required' },
D:\Unite-Hub\src\app\api\testing\load\route.ts:159:          workspaceId,
D:\Unite-Hub\src\app\api\testing\load\route.ts:183:          workspaceId,
D:\Unite-Hub\src\app\api\training\insights\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\training\insights\route.ts:19:    if (!tenantId) {
D:\Unite-Hub\src\app\api\training\insights\route.ts:20:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\training\insights\route.ts:23:    const insights = await getInsights(tenantId);
D:\Unite-Hub\src\app\api\training\recommendations\route.ts:18:    const tenantId = req.nextUrl.searchParams.get('tenantId');
D:\Unite-Hub\src\app\api\training\recommendations\route.ts:20:    if (!tenantId) {
D:\Unite-Hub\src\app\api\training\recommendations\route.ts:21:return NextResponse.json({ error: 'tenantId required' }, { status: 400 });
D:\Unite-Hub\src\app\api\training\recommendations\route.ts:24:    const recommendations = await getRecommendations(tenantId, audienceType);
D:\Unite-Hub\src\app\api\trends\temporal\route.ts:24:    const tenantId = req.nextUrl.searchParams.get('tenantId') || undefined;
D:\Unite-Hub\src\app\api\trends\temporal\route.ts:27:    const trends = await getTrends(tenantId, scope);
D:\Unite-Hub\src\app\api\trial\activity\route.ts:14:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\trial\activity\route.ts:18:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\trial\activity\route.ts:19:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\trial\activity\route.ts:36:    if (!profile || profile.workspace_id !== workspaceId || profile.role !== 'founder') {
D:\Unite-Hub\src\app\api\trial\activity\route.ts:44:        p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\trial\activity\route.ts:51:      logger.error('Failed to retrieve activity', { error: activityError, workspaceId });
D:\Unite-Hub\src\app\api\trial\activity\route.ts:59:        p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\trial\activity\route.ts:65:      logger.error('Failed to retrieve summary', { error: summaryError, workspaceId });
D:\Unite-Hub\src\app\api\trial\activity\route.ts:71:      p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\trial\activity\route.ts:76:      logger.error('Failed to retrieve limit hits', { error: limitsError, workspaceId });
D:\Unite-Hub\src\app\api\trial\activity\route.ts:84:        p_workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\trial\activity\route.ts:89:      logger.error('Failed to retrieve upgrade history', { error: upgradeError, workspaceId });
D:\Unite-Hub\src\app\api\trial\activity\route.ts:93:    logger.info('Trial activity retrieved', { workspaceId, activityCount: activityHistory?.length || 0 });
D:\Unite-Hub\src\app\api\trial\profile\route.ts:15:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\trial\profile\route.ts:17:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\trial\profile\route.ts:18:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\trial\profile\route.ts:35:    if (!profile || profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\trial\profile\route.ts:40:    const trialState = await getTrialState(workspaceId);
D:\Unite-Hub\src\app\api\trial\profile\route.ts:41:    const inTrial = await isTrialActive(workspaceId);
D:\Unite-Hub\src\app\api\trial\profile\route.ts:43:    logger.info('Trial profile retrieved', { workspaceId, inTrial });
D:\Unite-Hub\src\app\api\trial\status\route.ts:15:    const workspaceId = req.nextUrl.searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\trial\status\route.ts:17:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\trial\status\route.ts:18:      return NextResponse.json({ error: 'Missing workspaceId' }, { status: 400 });
D:\Unite-Hub\src\app\api\trial\status\route.ts:35:    if (!profile || profile.workspace_id !== workspaceId) {
D:\Unite-Hub\src\app\api\trial\status\route.ts:40:    const inTrial = await isTrialActive(workspaceId);
D:\Unite-Hub\src\app\api\trial\status\route.ts:41:    const capacity = await getRemainingCapacity(workspaceId);
D:\Unite-Hub\src\app\api\trial\status\route.ts:43:    logger.debug('Trial status checked', { workspaceId, inTrial });
D:\Unite-Hub\src\app\api\unite\ai\logs\route.ts:17:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\ai\logs\route.ts:29:    const logs = await getUsageLogs(tenantId, filters);
D:\Unite-Hub\src\app\api\unite\ai\logs\route.ts:43:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\ai\logs\route.ts:46:    const log = await logAIUsage(tenantId, { ...body, user_id: user.id });
D:\Unite-Hub\src\app\api\unite\ai\policies\route.ts:17:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\ai\policies\route.ts:23:    const policies = await listPolicies(tenantId, { category, is_active, limit });
D:\Unite-Hub\src\app\api\unite\ai\policies\route.ts:37:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\ai\policies\route.ts:52:    const policy = await createPolicy(tenantId, { ...body, created_by: user.id });
D:\Unite-Hub\src\app\api\unite\ai\review\route.ts:17:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\ai\review\route.ts:24:    const review = await aiReviewCompliance(tenantId, scope);
D:\Unite-Hub\src\app\api\unite\ai\violations\route.ts:17:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\ai\violations\route.ts:26:    const violations = await listViolations(tenantId, filters);
D:\Unite-Hub\src\app\api\unite\ai\violations\route.ts:40:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\ai\violations\route.ts:55:    const violation = await createViolation(tenantId, body);
D:\Unite-Hub\src\app\api\unite\billing\invoices\route.ts:29:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\billing\invoices\route.ts:30:    if (!tenantId) return NextResponse.json({ error: 'No tenant' }, { status: 403 });
D:\Unite-Hub\src\app\api\unite\billing\invoices\route.ts:49:    const invoices = await listInvoices(tenantId, filters);
D:\Unite-Hub\src\app\api\unite\billing\invoices\route.ts:71:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\billing\invoices\route.ts:72:    if (!tenantId) return NextResponse.json({ error: 'No tenant' }, { status: 403 });
D:\Unite-Hub\src\app\api\unite\billing\invoices\route.ts:108:    const invoice = await createInvoice(tenantId, body);
D:\Unite-Hub\src\app\api\unite\billing\sync\route.ts:22:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\billing\sync\route.ts:23:    if (!tenantId) return NextResponse.json({ error: 'No tenant' }, { status: 403 });
D:\Unite-Hub\src\app\api\unite\billing\sync\route.ts:37:      const invoice = await syncFromStripe(tenantId, external_invoice_id);
D:\Unite-Hub\src\app\api\unite\events\ingest\route.ts:22:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\events\ingest\route.ts:34:    const events = await getEvents(tenantId, filters);
D:\Unite-Hub\src\app\api\unite\events\ingest\route.ts:56:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\events\ingest\route.ts:67:      const count = await ingestBatch(tenantId, events);
D:\Unite-Hub\src\app\api\unite\events\ingest\route.ts:72:    const event = await ingestEvent(tenantId, body);
D:\Unite-Hub\src\app\api\unite\events\timeline\route.ts:22:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\events\timeline\route.ts:26:    const timeline = await getEventTimeline(tenantId, hours);
D:\Unite-Hub\src\app\api\unite\experiments\route.ts:29:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\experiments\route.ts:40:      tenant_id: tenantId || undefined,
D:\Unite-Hub\src\app\api\unite\experiments\route.ts:67:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\experiments\route.ts:96:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\experiments\ai\suggest\route.ts:43:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\experiments\ai\suggest\route.ts:44:    if (!tenantId) {
D:\Unite-Hub\src\app\api\unite\experiments\ai\suggest\route.ts:62:      const suggestion = await aiSuggestExperiment(tenantId, {
D:\Unite-Hub\src\app\api\unite\experiments\ai\suggest\route.ts:79:      const experiment = await getExperiment(tenantId, experiment_id);
D:\Unite-Hub\src\app\api\unite\experiments\ai\suggest\route.ts:84:      const summary = await getExperimentSummary(tenantId, experiment_id);
D:\Unite-Hub\src\app\api\unite\experiments\flags\route.ts:30:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\experiments\flags\route.ts:33:      tenant_id: tenantId || undefined,
D:\Unite-Hub\src\app\api\unite\experiments\flags\route.ts:60:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\experiments\flags\route.ts:117:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\experiments-v2\route.ts:24:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\experiments-v2\route.ts:48:    const experiments = await listExperiments(tenantId, { status, limit });
D:\Unite-Hub\src\app\api\unite\experiments-v2\route.ts:62:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\experiments-v2\route.ts:83:      const assignment = await assignSubject(tenantId, experiment_id, subject_type, subject_id);
D:\Unite-Hub\src\app\api\unite\experiments-v2\route.ts:88:    const experiment = await createExperiment(tenantId, body);
D:\Unite-Hub\src\app\api\unite\experiments-v2\events\route.ts:33:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\experiments-v2\events\route.ts:42:    const event = await trackEvent(tenantId, experiment_id, variant_id, event_type, value, metadata);
D:\Unite-Hub\src\app\api\unite\graph\entities\route.ts:32:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\graph\entities\route.ts:43:      if (entity.tenant_id && entity.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\graph\entities\route.ts:51:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\graph\entities\route.ts:82:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\graph\entities\route.ts:100:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\graph\entities\route.ts:120:      if (existing.tenant_id && existing.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\graph\entities\route.ts:147:      if (existing.tenant_id && existing.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\graph\fuse\route.ts:34:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\graph\fuse\route.ts:41:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\graph\fuse\route.ts:59:      if (source.tenant_id && source.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\graph\fuse\route.ts:67:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\graph\fuse\route.ts:98:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\graph\fuse\route.ts:113:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\graph\fuse\route.ts:133:      if (existing.tenant_id && existing.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\graph\fuse\route.ts:160:      if (existing.tenant_id && existing.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\graph\fuse\route.ts:184:      const result = await fuseGraphData(source_id, data, tenantId);
D:\Unite-Hub\src\app\api\unite\graph\relationships\route.ts:31:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\graph\relationships\route.ts:41:      if (entity.tenant_id && entity.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\graph\relationships\route.ts:61:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\graph\relationships\route.ts:93:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\graph\relationships\route.ts:119:        (sourceEntity.tenant_id && sourceEntity.tenant_id !== tenantId) ||
D:\Unite-Hub\src\app\api\unite\graph\relationships\route.ts:120:        (targetEntity.tenant_id && targetEntity.tenant_id !== tenantId)
D:\Unite-Hub\src\app\api\unite\graph\relationships\route.ts:130:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\graph\relationships\route.ts:147:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\graph\similar\route.ts:30:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\graph\similar\route.ts:39:      const analysis = await aiAnalyzeGraph(tenantId, {
D:\Unite-Hub\src\app\api\unite\graph\similar\route.ts:61:    if (entity.tenant_id && entity.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\graph\similar\route.ts:100:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\graph\similar\route.ts:117:    if (entity.tenant_id && entity.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\graph\similar\route.ts:121:    const embedding = await createEmbedding(entity_id, tenantId, text);
D:\Unite-Hub\src\app\api\unite\incidents\route.ts:17:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\incidents\route.ts:23:    const incidents = await listIncidents(tenantId, { status, severity, limit });
D:\Unite-Hub\src\app\api\unite\incidents\route.ts:37:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\incidents\route.ts:47:    const incident = await createIncident(tenantId, body);
D:\Unite-Hub\src\app\api\unite\knowledge\relations\route.ts:59:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\knowledge\relations\route.ts:60:    if (!tenantId) {
D:\Unite-Hub\src\app\api\unite\knowledge\relations\route.ts:69:      const edge = await getEdge(tenantId, id);
D:\Unite-Hub\src\app\api\unite\knowledge\relations\route.ts:89:      const neighbors = await getNeighbors(tenantId, entityType, entityId, depth);
D:\Unite-Hub\src\app\api\unite\knowledge\relations\route.ts:95:      const stats = await getGraphStats(tenantId);
D:\Unite-Hub\src\app\api\unite\knowledge\relations\route.ts:107:    const edges = await listEdges(tenantId, {
D:\Unite-Hub\src\app\api\unite\knowledge\relations\route.ts:149:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\knowledge\relations\route.ts:150:    if (!tenantId) {
D:\Unite-Hub\src\app\api\unite\knowledge\relations\route.ts:164:      await deleteEdge(tenantId, edgeId);
D:\Unite-Hub\src\app\api\unite\knowledge\relations\route.ts:180:        tenantId,
D:\Unite-Hub\src\app\api\unite\knowledge\relations\route.ts:213:    const edge = await createEdge(tenantId, input);
D:\Unite-Hub\src\app\api\unite\kpi\ai\insights\route.ts:18:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\kpi\ai\insights\route.ts:28:    const snapshots = await listSnapshots(tenantId, kpi_id, 30);
D:\Unite-Hub\src\app\api\unite\kpi\definitions\route.ts:17:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\kpi\definitions\route.ts:23:    const kpis = await listKPIs(tenantId, { category, is_active, limit });
D:\Unite-Hub\src\app\api\unite\kpi\definitions\route.ts:37:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\kpi\definitions\route.ts:40:    const kpi = await createKPI(tenantId, body);
D:\Unite-Hub\src\app\api\unite\kpi\snapshots\route.ts:17:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\kpi\snapshots\route.ts:23:    const snapshots = await listSnapshots(tenantId, kpiId, limit);
D:\Unite-Hub\src\app\api\unite\kpi\snapshots\route.ts:37:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\kpi\snapshots\route.ts:40:    const snapshot = await createSnapshot(tenantId, body);
D:\Unite-Hub\src\app\api\unite\models\route.ts:33:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\models\route.ts:43:      const model = await getModel(name, version, tenantId);
D:\Unite-Hub\src\app\api\unite\models\route.ts:53:      const versions = await getModelVersions(name, tenantId);
D:\Unite-Hub\src\app\api\unite\models\route.ts:63:      const model = await getLatestVersion(name, tenantId);
D:\Unite-Hub\src\app\api\unite\models\route.ts:69:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\models\route.ts:98:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\models\route.ts:110:      const model = await createModel(name, version, schema_def, constraints, tenantId);
D:\Unite-Hub\src\app\api\unite\models\route.ts:122:      const model = await updateModel(model_id, updates, tenantId);
D:\Unite-Hub\src\app\api\unite\models\route.ts:131:      const success = await deleteModel(model_id, tenantId);
D:\Unite-Hub\src\app\api\unite\models\route.ts:140:      const result = await rollbackToVersion(name, target_version, tenantId);
D:\Unite-Hub\src\app\api\unite\models\audit\route.ts:24:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\models\audit\route.ts:27:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\notifications\route.ts:17:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\notifications\route.ts:22:    const notifications = await listNotifications(tenantId, user.id, { unread, limit });
D:\Unite-Hub\src\app\api\unite\notifications\route.ts:36:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\notifications\route.ts:46:    const notification = await createNotification({ tenant_id: tenantId, user_id: user.id, ...body });
D:\Unite-Hub\src\app\api\unite\notifications\prefs\route.ts:17:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\notifications\prefs\route.ts:19:    const prefs = await getPreferences(tenantId, user.id);
D:\Unite-Hub\src\app\api\unite\notifications\prefs\route.ts:33:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\notifications\prefs\route.ts:36:    const prefs = await updatePreferences(tenantId, user.id, body);
D:\Unite-Hub\src\app\api\unite\orchestrator\run\route.ts:31:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\orchestrator\run\route.ts:38:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\orchestrator\run\route.ts:51:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\orchestrator\run\route.ts:82:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\orchestrator\run\route.ts:117:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\orchestrator\run\route.ts:149:      const runs = await runOrchestrator(signal_id, tenantId);
D:\Unite-Hub\src\app\api\unite\orchestrator\strategies\route.ts:32:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\orchestrator\strategies\route.ts:43:      if (strategy.tenant_id && strategy.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\orchestrator\strategies\route.ts:51:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\orchestrator\strategies\route.ts:81:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\orchestrator\strategies\route.ts:113:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\orchestrator\strategies\route.ts:133:      if (existing.tenant_id && existing.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\orchestrator\strategies\route.ts:164:      if (existing.tenant_id && existing.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\quota\check\route.ts:17:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\quota\check\route.ts:18:    if (!tenantId) return NextResponse.json({ error: 'No tenant' }, { status: 403 });
D:\Unite-Hub\src\app\api\unite\quota\check\route.ts:29:      const snapshots = await listQuotaSnapshots(tenantId, filters);
D:\Unite-Hub\src\app\api\unite\quota\check\route.ts:39:    const quota = await checkQuota(tenantId, featureKey, increment);
D:\Unite-Hub\src\app\api\unite\quota\check\route.ts:53:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\quota\check\route.ts:54:    if (!tenantId) return NextResponse.json({ error: 'No tenant' }, { status: 403 });
D:\Unite-Hub\src\app\api\unite\quota\check\route.ts:57:    const count = await computeMonthlyQuota(tenantId);
D:\Unite-Hub\src\app\api\unite\recovery\policies\route.ts:31:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\recovery\policies\route.ts:42:      const policy = await getRecoveryPolicy(key, tenantId);
D:\Unite-Hub\src\app\api\unite\recovery\policies\route.ts:48:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\recovery\policies\route.ts:83:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\recovery\policies\route.ts:94:      const policy = await createRecoveryPolicy(key, rules, tenantId);
D:\Unite-Hub\src\app\api\unite\recovery\policies\route.ts:108:      const policy = await updateRecoveryPolicy(key, updates, tenantId);
D:\Unite-Hub\src\app\api\unite\recovery\policies\route.ts:118:      const success = await deleteRecoveryPolicy(key, tenantId);
D:\Unite-Hub\src\app\api\unite\recovery\run\route.ts:32:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\recovery\run\route.ts:39:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\recovery\run\route.ts:51:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\recovery\run\route.ts:84:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\recovery\run\route.ts:102:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\recovery\run\route.ts:114:      const run = await approveRecoveryRun(run_id, tenantId);
D:\Unite-Hub\src\app\api\unite\recovery\run\route.ts:124:      const success = await cancelRecoveryRun(run_id, tenantId);
D:\Unite-Hub\src\app\api\unite\runbooks\route.ts:17:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\runbooks\route.ts:23:    const runbooks = await listRunbooks(tenantId, { category, status, limit });
D:\Unite-Hub\src\app\api\unite\runbooks\route.ts:37:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\runbooks\route.ts:47:    const runbook = await createRunbook(tenantId, body);
D:\Unite-Hub\src\app\api\unite\runbooks\execute\route.ts:17:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\runbooks\execute\route.ts:20:    const execution = await executeRunbook(tenantId, body.runbook_id, body.trigger_type || 'manual');
D:\Unite-Hub\src\app\api\unite\schema\drift\route.ts:24:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\schema\drift\route.ts:27:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\schema\drift\route.ts:57:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\schema\drift\route.ts:68:    const report = await detectAndReportDrift(base_snapshot_id, compare_snapshot_id, tenantId);
D:\Unite-Hub\src\app\api\unite\schema\snapshot\route.ts:28:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\schema\snapshot\route.ts:33:      const snapshot = await getLatestSnapshot(tenantId);
D:\Unite-Hub\src\app\api\unite\schema\snapshot\route.ts:39:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\schema\snapshot\route.ts:69:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\schema\snapshot\route.ts:71:    const snapshot = await captureSchemaSnapshot(tenantId);
D:\Unite-Hub\src\app\api\unite\search\route.ts:53:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\search\route.ts:54:    if (!tenantId) {
D:\Unite-Hub\src\app\api\unite\search\route.ts:66:      const analytics = await getSearchAnalytics(tenantId, {
D:\Unite-Hub\src\app\api\unite\search\route.ts:96:    const results = await searchEntities(tenantId, query, {
D:\Unite-Hub\src\app\api\unite\search\route.ts:134:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\search\route.ts:135:    if (!tenantId) {
D:\Unite-Hub\src\app\api\unite\search\route.ts:154:      await removeFromIndex(tenantId, entityType, entityId);
D:\Unite-Hub\src\app\api\unite\search\route.ts:176:    const indexed = await indexEntity(tenantId, input);
D:\Unite-Hub\src\app\api\unite\search\reindex\route.ts:37:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\search\reindex\route.ts:38:    if (!tenantId) {
D:\Unite-Hub\src\app\api\unite\search\reindex\route.ts:49:    const count = await reindexAllEntities(tenantId, entity_type);
D:\Unite-Hub\src\app\api\unite\self-healing\guardrails\route.ts:28:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\self-healing\guardrails\route.ts:31:      tenant_id: tenantId || undefined,
D:\Unite-Hub\src\app\api\unite\self-healing\guardrails\route.ts:60:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\self-healing\guardrails\route.ts:75:      const result = await evaluateGuardrails(tenantId, boundary, context);
D:\Unite-Hub\src\app\api\unite\self-healing\guardrails\route.ts:103:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\self-healing\run\route.ts:27:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\self-healing\run\route.ts:30:      tenant_id: tenantId || undefined,
D:\Unite-Hub\src\app\api\unite\self-healing\run\route.ts:61:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\self-healing\run\route.ts:86:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\self-healing\signatures\route.ts:27:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\self-healing\signatures\route.ts:30:      tenant_id: tenantId || undefined,
D:\Unite-Hub\src\app\api\unite\self-healing\signatures\route.ts:61:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\self-healing\signatures\route.ts:73:      const result = await aiDetectErrorPatterns(tenantId, error_samples);
D:\Unite-Hub\src\app\api\unite\self-healing\signatures\route.ts:90:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\sim\run\route.ts:24:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\sim\run\route.ts:30:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\sim\run\route.ts:39:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\sim\run\route.ts:68:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\sim\run\route.ts:76:    const run = await runSimulation(twin_id, input, tenantId);
D:\Unite-Hub\src\app\api\unite\sim\twins\route.ts:30:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\sim\twins\route.ts:39:      const twin = await getTwin(twinId, tenantId);
D:\Unite-Hub\src\app\api\unite\sim\twins\route.ts:45:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\sim\twins\route.ts:74:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\sim\twins\route.ts:83:      const twin = await createTwin(name, state, metadata, tenantId);
D:\Unite-Hub\src\app\api\unite\sim\twins\route.ts:95:      const twin = await updateTwin(twin_id, updates, tenantId);
D:\Unite-Hub\src\app\api\unite\sim\twins\route.ts:104:      const success = await deleteTwin(twin_id, tenantId);
D:\Unite-Hub\src\app\api\unite\stress\profiles\route.ts:32:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\stress\profiles\route.ts:43:      if (profile.tenant_id && profile.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\stress\profiles\route.ts:51:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\stress\profiles\route.ts:82:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\stress\profiles\route.ts:118:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\stress\profiles\route.ts:139:      if (existing.tenant_id && existing.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\stress\profiles\route.ts:171:      if (existing.tenant_id && existing.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\stress\run\route.ts:30:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\stress\run\route.ts:41:      if (run.tenant_id && run.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\stress\run\route.ts:49:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\stress\run\route.ts:80:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\stress\run\route.ts:94:      const run = await runStressTest(profile_id, tenantId);
D:\Unite-Hub\src\app\api\unite\stress\run\route.ts:112:      if (existing.tenant_id && existing.tenant_id !== tenantId) {
D:\Unite-Hub\src\app\api\unite\telemetry\events\route.ts:31:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\telemetry\events\route.ts:38:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\telemetry\events\route.ts:50:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\telemetry\events\route.ts:83:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\telemetry\events\route.ts:97:      const event = await recordEventAsync(component, severity, payload, tenantId);
D:\Unite-Hub\src\app\api\unite\telemetry\events\route.ts:109:        tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\telemetry\snapshot\route.ts:30:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\telemetry\snapshot\route.ts:36:      const snapshot = await getLatestSnapshot(tenantId);
D:\Unite-Hub\src\app\api\unite\telemetry\snapshot\route.ts:48:      tenant_id: tenantId,
D:\Unite-Hub\src\app\api\unite\telemetry\snapshot\route.ts:79:    const tenantId = userOrgs?.organization_id;
D:\Unite-Hub\src\app\api\unite\telemetry\snapshot\route.ts:88:      const snapshot = await captureSnapshotAsync(snapshotState, metadata, tenantId);
D:\Unite-Hub\src\app\api\unite\templates\route.ts:63:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\templates\route.ts:70:      const template = await getTemplate(tenantId, id);
D:\Unite-Hub\src\app\api\unite\templates\route.ts:91:    const templates = await listTemplates(tenantId, {
D:\Unite-Hub\src\app\api\unite\templates\route.ts:132:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\templates\route.ts:155:      const template = await updateTemplate(tenantId, templateId, updates);
D:\Unite-Hub\src\app\api\unite\templates\route.ts:166:      await deleteTemplate(tenantId, templateId);
D:\Unite-Hub\src\app\api\unite\templates\route.ts:220:    const template = await createTemplate(tenantId, input);
D:\Unite-Hub\src\app\api\unite\templates\bindings\route.ts:49:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\templates\bindings\route.ts:55:    const bindings = await listBindings(tenantId, {
D:\Unite-Hub\src\app\api\unite\templates\bindings\route.ts:94:    const tenantId = orgData?.org_id || null;
D:\Unite-Hub\src\app\api\unite\templates\bindings\route.ts:125:    const binding = await createBinding(tenantId, input);
D:\Unite-Hub\src\app\api\unite\usage\ai\insights\route.ts:17:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\usage\ai\insights\route.ts:18:    if (!tenantId) return NextResponse.json({ error: 'No tenant' }, { status: 403 });
D:\Unite-Hub\src\app\api\unite\usage\ai\insights\route.ts:23:    const insights = await aiGenerateUsageInsights(tenantId, days);
D:\Unite-Hub\src\app\api\unite\usage\daily\route.ts:17:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\usage\daily\route.ts:18:    if (!tenantId) return NextResponse.json({ error: 'No tenant' }, { status: 403 });
D:\Unite-Hub\src\app\api\unite\usage\daily\route.ts:27:    const summary = await getDailySummary(tenantId, filters);
D:\Unite-Hub\src\app\api\unite\usage\daily\route.ts:41:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\usage\daily\route.ts:42:    if (!tenantId) return NextResponse.json({ error: 'No tenant' }, { status: 403 });
D:\Unite-Hub\src\app\api\unite\usage\daily\route.ts:49:    const count = await computeDailyRollup(tenantId, date);
D:\Unite-Hub\src\app\api\unite\usage\events\route.ts:17:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\usage\events\route.ts:18:    if (!tenantId) return NextResponse.json({ error: 'No tenant' }, { status: 403 });
D:\Unite-Hub\src\app\api\unite\usage\events\route.ts:28:    const events = await getUsageEvents(tenantId, filters);
D:\Unite-Hub\src\app\api\unite\usage\events\route.ts:42:    const tenantId = orgData?.org_id;
D:\Unite-Hub\src\app\api\unite\usage\events\route.ts:43:    if (!tenantId) return NextResponse.json({ error: 'No tenant' }, { status: 403 });
D:\Unite-Hub\src\app\api\unite\usage\events\route.ts:54:      const count = await ingestBatch(tenantId, events);
D:\Unite-Hub\src\app\api\unite\usage\events\route.ts:59:    const event = await ingestUsageEvent(tenantId, body);
D:\Unite-Hub\src\app\api\v1\README.md:318:GET /api/contacts?workspaceId=uuid
D:\Unite-Hub\src\app\api\v1\README.md:327:1. Workspace automatically detected from auth token (no `workspaceId` param)
D:\Unite-Hub\src\app\api\v1\README.md:334:- [ ] Remove manual `workspaceId` parameters
D:\Unite-Hub\src\app\api\v1\agents\orchestrator\route.ts:243:        const workspaceId = searchParams.get("workspace_id");
D:\Unite-Hub\src\app\api\v1\agents\orchestrator\route.ts:252:        if (!workspaceId) {
D:\Unite-Hub\src\app\api\v1\agents\orchestrator\route.ts:267:          .eq("organization.org_id", workspaceId)
D:\Unite-Hub\src\app\api\v1\agents\orchestrator\route.ts:284:          .eq("workspace_id", workspaceId)
D:\Unite-Hub\src\app\api\v1\campaigns\route.ts:51:    const { workspaceId } = context;
D:\Unite-Hub\src\app\api\v1\campaigns\route.ts:65:    const db = await createWorkspaceScopedClient(workspaceId);
D:\Unite-Hub\src\app\api\v1\campaigns\route.ts:111:    const { workspaceId, workspace } = context;
D:\Unite-Hub\src\app\api\v1\campaigns\route.ts:118:    const db = await createWorkspaceScopedClient(workspaceId);
D:\Unite-Hub\src\app\api\v1\campaigns\route.ts:150:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\v1\emails\route.ts:51:    const { workspaceId } = context;
D:\Unite-Hub\src\app\api\v1\emails\route.ts:67:    const db = await createWorkspaceScopedClient(workspaceId);
D:\Unite-Hub\src\app\api\v1\emails\route.ts:127:      const { workspaceId, user } = context;
D:\Unite-Hub\src\app\api\v1\emails\route.ts:134:      const db = await createWorkspaceScopedClient(workspaceId);
D:\Unite-Hub\src\app\api\v1\emails\route.ts:185:          workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:50:          fallbackWorkspaceId: defaultIntegration.workspace_id
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:160:    const workspaceId = await getWorkspaceByWhatsAppAccount(businessAccountId, phoneNumberId);
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:162:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:179:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:188:        await handleIncomingMessage(message, phoneNumberId, workspaceId);
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:195:        await handleMessageStatus(status, workspaceId);
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:209:  workspaceId: string
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:267:    let contact = await db.contacts.getByEmail(phoneNumber, workspaceId);
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:272:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:285:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:300:    let conversation = await db.whatsappConversations.getByPhone(phoneNumber, workspaceId);
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:303:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:312:      await db.whatsappConversations.updateLastMessage(phoneNumber, workspaceId, 'inbound');
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:320:    processIncomingWhatsAppMessage(dbMessage.id, workspaceId).catch(error => {
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:334:async function handleMessageStatus(status: any, workspaceId: string) {
D:\Unite-Hub\src\app\api\webhooks\whatsapp\route.ts:346:      .eq('workspace_id', workspaceId);
D:\Unite-Hub\src\app\api\whatsapp\conversations\route.ts:23:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\whatsapp\conversations\route.ts:26:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\whatsapp\conversations\route.ts:31:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\whatsapp\conversations\route.ts:34:    const conversations = await db.whatsappConversations.listByWorkspace(workspaceId, status);
D:\Unite-Hub\src\app\api\whatsapp\conversations\route.ts:41:          workspaceId,
D:\Unite-Hub\src\app\api\whatsapp\send\route.ts:23:      workspaceId,
D:\Unite-Hub\src\app\api\whatsapp\send\route.ts:37:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\whatsapp\send\route.ts:46:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\whatsapp\send\route.ts:127:      contact = await db.contacts.getByEmail(phoneNumber, workspaceId);
D:\Unite-Hub\src\app\api\whatsapp\send\route.ts:130:          workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\whatsapp\send\route.ts:144:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\whatsapp\send\route.ts:158:    let conversation = await db.whatsappConversations.getByPhone(formattedPhone, workspaceId);
D:\Unite-Hub\src\app\api\whatsapp\send\route.ts:161:        workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\whatsapp\send\route.ts:170:      await db.whatsappConversations.updateLastMessage(formattedPhone, workspaceId, 'outbound');
D:\Unite-Hub\src\app\api\whatsapp\send\route.ts:175:      org_id: contact.org_id || workspaceId,
D:\Unite-Hub\src\app\api\whatsapp\templates\route.ts:23:    const workspaceId = searchParams.get('workspaceId');
D:\Unite-Hub\src\app\api\whatsapp\templates\route.ts:26:    if (!workspaceId) {
D:\Unite-Hub\src\app\api\whatsapp\templates\route.ts:31:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\whatsapp\templates\route.ts:33:    const templates = await db.whatsappTemplates.listByWorkspace(workspaceId, status);
D:\Unite-Hub\src\app\api\whatsapp\templates\route.ts:63:      workspaceId,
D:\Unite-Hub\src\app\api\whatsapp\templates\route.ts:75:    if (!workspaceId || !templateName || !category || !bodyContent) {
D:\Unite-Hub\src\app\api\whatsapp\templates\route.ts:77:        { error: 'Missing required fields: workspaceId, templateName, category, bodyContent' },
D:\Unite-Hub\src\app\api\whatsapp\templates\route.ts:83:    await validateUserAndWorkspace(req, workspaceId);
D:\Unite-Hub\src\app\api\whatsapp\templates\route.ts:87:      workspace_id: workspaceId,
D:\Unite-Hub\src\app\api\_middleware\validation.ts:188: *     const workspaceId = await parseWorkspaceId(req.request);
D:\Unite-Hub\src\app\api\_middleware\validation.ts:189: *     // workspaceId is guaranteed to be a valid UUID
D:\Unite-Hub\src\app\api\_middleware\validation.ts:190: *     return successResponse({ workspaceId });
D:\Unite-Hub\src\app\api\_middleware\validation.ts:196:export async function parseWorkspaceId(request: NextRequest): Promise<string> {
D:\Unite-Hub\src\app\api\_middleware\validation.ts:204:  const queryWorkspaceId = searchParams.get('workspace_id');
D:\Unite-Hub\src\app\api\_middleware\validation.ts:206:  if (queryWorkspaceId) {
D:\Unite-Hub\src\app\api\_middleware\validation.ts:207:    const result = uuidSchema.safeParse(queryWorkspaceId);
D:\Unite-Hub\src\app\api\_middleware\validation.ts:216:        value: queryWorkspaceId,
D:\Unite-Hub\src\app\api\_middleware\validation.ts:283:  workspaceId: z.string().uuid(),
D:\Unite-Hub\src\app\api\_middleware\with-api-handler.ts:51:  workspaceId?: string;
D:\Unite-Hub\src\app\api\_middleware\with-api-handler.ts:126: *     const { db, workspaceId } = context;
D:\Unite-Hub\src\app\api\_middleware\with-api-handler.ts:204:            context.workspaceId = wsContext.workspace.workspaceId;
D:\Unite-Hub\src\app\api\_middleware\with-api-handler.ts:237:): context is RequestContext & { workspaceId: string; db: SupabaseClient } {
D:\Unite-Hub\src\app\api\_middleware\with-api-handler.ts:238:  return context.workspaceId !== undefined && context.db !== undefined;

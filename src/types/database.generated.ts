export type Json =
  | string
  | number
  | boolean
  | null
  | { [key: string]: Json | undefined }
  | Json[]

export type Database = {
  // Allows to automatically instantiate createClient with right options
  // instead of createClient<Database, { PostgrestVersion: 'XX' }>(URL, KEY)
  __InternalSupabase: {
    PostgrestVersion: "13.0.5"
  }
  public: {
    Tables: {
      acehig_blocked_cascades: {
        Row: {
          blocked_engine: string
          cascade_path: Json | null
          created_at: string | null
          id: string
          initiating_engine: string
          reason: string
          tenant_id: string
        }
        Insert: {
          blocked_engine: string
          cascade_path?: Json | null
          created_at?: string | null
          id?: string
          initiating_engine: string
          reason: string
          tenant_id: string
        }
        Update: {
          blocked_engine?: string
          cascade_path?: Json | null
          created_at?: string | null
          id?: string
          initiating_engine?: string
          reason?: string
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "acehig_blocked_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      acehig_dependency_map: {
        Row: {
          conflict_rules: Json | null
          created_at: string | null
          dependency_type: string
          id: string
          source_engine: string
          target_engine: string
        }
        Insert: {
          conflict_rules?: Json | null
          created_at?: string | null
          dependency_type: string
          id?: string
          source_engine: string
          target_engine: string
        }
        Update: {
          conflict_rules?: Json | null
          created_at?: string | null
          dependency_type?: string
          id?: string
          source_engine?: string
          target_engine?: string
        }
        Relationships: []
      }
      activation_events: {
        Row: {
          actor_id: string | null
          actor_type: string | null
          created_at: string | null
          description: string | null
          event_type: string
          id: string
          metadata: Json | null
          milestone_id: string | null
          program_id: string
          title: string
        }
        Insert: {
          actor_id?: string | null
          actor_type?: string | null
          created_at?: string | null
          description?: string | null
          event_type: string
          id?: string
          metadata?: Json | null
          milestone_id?: string | null
          program_id: string
          title: string
        }
        Update: {
          actor_id?: string | null
          actor_type?: string | null
          created_at?: string | null
          description?: string | null
          event_type?: string
          id?: string
          metadata?: Json | null
          milestone_id?: string | null
          program_id?: string
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "activation_events_milestone_id_fkey"
            columns: ["milestone_id"]
            isOneToOne: false
            referencedRelation: "activation_milestones"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "activation_events_program_id_fkey"
            columns: ["program_id"]
            isOneToOne: false
            referencedRelation: "activation_programs"
            referencedColumns: ["id"]
          },
        ]
      }
      activation_milestones: {
        Row: {
          category: string
          completed_at: string | null
          completed_by: string | null
          created_at: string | null
          day_number: number
          deliverables: Json | null
          description: string | null
          evidence: Json | null
          id: string
          linked_audit_id: string | null
          linked_job_id: string | null
          notes: string | null
          phase: number
          program_id: string
          status: string
          title: string
          updated_at: string | null
        }
        Insert: {
          category: string
          completed_at?: string | null
          completed_by?: string | null
          created_at?: string | null
          day_number: number
          deliverables?: Json | null
          description?: string | null
          evidence?: Json | null
          id?: string
          linked_audit_id?: string | null
          linked_job_id?: string | null
          notes?: string | null
          phase: number
          program_id: string
          status?: string
          title: string
          updated_at?: string | null
        }
        Update: {
          category?: string
          completed_at?: string | null
          completed_by?: string | null
          created_at?: string | null
          day_number?: number
          deliverables?: Json | null
          description?: string | null
          evidence?: Json | null
          id?: string
          linked_audit_id?: string | null
          linked_job_id?: string | null
          notes?: string | null
          phase?: number
          program_id?: string
          status?: string
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "activation_milestones_program_id_fkey"
            columns: ["program_id"]
            isOneToOne: false
            referencedRelation: "activation_programs"
            referencedColumns: ["id"]
          },
        ]
      }
      activation_programs: {
        Row: {
          client_id: string
          created_at: string | null
          current_phase: number
          custom_focus_areas: Json | null
          end_date: string | null
          id: string
          industry: string | null
          notes: string | null
          organization_id: string
          overall_progress: number
          phase_1_progress: number
          phase_2_progress: number
          phase_3_progress: number
          program_type: string
          start_date: string
          status: string
          updated_at: string | null
        }
        Insert: {
          client_id: string
          created_at?: string | null
          current_phase?: number
          custom_focus_areas?: Json | null
          end_date?: string | null
          id?: string
          industry?: string | null
          notes?: string | null
          organization_id: string
          overall_progress?: number
          phase_1_progress?: number
          phase_2_progress?: number
          phase_3_progress?: number
          program_type?: string
          start_date?: string
          status?: string
          updated_at?: string | null
        }
        Update: {
          client_id?: string
          created_at?: string | null
          current_phase?: number
          custom_focus_areas?: Json | null
          end_date?: string | null
          id?: string
          industry?: string | null
          notes?: string | null
          organization_id?: string
          overall_progress?: number
          phase_1_progress?: number
          phase_2_progress?: number
          phase_3_progress?: number
          program_type?: string
          start_date?: string
          status?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "activation_programs_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      activation_templates: {
        Row: {
          created_at: string | null
          id: string
          industry: string | null
          is_default: boolean | null
          name: string
          phases: Json
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          id?: string
          industry?: string | null
          is_default?: boolean | null
          name: string
          phases?: Json
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          id?: string
          industry?: string | null
          is_default?: boolean | null
          name?: string
          phases?: Json
          updated_at?: string | null
        }
        Relationships: []
      }
      ad_accounts: {
        Row: {
          access_token_encrypted: string | null
          account_type: string | null
          created_at: string | null
          currency: string | null
          external_account_id: string
          id: string
          last_sync_at: string | null
          metadata: Json | null
          name: string
          parent_account_id: string | null
          permissions: string[] | null
          provider: string
          refresh_token_encrypted: string | null
          status: string
          sync_cursor: string | null
          timezone: string | null
          token_auth_tag: string | null
          token_expires_at: string | null
          token_iv: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          access_token_encrypted?: string | null
          account_type?: string | null
          created_at?: string | null
          currency?: string | null
          external_account_id: string
          id?: string
          last_sync_at?: string | null
          metadata?: Json | null
          name: string
          parent_account_id?: string | null
          permissions?: string[] | null
          provider: string
          refresh_token_encrypted?: string | null
          status?: string
          sync_cursor?: string | null
          timezone?: string | null
          token_auth_tag?: string | null
          token_expires_at?: string | null
          token_iv?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          access_token_encrypted?: string | null
          account_type?: string | null
          created_at?: string | null
          currency?: string | null
          external_account_id?: string
          id?: string
          last_sync_at?: string | null
          metadata?: Json | null
          name?: string
          parent_account_id?: string | null
          permissions?: string[] | null
          provider?: string
          refresh_token_encrypted?: string | null
          status?: string
          sync_cursor?: string | null
          timezone?: string | null
          token_auth_tag?: string | null
          token_expires_at?: string | null
          token_iv?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ad_accounts_parent_account_id_fkey"
            columns: ["parent_account_id"]
            isOneToOne: false
            referencedRelation: "ad_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ad_accounts_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ad_campaigns: {
        Row: {
          ad_account_id: string
          ad_sets_count: number | null
          ads_count: number | null
          attribution_setting: string | null
          bid_amount: number | null
          bid_strategy: string | null
          budget_remaining: number | null
          buying_type: string | null
          created_at: string | null
          daily_budget: number | null
          end_date: string | null
          external_campaign_id: string
          id: string
          last_sync_at: string | null
          lifetime_budget: number | null
          metadata: Json | null
          name: string
          objective: string | null
          optimization_goal: string | null
          placements: Json | null
          spend_cap: number | null
          start_date: string | null
          status: string
          targeting: Json | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          ad_account_id: string
          ad_sets_count?: number | null
          ads_count?: number | null
          attribution_setting?: string | null
          bid_amount?: number | null
          bid_strategy?: string | null
          budget_remaining?: number | null
          buying_type?: string | null
          created_at?: string | null
          daily_budget?: number | null
          end_date?: string | null
          external_campaign_id: string
          id?: string
          last_sync_at?: string | null
          lifetime_budget?: number | null
          metadata?: Json | null
          name: string
          objective?: string | null
          optimization_goal?: string | null
          placements?: Json | null
          spend_cap?: number | null
          start_date?: string | null
          status?: string
          targeting?: Json | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          ad_account_id?: string
          ad_sets_count?: number | null
          ads_count?: number | null
          attribution_setting?: string | null
          bid_amount?: number | null
          bid_strategy?: string | null
          budget_remaining?: number | null
          buying_type?: string | null
          created_at?: string | null
          daily_budget?: number | null
          end_date?: string | null
          external_campaign_id?: string
          id?: string
          last_sync_at?: string | null
          lifetime_budget?: number | null
          metadata?: Json | null
          name?: string
          objective?: string | null
          optimization_goal?: string | null
          placements?: Json | null
          spend_cap?: number | null
          start_date?: string | null
          status?: string
          targeting?: Json | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ad_campaigns_ad_account_id_fkey"
            columns: ["ad_account_id"]
            isOneToOne: false
            referencedRelation: "ad_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ad_campaigns_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ad_change_history: {
        Row: {
          change_source: string | null
          change_type: string
          created_at: string | null
          entity_id: string
          entity_type: string
          external_entity_id: string | null
          field_changed: string | null
          id: string
          new_value: Json | null
          notes: string | null
          old_value: Json | null
          performed_at: string
          performed_by: string | null
          triggered_by_opportunity_id: string | null
          workspace_id: string
        }
        Insert: {
          change_source?: string | null
          change_type: string
          created_at?: string | null
          entity_id: string
          entity_type: string
          external_entity_id?: string | null
          field_changed?: string | null
          id?: string
          new_value?: Json | null
          notes?: string | null
          old_value?: Json | null
          performed_at?: string
          performed_by?: string | null
          triggered_by_opportunity_id?: string | null
          workspace_id: string
        }
        Update: {
          change_source?: string | null
          change_type?: string
          created_at?: string | null
          entity_id?: string
          entity_type?: string
          external_entity_id?: string | null
          field_changed?: string | null
          id?: string
          new_value?: Json | null
          notes?: string | null
          old_value?: Json | null
          performed_at?: string
          performed_by?: string | null
          triggered_by_opportunity_id?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ad_change_history_triggered_by_opportunity_id_fkey"
            columns: ["triggered_by_opportunity_id"]
            isOneToOne: false
            referencedRelation: "ad_optimization_opportunities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ad_change_history_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ad_optimization_opportunities: {
        Row: {
          ad_campaign_id: string
          ad_set_id: string | null
          applied_at: string | null
          applied_by: string | null
          baseline_metrics: Json | null
          comparison_period: string | null
          confidence_score: number | null
          created_at: string | null
          current_metrics: Json | null
          description: string
          detected_at: string
          estimated_impact_score: number | null
          estimated_impact_value: number | null
          expires_at: string | null
          id: string
          recommendation: string | null
          review_notes: string | null
          reviewed_at: string | null
          reviewed_by: string | null
          severity: string | null
          status: string | null
          supporting_data: Json | null
          title: string
          type: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          ad_campaign_id: string
          ad_set_id?: string | null
          applied_at?: string | null
          applied_by?: string | null
          baseline_metrics?: Json | null
          comparison_period?: string | null
          confidence_score?: number | null
          created_at?: string | null
          current_metrics?: Json | null
          description: string
          detected_at?: string
          estimated_impact_score?: number | null
          estimated_impact_value?: number | null
          expires_at?: string | null
          id?: string
          recommendation?: string | null
          review_notes?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          severity?: string | null
          status?: string | null
          supporting_data?: Json | null
          title: string
          type: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          ad_campaign_id?: string
          ad_set_id?: string | null
          applied_at?: string | null
          applied_by?: string | null
          baseline_metrics?: Json | null
          comparison_period?: string | null
          confidence_score?: number | null
          created_at?: string | null
          current_metrics?: Json | null
          description?: string
          detected_at?: string
          estimated_impact_score?: number | null
          estimated_impact_value?: number | null
          expires_at?: string | null
          id?: string
          recommendation?: string | null
          review_notes?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          severity?: string | null
          status?: string | null
          supporting_data?: Json | null
          title?: string
          type?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ad_optimization_opportunities_ad_campaign_id_fkey"
            columns: ["ad_campaign_id"]
            isOneToOne: false
            referencedRelation: "ad_campaigns"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ad_optimization_opportunities_ad_set_id_fkey"
            columns: ["ad_set_id"]
            isOneToOne: false
            referencedRelation: "ad_sets"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ad_optimization_opportunities_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ad_performance_snapshots: {
        Row: {
          ad_campaign_id: string
          ad_set_id: string | null
          app_installs: number | null
          app_opens: number | null
          clicks: number | null
          comments: number | null
          conversion_rate: number | null
          conversion_value: number | null
          conversions: number | null
          cost: number | null
          cost_per_conversion: number | null
          cost_per_lead: number | null
          cpc: number | null
          cpm: number | null
          created_at: string | null
          ctr: number | null
          frequency: number | null
          granularity: string | null
          id: string
          impressions: number | null
          leads: number | null
          likes: number | null
          profit: number | null
          quality_score: number | null
          raw_metrics: Json | null
          reach: number | null
          relevance_score: number | null
          revenue: number | null
          roas: number | null
          saves: number | null
          shares: number | null
          snapshot_date: string
          video_avg_watch_time: number | null
          video_views: number | null
          video_views_p100: number | null
          video_views_p25: number | null
          video_views_p50: number | null
          video_views_p75: number | null
          workspace_id: string
        }
        Insert: {
          ad_campaign_id: string
          ad_set_id?: string | null
          app_installs?: number | null
          app_opens?: number | null
          clicks?: number | null
          comments?: number | null
          conversion_rate?: number | null
          conversion_value?: number | null
          conversions?: number | null
          cost?: number | null
          cost_per_conversion?: number | null
          cost_per_lead?: number | null
          cpc?: number | null
          cpm?: number | null
          created_at?: string | null
          ctr?: number | null
          frequency?: number | null
          granularity?: string | null
          id?: string
          impressions?: number | null
          leads?: number | null
          likes?: number | null
          profit?: number | null
          quality_score?: number | null
          raw_metrics?: Json | null
          reach?: number | null
          relevance_score?: number | null
          revenue?: number | null
          roas?: number | null
          saves?: number | null
          shares?: number | null
          snapshot_date: string
          video_avg_watch_time?: number | null
          video_views?: number | null
          video_views_p100?: number | null
          video_views_p25?: number | null
          video_views_p50?: number | null
          video_views_p75?: number | null
          workspace_id: string
        }
        Update: {
          ad_campaign_id?: string
          ad_set_id?: string | null
          app_installs?: number | null
          app_opens?: number | null
          clicks?: number | null
          comments?: number | null
          conversion_rate?: number | null
          conversion_value?: number | null
          conversions?: number | null
          cost?: number | null
          cost_per_conversion?: number | null
          cost_per_lead?: number | null
          cpc?: number | null
          cpm?: number | null
          created_at?: string | null
          ctr?: number | null
          frequency?: number | null
          granularity?: string | null
          id?: string
          impressions?: number | null
          leads?: number | null
          likes?: number | null
          profit?: number | null
          quality_score?: number | null
          raw_metrics?: Json | null
          reach?: number | null
          relevance_score?: number | null
          revenue?: number | null
          roas?: number | null
          saves?: number | null
          shares?: number | null
          snapshot_date?: string
          video_avg_watch_time?: number | null
          video_views?: number | null
          video_views_p100?: number | null
          video_views_p25?: number | null
          video_views_p50?: number | null
          video_views_p75?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ad_performance_snapshots_ad_campaign_id_fkey"
            columns: ["ad_campaign_id"]
            isOneToOne: false
            referencedRelation: "ad_campaigns"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ad_performance_snapshots_ad_set_id_fkey"
            columns: ["ad_set_id"]
            isOneToOne: false
            referencedRelation: "ad_sets"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ad_performance_snapshots_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ad_sets: {
        Row: {
          ad_campaign_id: string
          ads_count: number | null
          bid_amount: number | null
          bid_strategy: string | null
          billing_event: string | null
          created_at: string | null
          daily_budget: number | null
          external_adset_id: string
          id: string
          last_sync_at: string | null
          lifetime_budget: number | null
          metadata: Json | null
          name: string
          optimization_goal: string | null
          placements: Json | null
          schedule: Json | null
          status: string
          targeting: Json | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          ad_campaign_id: string
          ads_count?: number | null
          bid_amount?: number | null
          bid_strategy?: string | null
          billing_event?: string | null
          created_at?: string | null
          daily_budget?: number | null
          external_adset_id: string
          id?: string
          last_sync_at?: string | null
          lifetime_budget?: number | null
          metadata?: Json | null
          name: string
          optimization_goal?: string | null
          placements?: Json | null
          schedule?: Json | null
          status?: string
          targeting?: Json | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          ad_campaign_id?: string
          ads_count?: number | null
          bid_amount?: number | null
          bid_strategy?: string | null
          billing_event?: string | null
          created_at?: string | null
          daily_budget?: number | null
          external_adset_id?: string
          id?: string
          last_sync_at?: string | null
          lifetime_budget?: number | null
          metadata?: Json | null
          name?: string
          optimization_goal?: string | null
          placements?: Json | null
          schedule?: Json | null
          status?: string
          targeting?: Json | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ad_sets_ad_campaign_id_fkey"
            columns: ["ad_campaign_id"]
            isOneToOne: false
            referencedRelation: "ad_campaigns"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ad_sets_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ad_sync_logs: {
        Row: {
          ad_account_id: string
          ad_sets_synced: number | null
          campaigns_synced: number | null
          completed_at: string | null
          created_at: string | null
          errors: Json | null
          id: string
          opportunities_detected: number | null
          snapshots_created: number | null
          started_at: string | null
          status: string | null
          sync_type: string
          workspace_id: string
        }
        Insert: {
          ad_account_id: string
          ad_sets_synced?: number | null
          campaigns_synced?: number | null
          completed_at?: string | null
          created_at?: string | null
          errors?: Json | null
          id?: string
          opportunities_detected?: number | null
          snapshots_created?: number | null
          started_at?: string | null
          status?: string | null
          sync_type: string
          workspace_id: string
        }
        Update: {
          ad_account_id?: string
          ad_sets_synced?: number | null
          campaigns_synced?: number | null
          completed_at?: string | null
          created_at?: string | null
          errors?: Json | null
          id?: string
          opportunities_detected?: number | null
          snapshots_created?: number | null
          started_at?: string | null
          status?: string | null
          sync_type?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ad_sync_logs_ad_account_id_fkey"
            columns: ["ad_account_id"]
            isOneToOne: false
            referencedRelation: "ad_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ad_sync_logs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      admin_access_audit: {
        Row: {
          action: string
          created_at: string | null
          device_fingerprint: string | null
          error_message: string | null
          id: string
          ip_address: unknown
          success: boolean | null
          user_agent: string | null
          user_id: string
        }
        Insert: {
          action: string
          created_at?: string | null
          device_fingerprint?: string | null
          error_message?: string | null
          id?: string
          ip_address?: unknown
          success?: boolean | null
          user_agent?: string | null
          user_id: string
        }
        Update: {
          action?: string
          created_at?: string | null
          device_fingerprint?: string | null
          error_message?: string | null
          id?: string
          ip_address?: unknown
          success?: boolean | null
          user_agent?: string | null
          user_id?: string
        }
        Relationships: []
      }
      admin_approvals: {
        Row: {
          approval_status: string
          approved_at: string | null
          approved_by: string | null
          created_at: string
          expires_at: string | null
          id: string
          notes: string | null
          requested_at: string
          token: string | null
          updated_at: string
          user_id: string
        }
        Insert: {
          approval_status?: string
          approved_at?: string | null
          approved_by?: string | null
          created_at?: string
          expires_at?: string | null
          id?: string
          notes?: string | null
          requested_at?: string
          token?: string | null
          updated_at?: string
          user_id: string
        }
        Update: {
          approval_status?: string
          approved_at?: string | null
          approved_by?: string | null
          created_at?: string
          expires_at?: string | null
          id?: string
          notes?: string | null
          requested_at?: string
          token?: string | null
          updated_at?: string
          user_id?: string
        }
        Relationships: []
      }
      admin_trusted_devices: {
        Row: {
          created_at: string
          device_fingerprint: string
          device_name: string | null
          expires_at: string | null
          id: string
          ip_address: unknown
          is_active: boolean
          last_used_at: string | null
          trusted_at: string
          user_agent: string | null
          user_id: string
        }
        Insert: {
          created_at?: string
          device_fingerprint: string
          device_name?: string | null
          expires_at?: string | null
          id?: string
          ip_address?: unknown
          is_active?: boolean
          last_used_at?: string | null
          trusted_at?: string
          user_agent?: string | null
          user_id: string
        }
        Update: {
          created_at?: string
          device_fingerprint?: string
          device_name?: string | null
          expires_at?: string | null
          id?: string
          ip_address?: unknown
          is_active?: boolean
          last_used_at?: string | null
          trusted_at?: string
          user_agent?: string | null
          user_id?: string
        }
        Relationships: []
      }
      ads_accounts: {
        Row: {
          account_id_external: string | null
          account_meta: Json | null
          created_at: string | null
          founder_business_id: string | null
          id: string
          provider: string
          status: string | null
        }
        Insert: {
          account_id_external?: string | null
          account_meta?: Json | null
          created_at?: string | null
          founder_business_id?: string | null
          id?: string
          provider: string
          status?: string | null
        }
        Update: {
          account_id_external?: string | null
          account_meta?: Json | null
          created_at?: string | null
          founder_business_id?: string | null
          id?: string
          provider?: string
          status?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ads_accounts_founder_business_id_fkey"
            columns: ["founder_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      ads_opportunities: {
        Row: {
          ads_account_id: string
          confidence: number | null
          created_at: string | null
          id: string
          impact_estimate: number | null
          opportunity_type: string
          recommended_action: string | null
          status: string | null
          summary: string
        }
        Insert: {
          ads_account_id: string
          confidence?: number | null
          created_at?: string | null
          id?: string
          impact_estimate?: number | null
          opportunity_type: string
          recommended_action?: string | null
          status?: string | null
          summary: string
        }
        Update: {
          ads_account_id?: string
          confidence?: number | null
          created_at?: string | null
          id?: string
          impact_estimate?: number | null
          opportunity_type?: string
          recommended_action?: string | null
          status?: string | null
          summary?: string
        }
        Relationships: [
          {
            foreignKeyName: "ads_opportunities_ads_account_id_fkey"
            columns: ["ads_account_id"]
            isOneToOne: false
            referencedRelation: "ads_accounts"
            referencedColumns: ["id"]
          },
        ]
      }
      advisor_recommendations: {
        Row: {
          brand_id: string | null
          category: string
          confidence: number
          created_at: string | null
          evidence: Json | null
          id: string
          org_id: string
          priority: string
          recommendation: Json
        }
        Insert: {
          brand_id?: string | null
          category: string
          confidence?: number
          created_at?: string | null
          evidence?: Json | null
          id?: string
          org_id: string
          priority?: string
          recommendation: Json
        }
        Update: {
          brand_id?: string | null
          category?: string
          confidence?: number
          created_at?: string | null
          evidence?: Json | null
          id?: string
          org_id?: string
          priority?: string
          recommendation?: Json
        }
        Relationships: [
          {
            foreignKeyName: "advisor_recommendations_brand_fk"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brands"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "advisor_recommendations_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      agencies: {
        Row: {
          active: boolean
          created_at: string
          id: string
          metadata: Json
          name: string
          parent_agency_id: string | null
          settings: Json
          slug: string
          updated_at: string
        }
        Insert: {
          active?: boolean
          created_at?: string
          id?: string
          metadata?: Json
          name: string
          parent_agency_id?: string | null
          settings?: Json
          slug: string
          updated_at?: string
        }
        Update: {
          active?: boolean
          created_at?: string
          id?: string
          metadata?: Json
          name?: string
          parent_agency_id?: string | null
          settings?: Json
          slug?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "agencies_parent_agency_id_fkey"
            columns: ["parent_agency_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      agency_licenses: {
        Row: {
          agency_id: string
          billing_status: string | null
          created_at: string
          current_clients: number
          current_users: number
          expires_on: string
          id: string
          license_key: string | null
          metadata: Json
          next_billing_date: string | null
          region_id: string
          started_on: string
          status: string
          tier_id: number
          updated_at: string
        }
        Insert: {
          agency_id: string
          billing_status?: string | null
          created_at?: string
          current_clients?: number
          current_users?: number
          expires_on: string
          id?: string
          license_key?: string | null
          metadata?: Json
          next_billing_date?: string | null
          region_id: string
          started_on?: string
          status?: string
          tier_id: number
          updated_at?: string
        }
        Update: {
          agency_id?: string
          billing_status?: string | null
          created_at?: string
          current_clients?: number
          current_users?: number
          expires_on?: string
          id?: string
          license_key?: string | null
          metadata?: Json
          next_billing_date?: string | null
          region_id?: string
          started_on?: string
          status?: string
          tier_id?: number
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "agency_licenses_agency_id_fkey"
            columns: ["agency_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "agency_licenses_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "agency_licenses_tier_id_fkey"
            columns: ["tier_id"]
            isOneToOne: false
            referencedRelation: "franchise_tiers"
            referencedColumns: ["id"]
          },
        ]
      }
      agency_users: {
        Row: {
          agency_id: string
          created_at: string
          id: string
          metadata: Json
          permissions: Json
          role: string
          user_id: string
        }
        Insert: {
          agency_id: string
          created_at?: string
          id?: string
          metadata?: Json
          permissions?: Json
          role: string
          user_id: string
        }
        Update: {
          agency_id?: string
          created_at?: string
          id?: string
          metadata?: Json
          permissions?: Json
          role?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "agency_users_agency_id_fkey"
            columns: ["agency_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_arbitration_decisions: {
        Row: {
          arbitration_score: number
          confidence_score: number
          consensus_percentage: number
          created_at: string
          decision_id: string
          id: number
          predicted_outcome: string
          rationale: string
          risk_score: number
          selected_action: string
          selected_agent_id: string
          session_id: string
          workspace_id: string
        }
        Insert: {
          arbitration_score: number
          confidence_score: number
          consensus_percentage: number
          created_at?: string
          decision_id: string
          id?: number
          predicted_outcome: string
          rationale: string
          risk_score: number
          selected_action: string
          selected_agent_id: string
          session_id: string
          workspace_id: string
        }
        Update: {
          arbitration_score?: number
          confidence_score?: number
          consensus_percentage?: number
          created_at?: string
          decision_id?: string
          id?: number
          predicted_outcome?: string
          rationale?: string
          risk_score?: number
          selected_action?: string
          selected_agent_id?: string
          session_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "agent_arbitration_decisions_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "agent_negotiation_sessions"
            referencedColumns: ["session_id"]
          },
          {
            foreignKeyName: "agent_arbitration_decisions_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_consensus_scores: {
        Row: {
          agent_id: string
          confidence_score: number
          created_at: string
          id: number
          overall_consensus: number
          risk_adjusted_score: number
          session_id: string
          weighted_score: number
          workspace_id: string
        }
        Insert: {
          agent_id: string
          confidence_score: number
          created_at?: string
          id?: number
          overall_consensus: number
          risk_adjusted_score: number
          session_id: string
          weighted_score: number
          workspace_id: string
        }
        Update: {
          agent_id?: string
          confidence_score?: number
          created_at?: string
          id?: number
          overall_consensus?: number
          risk_adjusted_score?: number
          session_id?: string
          weighted_score?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "agent_consensus_scores_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "agent_negotiation_sessions"
            referencedColumns: ["session_id"]
          },
          {
            foreignKeyName: "agent_consensus_scores_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_execution_plans: {
        Row: {
          agent_name: string
          complexity_score: number | null
          confidence_score: number | null
          created_at: string | null
          id: string
          metadata: Json | null
          objective: string
          plan: Json
          reasoning_trace: Json | null
          risk_score: number | null
          status: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          agent_name: string
          complexity_score?: number | null
          confidence_score?: number | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          objective: string
          plan: Json
          reasoning_trace?: Json | null
          risk_score?: number | null
          status?: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          agent_name?: string
          complexity_score?: number | null
          confidence_score?: number | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          objective?: string
          plan?: Json
          reasoning_trace?: Json | null
          risk_score?: number | null
          status?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "agent_execution_plans_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_execution_steps: {
        Row: {
          action_type: string
          actual_outcome: string | null
          command: Json
          created_at: string | null
          description: string | null
          error_message: string | null
          execution_time_ms: number | null
          finished_at: string | null
          id: string
          max_retries: number | null
          metadata: Json | null
          outcome_mismatch: boolean | null
          plan_id: string
          promised_outcome: string | null
          result: Json | null
          retry_count: number | null
          started_at: string | null
          status: string
          step_number: number
        }
        Insert: {
          action_type: string
          actual_outcome?: string | null
          command: Json
          created_at?: string | null
          description?: string | null
          error_message?: string | null
          execution_time_ms?: number | null
          finished_at?: string | null
          id?: string
          max_retries?: number | null
          metadata?: Json | null
          outcome_mismatch?: boolean | null
          plan_id: string
          promised_outcome?: string | null
          result?: Json | null
          retry_count?: number | null
          started_at?: string | null
          status?: string
          step_number: number
        }
        Update: {
          action_type?: string
          actual_outcome?: string | null
          command?: Json
          created_at?: string | null
          description?: string | null
          error_message?: string | null
          execution_time_ms?: number | null
          finished_at?: string | null
          id?: string
          max_retries?: number | null
          metadata?: Json | null
          outcome_mismatch?: boolean | null
          plan_id?: string
          promised_outcome?: string | null
          result?: Json | null
          retry_count?: number | null
          started_at?: string | null
          status?: string
          step_number?: number
        }
        Relationships: [
          {
            foreignKeyName: "agent_execution_steps_plan_id_fkey"
            columns: ["plan_id"]
            isOneToOne: false
            referencedRelation: "agent_execution_plans"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_invocations: {
        Row: {
          agent_name: string
          completed_at: string | null
          engine_type: string
          id: string
          input_summary: string | null
          output_summary: string | null
          run_id: string
          started_at: string | null
          status: string
          token_cost_estimate: number | null
        }
        Insert: {
          agent_name: string
          completed_at?: string | null
          engine_type: string
          id?: string
          input_summary?: string | null
          output_summary?: string | null
          run_id: string
          started_at?: string | null
          status?: string
          token_cost_estimate?: number | null
        }
        Update: {
          agent_name?: string
          completed_at?: string | null
          engine_type?: string
          id?: string
          input_summary?: string | null
          output_summary?: string | null
          run_id?: string
          started_at?: string | null
          status?: string
          token_cost_estimate?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "agent_invocations_run_fk"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "orchestrator_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_mandates: {
        Row: {
          action_scope: Json
          agent_name: string
          autonomy_level: number
          created_at: string
          forbidden_actions: Json | null
          id: string
          is_active: boolean | null
          requires_human_approval: boolean | null
          risk_cap: string
          role_description: string
          tenant_id: string | null
          updated_at: string
        }
        Insert: {
          action_scope?: Json
          agent_name: string
          autonomy_level?: number
          created_at?: string
          forbidden_actions?: Json | null
          id?: string
          is_active?: boolean | null
          requires_human_approval?: boolean | null
          risk_cap?: string
          role_description: string
          tenant_id?: string | null
          updated_at?: string
        }
        Update: {
          action_scope?: Json
          agent_name?: string
          autonomy_level?: number
          created_at?: string
          forbidden_actions?: Json | null
          id?: string
          is_active?: boolean | null
          requires_human_approval?: boolean | null
          risk_cap?: string
          role_description?: string
          tenant_id?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "agent_mandates_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_messages: {
        Row: {
          created_at: string | null
          expires_at: string | null
          id: string
          intent: string
          msg_from: string
          msg_to: string
          payload: Json
          priority: string | null
          reply_to_id: string | null
          role: string
          topic: string
        }
        Insert: {
          created_at?: string | null
          expires_at?: string | null
          id?: string
          intent: string
          msg_from: string
          msg_to: string
          payload: Json
          priority?: string | null
          reply_to_id?: string | null
          role: string
          topic: string
        }
        Update: {
          created_at?: string | null
          expires_at?: string | null
          id?: string
          intent?: string
          msg_from?: string
          msg_to?: string
          payload?: Json
          priority?: string | null
          reply_to_id?: string | null
          role?: string
          topic?: string
        }
        Relationships: [
          {
            foreignKeyName: "agent_messages_reply_to_id_fkey"
            columns: ["reply_to_id"]
            isOneToOne: false
            referencedRelation: "agent_messages"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_negotiation_proposals: {
        Row: {
          action: string
          action_type: string
          agent_id: string
          confidence: number
          created_at: string
          estimated_benefit: number
          estimated_cost: number
          id: number
          proposal_id: string
          rationale: string
          risk_score: number
          session_id: string
          supporting_evidence: string[] | null
          workspace_id: string
        }
        Insert: {
          action: string
          action_type: string
          agent_id: string
          confidence: number
          created_at?: string
          estimated_benefit: number
          estimated_cost: number
          id?: number
          proposal_id: string
          rationale: string
          risk_score: number
          session_id: string
          supporting_evidence?: string[] | null
          workspace_id: string
        }
        Update: {
          action?: string
          action_type?: string
          agent_id?: string
          confidence?: number
          created_at?: string
          estimated_benefit?: number
          estimated_cost?: number
          id?: number
          proposal_id?: string
          rationale?: string
          risk_score?: number
          session_id?: string
          supporting_evidence?: string[] | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "agent_negotiation_proposals_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "agent_negotiation_sessions"
            referencedColumns: ["session_id"]
          },
          {
            foreignKeyName: "agent_negotiation_proposals_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_negotiation_sessions: {
        Row: {
          conflicts: Json
          consensus_scores: Json
          created_at: string
          final_decision: Json | null
          id: number
          objective: string
          participating_agents: string[]
          proposals: Json
          resolved_at: string | null
          session_id: string
          status: string
          transcript: string | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          conflicts: Json
          consensus_scores: Json
          created_at?: string
          final_decision?: Json | null
          id?: number
          objective: string
          participating_agents: string[]
          proposals: Json
          resolved_at?: string | null
          session_id: string
          status: string
          transcript?: string | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          conflicts?: Json
          consensus_scores?: Json
          created_at?: string
          final_decision?: Json | null
          id?: number
          objective?: string
          participating_agents?: string[]
          proposals?: Json
          resolved_at?: string | null
          session_id?: string
          status?: string
          transcript?: string | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "agent_negotiation_sessions_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_rewards: {
        Row: {
          agent: string
          context: Json | null
          created_at: string | null
          dimension: string
          id: string
          reward: number
          value: number
        }
        Insert: {
          agent: string
          context?: Json | null
          created_at?: string | null
          dimension: string
          id?: string
          reward: number
          value: number
        }
        Update: {
          agent?: string
          context?: Json | null
          created_at?: string | null
          dimension?: string
          id?: string
          reward?: number
          value?: number
        }
        Relationships: []
      }
      agent_risk_assessments: {
        Row: {
          approval_reason: string | null
          approval_status: string | null
          approved_at: string | null
          approved_by: string | null
          created_at: string | null
          id: string
          metadata: Json | null
          plan_id: string
          requires_founder_approval: boolean | null
          risk_factors: Json
          risk_score: number
          risk_summary: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          approval_reason?: string | null
          approval_status?: string | null
          approved_at?: string | null
          approved_by?: string | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          plan_id: string
          requires_founder_approval?: boolean | null
          risk_factors: Json
          risk_score: number
          risk_summary?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          approval_reason?: string | null
          approval_status?: string | null
          approved_at?: string | null
          approved_by?: string | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          plan_id?: string
          requires_founder_approval?: boolean | null
          risk_factors?: Json
          risk_score?: number
          risk_summary?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "agent_risk_assessments_plan_id_fkey"
            columns: ["plan_id"]
            isOneToOne: false
            referencedRelation: "agent_execution_plans"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "agent_risk_assessments_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_runs: {
        Row: {
          actual_duration_ms: number | null
          completed_at: string | null
          completed_steps: number | null
          created_at: string | null
          error_step_id: string | null
          estimated_duration_ms: number | null
          failed_steps: number | null
          id: string
          last_error: string | null
          metadata: Json | null
          plan_id: string
          skipped_steps: number | null
          started_at: string | null
          status: string
          total_steps: number | null
          workspace_id: string
        }
        Insert: {
          actual_duration_ms?: number | null
          completed_at?: string | null
          completed_steps?: number | null
          created_at?: string | null
          error_step_id?: string | null
          estimated_duration_ms?: number | null
          failed_steps?: number | null
          id?: string
          last_error?: string | null
          metadata?: Json | null
          plan_id: string
          skipped_steps?: number | null
          started_at?: string | null
          status?: string
          total_steps?: number | null
          workspace_id: string
        }
        Update: {
          actual_duration_ms?: number | null
          completed_at?: string | null
          completed_steps?: number | null
          created_at?: string | null
          error_step_id?: string | null
          estimated_duration_ms?: number | null
          failed_steps?: number | null
          id?: string
          last_error?: string | null
          metadata?: Json | null
          plan_id?: string
          skipped_steps?: number | null
          started_at?: string | null
          status?: string
          total_steps?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "agent_runs_error_step_id_fkey"
            columns: ["error_step_id"]
            isOneToOne: false
            referencedRelation: "agent_execution_steps"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "agent_runs_plan_id_fkey"
            columns: ["plan_id"]
            isOneToOne: false
            referencedRelation: "agent_execution_plans"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "agent_runs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_state_snapshot: {
        Row: {
          active_workflows: number
          agent: string
          cpu_usage: number | null
          created_at: string | null
          error_count: number | null
          health_score: number
          id: string
          last_error: string | null
          memory_usage: number | null
          status: string
        }
        Insert: {
          active_workflows?: number
          agent: string
          cpu_usage?: number | null
          created_at?: string | null
          error_count?: number | null
          health_score: number
          id?: string
          last_error?: string | null
          memory_usage?: number | null
          status: string
        }
        Update: {
          active_workflows?: number
          agent?: string
          cpu_usage?: number | null
          created_at?: string | null
          error_count?: number | null
          health_score?: number
          id?: string
          last_error?: string | null
          memory_usage?: number | null
          status?: string
        }
        Relationships: []
      }
      agent_tasks: {
        Row: {
          agent_type: string
          assigned_at: string | null
          completed_at: string | null
          created_at: string
          dependencies: string[] | null
          description: string
          error: string | null
          execution_id: string
          id: string
          l4_item_id: string
          max_retries: number | null
          priority: string
          result: Json | null
          retry_count: number | null
          status: string
          updated_at: string
          workspace_id: string
        }
        Insert: {
          agent_type: string
          assigned_at?: string | null
          completed_at?: string | null
          created_at?: string
          dependencies?: string[] | null
          description: string
          error?: string | null
          execution_id: string
          id: string
          l4_item_id: string
          max_retries?: number | null
          priority?: string
          result?: Json | null
          retry_count?: number | null
          status?: string
          updated_at?: string
          workspace_id: string
        }
        Update: {
          agent_type?: string
          assigned_at?: string | null
          completed_at?: string | null
          created_at?: string
          dependencies?: string[] | null
          description?: string
          error?: string | null
          execution_id?: string
          id?: string
          l4_item_id?: string
          max_retries?: number | null
          priority?: string
          result?: Json | null
          retry_count?: number | null
          status?: string
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "agent_tasks_execution_id_fkey"
            columns: ["execution_id"]
            isOneToOne: false
            referencedRelation: "strategy_executions"
            referencedColumns: ["id"]
          },
        ]
      }
      agent_uncertainty_notes: {
        Row: {
          confidence_score: number | null
          created_at: string | null
          disclosed_uncertainty: string | null
          id: string
          metadata: Json | null
          plan_id: string
          step_id: string
          uncertainty_factors: string[] | null
        }
        Insert: {
          confidence_score?: number | null
          created_at?: string | null
          disclosed_uncertainty?: string | null
          id?: string
          metadata?: Json | null
          plan_id: string
          step_id: string
          uncertainty_factors?: string[] | null
        }
        Update: {
          confidence_score?: number | null
          created_at?: string | null
          disclosed_uncertainty?: string | null
          id?: string
          metadata?: Json | null
          plan_id?: string
          step_id?: string
          uncertainty_factors?: string[] | null
        }
        Relationships: [
          {
            foreignKeyName: "agent_uncertainty_notes_plan_id_fkey"
            columns: ["plan_id"]
            isOneToOne: false
            referencedRelation: "agent_execution_plans"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "agent_uncertainty_notes_step_id_fkey"
            columns: ["step_id"]
            isOneToOne: false
            referencedRelation: "agent_execution_steps"
            referencedColumns: ["id"]
          },
        ]
      }
      agi_briefings: {
        Row: {
          briefing_content: Json
          business_status: Json
          created_at: string | null
          date: string
          estimated_action_time: number | null
          estimated_read_time: number | null
          id: string
          is_urgent: boolean | null
          owner: string
          personal_state: Json
          summary: string | null
          type: string
        }
        Insert: {
          briefing_content: Json
          business_status: Json
          created_at?: string | null
          date: string
          estimated_action_time?: number | null
          estimated_read_time?: number | null
          id?: string
          is_urgent?: boolean | null
          owner: string
          personal_state: Json
          summary?: string | null
          type: string
        }
        Update: {
          briefing_content?: Json
          business_status?: Json
          created_at?: string | null
          date?: string
          estimated_action_time?: number | null
          estimated_read_time?: number | null
          id?: string
          is_urgent?: boolean | null
          owner?: string
          personal_state?: Json
          summary?: string | null
          type?: string
        }
        Relationships: []
      }
      agi_context_logs: {
        Row: {
          calendar_load_percent: number | null
          cognitive_state: string | null
          created_at: string | null
          energy_level: string | null
          heart_rate: number | null
          hrv: number | null
          id: string
          metadata: Json | null
          owner: string
          sleep_hours: number | null
          sleep_quality: string | null
          steps: number | null
          stress_level: string | null
        }
        Insert: {
          calendar_load_percent?: number | null
          cognitive_state?: string | null
          created_at?: string | null
          energy_level?: string | null
          heart_rate?: number | null
          hrv?: number | null
          id?: string
          metadata?: Json | null
          owner: string
          sleep_hours?: number | null
          sleep_quality?: string | null
          steps?: number | null
          stress_level?: string | null
        }
        Update: {
          calendar_load_percent?: number | null
          cognitive_state?: string | null
          created_at?: string | null
          energy_level?: string | null
          heart_rate?: number | null
          hrv?: number | null
          id?: string
          metadata?: Json | null
          owner?: string
          sleep_hours?: number | null
          sleep_quality?: string | null
          steps?: number | null
          stress_level?: string | null
        }
        Relationships: []
      }
      agi_financial_snapshots: {
        Row: {
          burn_rate: number | null
          cash_position: number | null
          created_at: string | null
          customer_acquisition_cost: number | null
          date: string
          gross_margin_percent: number | null
          id: string
          metadata: Json | null
          monthly_growth_percent: number | null
          mrr: number | null
          owner: string
          runway_days: number | null
        }
        Insert: {
          burn_rate?: number | null
          cash_position?: number | null
          created_at?: string | null
          customer_acquisition_cost?: number | null
          date: string
          gross_margin_percent?: number | null
          id?: string
          metadata?: Json | null
          monthly_growth_percent?: number | null
          mrr?: number | null
          owner: string
          runway_days?: number | null
        }
        Update: {
          burn_rate?: number | null
          cash_position?: number | null
          created_at?: string | null
          customer_acquisition_cost?: number | null
          date?: string
          gross_margin_percent?: number | null
          id?: string
          metadata?: Json | null
          monthly_growth_percent?: number | null
          mrr?: number | null
          owner?: string
          runway_days?: number | null
        }
        Relationships: []
      }
      agi_glasses_sessions: {
        Row: {
          battery_percent: number | null
          created_at: string | null
          ended_at: string | null
          hardware: string
          id: string
          is_active: boolean | null
          metadata: Json | null
          owner: string
          signal_strength: number | null
          started_at: string
        }
        Insert: {
          battery_percent?: number | null
          created_at?: string | null
          ended_at?: string | null
          hardware: string
          id?: string
          is_active?: boolean | null
          metadata?: Json | null
          owner: string
          signal_strength?: number | null
          started_at: string
        }
        Update: {
          battery_percent?: number | null
          created_at?: string | null
          ended_at?: string | null
          hardware?: string
          id?: string
          is_active?: boolean | null
          metadata?: Json | null
          owner?: string
          signal_strength?: number | null
          started_at?: string
        }
        Relationships: []
      }
      agi_goals: {
        Row: {
          completed_at: string | null
          created_at: string | null
          current_value: number
          deadline: string
          description: string | null
          domain: string
          frequency: string
          id: string
          key_results: Json | null
          owner: string
          parent_goal_id: string | null
          priority: string
          status: string
          target_value: number
          title: string
          unit: string
          updated_at: string | null
        }
        Insert: {
          completed_at?: string | null
          created_at?: string | null
          current_value?: number
          deadline: string
          description?: string | null
          domain: string
          frequency: string
          id?: string
          key_results?: Json | null
          owner: string
          parent_goal_id?: string | null
          priority: string
          status: string
          target_value: number
          title: string
          unit: string
          updated_at?: string | null
        }
        Update: {
          completed_at?: string | null
          created_at?: string | null
          current_value?: number
          deadline?: string
          description?: string | null
          domain?: string
          frequency?: string
          id?: string
          key_results?: Json | null
          owner?: string
          parent_goal_id?: string | null
          priority?: string
          status?: string
          target_value?: number
          title?: string
          unit?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      agi_personal_metrics: {
        Row: {
          created_at: string | null
          id: string
          metadata: Json | null
          metric_type: string
          owner: string
          source: string
          unit: string
          value: number
        }
        Insert: {
          created_at?: string | null
          id?: string
          metadata?: Json | null
          metric_type: string
          owner: string
          source: string
          unit: string
          value: number
        }
        Update: {
          created_at?: string | null
          id?: string
          metadata?: Json | null
          metric_type?: string
          owner?: string
          source?: string
          unit?: string
          value?: number
        }
        Relationships: []
      }
      agi_voice_commands: {
        Row: {
          confidence: number | null
          created_at: string | null
          glasses_hardware: string
          id: string
          intent: string
          owner: string
          parameters: Json | null
          session_id: string | null
          transcript: string
        }
        Insert: {
          confidence?: number | null
          created_at?: string | null
          glasses_hardware: string
          id?: string
          intent: string
          owner: string
          parameters?: Json | null
          session_id?: string | null
          transcript: string
        }
        Update: {
          confidence?: number | null
          created_at?: string | null
          glasses_hardware?: string
          id?: string
          intent?: string
          owner?: string
          parameters?: Json | null
          session_id?: string | null
          transcript?: string
        }
        Relationships: []
      }
      aglbase_agent_pools: {
        Row: {
          agent_type: string
          created_at: string | null
          desired_capacity: number
          id: string
          max_capacity: number
          min_capacity: number
          region: string
          scaling_policy: Json | null
          tenant_id: string
          updated_at: string | null
        }
        Insert: {
          agent_type: string
          created_at?: string | null
          desired_capacity?: number
          id?: string
          max_capacity?: number
          min_capacity?: number
          region: string
          scaling_policy?: Json | null
          tenant_id: string
          updated_at?: string | null
        }
        Update: {
          agent_type?: string
          created_at?: string | null
          desired_capacity?: number
          id?: string
          max_capacity?: number
          min_capacity?: number
          region?: string
          scaling_policy?: Json | null
          tenant_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "aglbase_agent_pools_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      aglbase_routing_decisions: {
        Row: {
          agent_type: string
          created_at: string | null
          decision_reason: string
          id: string
          performance_context: Json | null
          region: string
          selected_region: string
          sla_context: Json | null
          tenant_id: string
          workload_type: string
        }
        Insert: {
          agent_type: string
          created_at?: string | null
          decision_reason: string
          id?: string
          performance_context?: Json | null
          region: string
          selected_region: string
          sla_context?: Json | null
          tenant_id: string
          workload_type: string
        }
        Update: {
          agent_type?: string
          created_at?: string | null
          decision_reason?: string
          id?: string
          performance_context?: Json | null
          region?: string
          selected_region?: string
          sla_context?: Json | null
          tenant_id?: string
          workload_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "aglbase_routing_decisions_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      aglbase_scaling_events: {
        Row: {
          agent_type: string
          created_at: string | null
          id: string
          metadata: Json | null
          new_capacity: number
          previous_capacity: number
          reason: string
          region: string
          tenant_id: string
          trigger_source: string
        }
        Insert: {
          agent_type: string
          created_at?: string | null
          id?: string
          metadata?: Json | null
          new_capacity: number
          previous_capacity: number
          reason: string
          region: string
          tenant_id: string
          trigger_source: string
        }
        Update: {
          agent_type?: string
          created_at?: string | null
          id?: string
          metadata?: Json | null
          new_capacity?: number
          previous_capacity?: number
          reason?: string
          region?: string
          tenant_id?: string
          trigger_source?: string
        }
        Relationships: [
          {
            foreignKeyName: "aglbase_scaling_events_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      agocss_system_seal: {
        Row: {
          engines_operational: number
          health_score: number
          id: string
          metadata: Json | null
          seal_date: string | null
          seal_hash: string | null
          total_engines: number
          validation_passed: boolean
          version: string
        }
        Insert: {
          engines_operational: number
          health_score: number
          id?: string
          metadata?: Json | null
          seal_date?: string | null
          seal_hash?: string | null
          total_engines: number
          validation_passed?: boolean
          version: string
        }
        Update: {
          engines_operational?: number
          health_score?: number
          id?: string
          metadata?: Json | null
          seal_date?: string | null
          seal_hash?: string | null
          total_engines?: number
          validation_passed?: boolean
          version?: string
        }
        Relationships: []
      }
      agocss_validation_results: {
        Row: {
          category: string
          check_name: string
          created_at: string | null
          details: Json | null
          id: string
          max_score: number
          passed: boolean
          score: number
          seal_id: string
        }
        Insert: {
          category: string
          check_name: string
          created_at?: string | null
          details?: Json | null
          id?: string
          max_score: number
          passed: boolean
          score?: number
          seal_id: string
        }
        Update: {
          category?: string
          check_name?: string
          created_at?: string | null
          details?: Json | null
          id?: string
          max_score?: number
          passed?: boolean
          score?: number
          seal_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "agocss_validation_seal_fk"
            columns: ["seal_id"]
            isOneToOne: false
            referencedRelation: "agocss_system_seal"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_budget_alerts: {
        Row: {
          acknowledged: boolean | null
          acknowledged_at: string | null
          acknowledged_by: string | null
          alert_type: string
          budget_limit_usd: number
          created_at: string
          current_spend_usd: number
          days_remaining_in_month: number | null
          id: string
          percentage_used: number
          projected_overage_usd: number | null
          workspace_id: string
        }
        Insert: {
          acknowledged?: boolean | null
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          alert_type: string
          budget_limit_usd: number
          created_at?: string
          current_spend_usd: number
          days_remaining_in_month?: number | null
          id?: string
          percentage_used: number
          projected_overage_usd?: number | null
          workspace_id: string
        }
        Update: {
          acknowledged?: boolean | null
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          alert_type?: string
          budget_limit_usd?: number
          created_at?: string
          current_spend_usd?: number
          days_remaining_in_month?: number | null
          id?: string
          percentage_used?: number
          projected_overage_usd?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_budget_alerts_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_budget_allocations: {
        Row: {
          created_at: string
          id: string
          monthly_budget_usd: number
          operation_limits: Json | null
          tier_type: string | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          created_at?: string
          id?: string
          monthly_budget_usd?: number
          operation_limits?: Json | null
          tier_type?: string | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          created_at?: string
          id?: string
          monthly_budget_usd?: number
          operation_limits?: Json | null
          tier_type?: string | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_budget_allocations_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: true
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_budget_limits: {
        Row: {
          alert_threshold_pct: number | null
          created_at: string | null
          daily_limit_usd: number | null
          enforce_daily: boolean | null
          enforce_monthly: boolean | null
          id: string
          is_active: boolean | null
          monthly_limit_usd: number | null
          notify_email: string | null
          notify_on_limit: boolean | null
          notify_on_threshold: boolean | null
          updated_at: string | null
          workspace_id: string | null
        }
        Insert: {
          alert_threshold_pct?: number | null
          created_at?: string | null
          daily_limit_usd?: number | null
          enforce_daily?: boolean | null
          enforce_monthly?: boolean | null
          id?: string
          is_active?: boolean | null
          monthly_limit_usd?: number | null
          notify_email?: string | null
          notify_on_limit?: boolean | null
          notify_on_threshold?: boolean | null
          updated_at?: string | null
          workspace_id?: string | null
        }
        Update: {
          alert_threshold_pct?: number | null
          created_at?: string | null
          daily_limit_usd?: number | null
          enforce_daily?: boolean | null
          enforce_monthly?: boolean | null
          id?: string
          is_active?: boolean | null
          monthly_limit_usd?: number | null
          notify_email?: string | null
          notify_on_limit?: boolean | null
          notify_on_threshold?: boolean | null
          updated_at?: string | null
          workspace_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_budget_limits_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: true
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_consultation_insights: {
        Row: {
          consultation_id: string | null
          created_at: string | null
          id: string
          insight_type: string
          payload: Json
        }
        Insert: {
          consultation_id?: string | null
          created_at?: string | null
          id?: string
          insight_type: string
          payload: Json
        }
        Update: {
          consultation_id?: string | null
          created_at?: string | null
          id?: string
          insight_type?: string
          payload?: Json
        }
        Relationships: [
          {
            foreignKeyName: "ai_consultation_insights_consultation_id_fkey"
            columns: ["consultation_id"]
            isOneToOne: false
            referencedRelation: "ai_consultations"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_consultation_messages: {
        Row: {
          consultation_id: string | null
          content: string
          created_at: string | null
          explanation_mode: string
          id: string
          role: string
        }
        Insert: {
          consultation_id?: string | null
          content: string
          created_at?: string | null
          explanation_mode?: string
          id?: string
          role: string
        }
        Update: {
          consultation_id?: string | null
          content?: string
          created_at?: string | null
          explanation_mode?: string
          id?: string
          role?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_consultation_messages_consultation_id_fkey"
            columns: ["consultation_id"]
            isOneToOne: false
            referencedRelation: "ai_consultations"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_consultations: {
        Row: {
          business_id: string | null
          client_id: string | null
          context: Json | null
          created_at: string | null
          created_by: string | null
          explanation_mode: string
          id: string
          status: string
          title: string | null
          updated_at: string | null
        }
        Insert: {
          business_id?: string | null
          client_id?: string | null
          context?: Json | null
          created_at?: string | null
          created_by?: string | null
          explanation_mode?: string
          id?: string
          status?: string
          title?: string | null
          updated_at?: string | null
        }
        Update: {
          business_id?: string | null
          client_id?: string | null
          context?: Json | null
          created_at?: string | null
          created_by?: string | null
          explanation_mode?: string
          id?: string
          status?: string
          title?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_consultations_business_id_fkey"
            columns: ["business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_consultations_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_cost_optimization_recommendations: {
        Row: {
          actioned: boolean | null
          actioned_at: string | null
          created_at: string
          estimated_savings_usd: number | null
          expires_at: string | null
          id: string
          priority: string | null
          recommendation_text: string
          recommendation_type: string
          workspace_id: string
        }
        Insert: {
          actioned?: boolean | null
          actioned_at?: string | null
          created_at?: string
          estimated_savings_usd?: number | null
          expires_at?: string | null
          id?: string
          priority?: string | null
          recommendation_text: string
          recommendation_type: string
          workspace_id: string
        }
        Update: {
          actioned?: boolean | null
          actioned_at?: string | null
          created_at?: string
          estimated_savings_usd?: number | null
          expires_at?: string | null
          id?: string
          priority?: string | null
          recommendation_text?: string
          recommendation_type?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_cost_optimization_recommendations_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_cost_summaries: {
        Row: {
          by_operation_type: Json | null
          created_at: string
          daily_average_cost: number | null
          date: string
          id: string
          projected_monthly_cost: number | null
          total_cost_usd: number | null
          total_input_tokens: number | null
          total_operations: number | null
          total_output_tokens: number | null
          total_thinking_tokens: number | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          by_operation_type?: Json | null
          created_at?: string
          daily_average_cost?: number | null
          date: string
          id?: string
          projected_monthly_cost?: number | null
          total_cost_usd?: number | null
          total_input_tokens?: number | null
          total_operations?: number | null
          total_output_tokens?: number | null
          total_thinking_tokens?: number | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          by_operation_type?: Json | null
          created_at?: string
          daily_average_cost?: number | null
          date?: string
          id?: string
          projected_monthly_cost?: number | null
          total_cost_usd?: number | null
          total_input_tokens?: number | null
          total_operations?: number | null
          total_output_tokens?: number | null
          total_thinking_tokens?: number | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_cost_summaries_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_cost_tracking: {
        Row: {
          cost_breakdown: Json | null
          cost_usd: number
          created_at: string
          date: string
          id: string
          input_tokens: number
          operation_id: string
          operation_type: string
          output_tokens: number
          thinking_tokens: number
          total_tokens: number | null
          workspace_id: string
        }
        Insert: {
          cost_breakdown?: Json | null
          cost_usd?: number
          created_at?: string
          date: string
          id?: string
          input_tokens?: number
          operation_id: string
          operation_type: string
          output_tokens?: number
          thinking_tokens?: number
          total_tokens?: number | null
          workspace_id: string
        }
        Update: {
          cost_breakdown?: Json | null
          cost_usd?: number
          created_at?: string
          date?: string
          id?: string
          input_tokens?: number
          operation_id?: string
          operation_type?: string
          output_tokens?: number
          thinking_tokens?: number
          total_tokens?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_cost_tracking_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_media_analysis: {
        Row: {
          action_items: Json | null
          ai_model: string | null
          applied_at: string | null
          applied_to_mindmap: boolean | null
          client_goals: string | null
          confidence_score: number | null
          created_at: string | null
          id: string
          key_points: Json | null
          media_upload_id: string
          pain_points: string | null
          processing_prompt: string | null
          processing_time_seconds: number | null
          requirements: Json | null
          sentiment: string | null
          sentiment_score: number | null
          suggested_connections: Json | null
          suggested_nodes: Json | null
          summary: string
          tags: string[] | null
          topics: Json | null
          transcription_id: string | null
          updated_at: string | null
        }
        Insert: {
          action_items?: Json | null
          ai_model?: string | null
          applied_at?: string | null
          applied_to_mindmap?: boolean | null
          client_goals?: string | null
          confidence_score?: number | null
          created_at?: string | null
          id?: string
          key_points?: Json | null
          media_upload_id: string
          pain_points?: string | null
          processing_prompt?: string | null
          processing_time_seconds?: number | null
          requirements?: Json | null
          sentiment?: string | null
          sentiment_score?: number | null
          suggested_connections?: Json | null
          suggested_nodes?: Json | null
          summary: string
          tags?: string[] | null
          topics?: Json | null
          transcription_id?: string | null
          updated_at?: string | null
        }
        Update: {
          action_items?: Json | null
          ai_model?: string | null
          applied_at?: string | null
          applied_to_mindmap?: boolean | null
          client_goals?: string | null
          confidence_score?: number | null
          created_at?: string | null
          id?: string
          key_points?: Json | null
          media_upload_id?: string
          pain_points?: string | null
          processing_prompt?: string | null
          processing_time_seconds?: number | null
          requirements?: Json | null
          sentiment?: string | null
          sentiment_score?: number | null
          suggested_connections?: Json | null
          suggested_nodes?: Json | null
          summary?: string
          tags?: string[] | null
          topics?: Json | null
          transcription_id?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_media_analysis_media_upload_id_fkey"
            columns: ["media_upload_id"]
            isOneToOne: false
            referencedRelation: "client_media_uploads"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_media_analysis_transcription_id_fkey"
            columns: ["transcription_id"]
            isOneToOne: false
            referencedRelation: "media_transcriptions"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_memory: {
        Row: {
          agent: string
          confidence: number
          content: Json
          created_at: string | null
          id: string
          importance: number
          is_redacted: boolean | null
          keywords: string[] | null
          memory_type: string
          metadata: Json | null
          parent_memory_id: string | null
          recall_priority: number | null
          redacted_by: string | null
          redaction_reason: string | null
          source: string
          source_agent: string | null
          uncertainty_notes: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          agent: string
          confidence?: number
          content: Json
          created_at?: string | null
          id?: string
          importance?: number
          is_redacted?: boolean | null
          keywords?: string[] | null
          memory_type: string
          metadata?: Json | null
          parent_memory_id?: string | null
          recall_priority?: number | null
          redacted_by?: string | null
          redaction_reason?: string | null
          source: string
          source_agent?: string | null
          uncertainty_notes?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          agent?: string
          confidence?: number
          content?: Json
          created_at?: string | null
          id?: string
          importance?: number
          is_redacted?: boolean | null
          keywords?: string[] | null
          memory_type?: string
          metadata?: Json | null
          parent_memory_id?: string | null
          recall_priority?: number | null
          redacted_by?: string | null
          redaction_reason?: string | null
          source?: string
          source_agent?: string | null
          uncertainty_notes?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_memory_parent_memory_id_fkey"
            columns: ["parent_memory_id"]
            isOneToOne: false
            referencedRelation: "ai_memory"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_memory_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_memory_embeddings: {
        Row: {
          embedding: string | null
          embedding_model: string | null
          memory_id: string
          metadata: Json | null
          updated_at: string | null
        }
        Insert: {
          embedding?: string | null
          embedding_model?: string | null
          memory_id: string
          metadata?: Json | null
          updated_at?: string | null
        }
        Update: {
          embedding?: string | null
          embedding_model?: string | null
          memory_id?: string
          metadata?: Json | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_memory_embeddings_memory_id_fkey"
            columns: ["memory_id"]
            isOneToOne: true
            referencedRelation: "ai_memory"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_memory_links: {
        Row: {
          created_at: string | null
          id: string
          linked_memory_id: string
          memory_id: string
          metadata: Json | null
          relationship: string
          strength: number | null
        }
        Insert: {
          created_at?: string | null
          id?: string
          linked_memory_id: string
          memory_id: string
          metadata?: Json | null
          relationship: string
          strength?: number | null
        }
        Update: {
          created_at?: string | null
          id?: string
          linked_memory_id?: string
          memory_id?: string
          metadata?: Json | null
          relationship?: string
          strength?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_memory_links_linked_memory_id_fkey"
            columns: ["linked_memory_id"]
            isOneToOne: false
            referencedRelation: "ai_memory"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_memory_links_memory_id_fkey"
            columns: ["memory_id"]
            isOneToOne: false
            referencedRelation: "ai_memory"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_memory_signals: {
        Row: {
          created_at: string | null
          id: string
          is_resolved: boolean | null
          memory_id: string
          metadata: Json | null
          resolution_notes: string | null
          resolved_at: string | null
          signal_type: string
          signal_value: number
          source_agent: string
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          is_resolved?: boolean | null
          memory_id: string
          metadata?: Json | null
          resolution_notes?: string | null
          resolved_at?: string | null
          signal_type: string
          signal_value: number
          source_agent: string
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          id?: string
          is_resolved?: boolean | null
          memory_id?: string
          metadata?: Json | null
          resolution_notes?: string | null
          resolved_at?: string | null
          signal_type?: string
          signal_value?: number
          source_agent?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_memory_signals_memory_id_fkey"
            columns: ["memory_id"]
            isOneToOne: false
            referencedRelation: "ai_memory"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_phill_insights: {
        Row: {
          body_md: string
          category: string
          created_at: string | null
          governance_mode: string | null
          id: string
          owner_user_id: string
          priority: string
          recommended_actions: Json | null
          related_business_id: string | null
          review_status: string | null
          reviewed_at: string | null
          scope: string | null
          scope_id: string | null
          title: string
        }
        Insert: {
          body_md: string
          category: string
          created_at?: string | null
          governance_mode?: string | null
          id?: string
          owner_user_id: string
          priority: string
          recommended_actions?: Json | null
          related_business_id?: string | null
          review_status?: string | null
          reviewed_at?: string | null
          scope?: string | null
          scope_id?: string | null
          title: string
        }
        Update: {
          body_md?: string
          category?: string
          created_at?: string | null
          governance_mode?: string | null
          id?: string
          owner_user_id?: string
          priority?: string
          recommended_actions?: Json | null
          related_business_id?: string | null
          review_status?: string | null
          reviewed_at?: string | null
          scope?: string | null
          scope_id?: string | null
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_phill_insights_related_business_id_fkey"
            columns: ["related_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_phill_journal_entries: {
        Row: {
          body_md: string
          created_at: string | null
          id: string
          owner_user_id: string
          related_business_id: string | null
          tags: string[] | null
          title: string | null
          updated_at: string | null
        }
        Insert: {
          body_md: string
          created_at?: string | null
          id?: string
          owner_user_id: string
          related_business_id?: string | null
          tags?: string[] | null
          title?: string | null
          updated_at?: string | null
        }
        Update: {
          body_md?: string
          created_at?: string | null
          id?: string
          owner_user_id?: string
          related_business_id?: string | null
          tags?: string[] | null
          title?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_phill_journal_entries_related_business_id_fkey"
            columns: ["related_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_suggestions: {
        Row: {
          applied_at: string | null
          confidence_score: number | null
          created_at: string | null
          dismissed_at: string | null
          id: string
          mindmap_id: string
          node_id: string | null
          reasoning: string | null
          status: string
          suggestion_text: string
          suggestion_type: string
        }
        Insert: {
          applied_at?: string | null
          confidence_score?: number | null
          created_at?: string | null
          dismissed_at?: string | null
          id?: string
          mindmap_id: string
          node_id?: string | null
          reasoning?: string | null
          status?: string
          suggestion_text: string
          suggestion_type: string
        }
        Update: {
          applied_at?: string | null
          confidence_score?: number | null
          created_at?: string | null
          dismissed_at?: string | null
          id?: string
          mindmap_id?: string
          node_id?: string | null
          reasoning?: string | null
          status?: string
          suggestion_text?: string
          suggestion_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_suggestions_mindmap_id_fkey"
            columns: ["mindmap_id"]
            isOneToOne: false
            referencedRelation: "project_mindmaps"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_suggestions_node_id_fkey"
            columns: ["node_id"]
            isOneToOne: false
            referencedRelation: "mindmap_nodes"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_usage_logs: {
        Row: {
          cost_per_input_mtok: number | null
          cost_per_output_mtok: number | null
          cost_usd: number
          created_at: string | null
          endpoint: string | null
          error_code: string | null
          error_message: string | null
          id: string
          latency_ms: number | null
          metadata: Json | null
          model_id: string
          provider: string
          request_id: string | null
          response_size_bytes: number | null
          success: boolean
          task_type: string | null
          tokens_cached: number | null
          tokens_input: number
          tokens_output: number
          tokens_thinking: number | null
          user_id: string | null
          workspace_id: string | null
        }
        Insert: {
          cost_per_input_mtok?: number | null
          cost_per_output_mtok?: number | null
          cost_usd?: number
          created_at?: string | null
          endpoint?: string | null
          error_code?: string | null
          error_message?: string | null
          id?: string
          latency_ms?: number | null
          metadata?: Json | null
          model_id: string
          provider: string
          request_id?: string | null
          response_size_bytes?: number | null
          success?: boolean
          task_type?: string | null
          tokens_cached?: number | null
          tokens_input?: number
          tokens_output?: number
          tokens_thinking?: number | null
          user_id?: string | null
          workspace_id?: string | null
        }
        Update: {
          cost_per_input_mtok?: number | null
          cost_per_output_mtok?: number | null
          cost_usd?: number
          created_at?: string | null
          endpoint?: string | null
          error_code?: string | null
          error_message?: string | null
          id?: string
          latency_ms?: number | null
          metadata?: Json | null
          model_id?: string
          provider?: string
          request_id?: string | null
          response_size_bytes?: number | null
          success?: boolean
          task_type?: string | null
          tokens_cached?: number | null
          tokens_input?: number
          tokens_output?: number
          tokens_thinking?: number | null
          user_id?: string | null
          workspace_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_usage_logs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_workload_policies: {
        Row: {
          created_at: string
          id: string
          monthly_budget_units: number
          priority_rules: Json
          region_id: string | null
          tenant_id: string | null
          updated_at: string
        }
        Insert: {
          created_at?: string
          id?: string
          monthly_budget_units: number
          priority_rules?: Json
          region_id?: string | null
          tenant_id?: string | null
          updated_at?: string
        }
        Update: {
          created_at?: string
          id?: string
          monthly_budget_units?: number
          priority_rules?: Json
          region_id?: string | null
          tenant_id?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_workload_policies_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_workload_policies_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_workload_snapshots: {
        Row: {
          created_at: string
          id: string
          recommendations: Json
          region_id: string | null
          remaining_budget_units: number
          tenant_id: string | null
          usage_breakdown: Json
        }
        Insert: {
          created_at?: string
          id?: string
          recommendations?: Json
          region_id?: string | null
          remaining_budget_units: number
          tenant_id?: string | null
          usage_breakdown: Json
        }
        Update: {
          created_at?: string
          id?: string
          recommendations?: Json
          region_id?: string | null
          remaining_budget_units?: number
          tenant_id?: string | null
          usage_breakdown?: Json
        }
        Relationships: [
          {
            foreignKeyName: "ai_workload_snapshots_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_workload_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      aire_actions_log: {
        Row: {
          action_payload: Json | null
          action_type: string
          created_at: string | null
          error_message: string | null
          id: string
          incident_id: string
          initiated_by: string
          status: string
          tenant_id: string
        }
        Insert: {
          action_payload?: Json | null
          action_type: string
          created_at?: string | null
          error_message?: string | null
          id?: string
          incident_id: string
          initiated_by: string
          status?: string
          tenant_id: string
        }
        Update: {
          action_payload?: Json | null
          action_type?: string
          created_at?: string | null
          error_message?: string | null
          id?: string
          incident_id?: string
          initiated_by?: string
          status?: string
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "aire_actions_log_incident_fk"
            columns: ["incident_id"]
            isOneToOne: false
            referencedRelation: "aire_incidents"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "aire_actions_log_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      aire_incidents: {
        Row: {
          created_at: string | null
          created_by: string | null
          id: string
          linked_event_id: string | null
          linked_forecast_id: string | null
          resolved_at: string | null
          root_cause_hypothesis: string | null
          severity: string
          source: string
          status: string
          summary: string | null
          tenant_id: string
          title: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          created_by?: string | null
          id?: string
          linked_event_id?: string | null
          linked_forecast_id?: string | null
          resolved_at?: string | null
          root_cause_hypothesis?: string | null
          severity?: string
          source: string
          status?: string
          summary?: string | null
          tenant_id: string
          title: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          created_by?: string | null
          id?: string
          linked_event_id?: string | null
          linked_forecast_id?: string | null
          resolved_at?: string | null
          root_cause_hypothesis?: string | null
          severity?: string
          source?: string
          status?: string
          summary?: string | null
          tenant_id?: string
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "aire_incidents_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      aire_runbooks: {
        Row: {
          actions: Json | null
          created_at: string | null
          description: string | null
          enabled: boolean
          id: string
          name: string
          requires_hsoe_approval: boolean
          severity_scope: string
          tenant_id: string
          trigger_conditions: Json | null
          updated_at: string | null
        }
        Insert: {
          actions?: Json | null
          created_at?: string | null
          description?: string | null
          enabled?: boolean
          id?: string
          name: string
          requires_hsoe_approval?: boolean
          severity_scope?: string
          tenant_id: string
          trigger_conditions?: Json | null
          updated_at?: string | null
        }
        Update: {
          actions?: Json | null
          created_at?: string | null
          description?: string | null
          enabled?: boolean
          id?: string
          name?: string
          requires_hsoe_approval?: boolean
          severity_scope?: string
          tenant_id?: string
          trigger_conditions?: Json | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "aire_runbooks_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      alert_anomalies: {
        Row: {
          anomaly_type: string
          composite_score: number
          confidence: number
          contextual_score: number
          created_at: string
          explanation: string | null
          id: string
          severity: string
          statistical_score: number
          timestamp: string
          type: string | null
          value: number
          workspace_id: string
        }
        Insert: {
          anomaly_type: string
          composite_score?: number
          confidence?: number
          contextual_score?: number
          created_at?: string
          explanation?: string | null
          id?: string
          severity: string
          statistical_score?: number
          timestamp: string
          type?: string | null
          value: number
          workspace_id: string
        }
        Update: {
          anomaly_type?: string
          composite_score?: number
          confidence?: number
          contextual_score?: number
          created_at?: string
          explanation?: string | null
          id?: string
          severity?: string
          statistical_score?: number
          timestamp?: string
          type?: string | null
          value?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "alert_anomalies_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      alert_notifications: {
        Row: {
          alert_type: string
          created_at: string | null
          delivery_status: string | null
          error_message: string | null
          id: string
          message: string
          metadata: Json | null
          related_error_id: string | null
          related_health_check_id: string | null
          send_method: string
          sent: boolean | null
          sent_at: string | null
          sent_to: string[]
          severity: string
          title: string
        }
        Insert: {
          alert_type: string
          created_at?: string | null
          delivery_status?: string | null
          error_message?: string | null
          id?: string
          message: string
          metadata?: Json | null
          related_error_id?: string | null
          related_health_check_id?: string | null
          send_method: string
          sent?: boolean | null
          sent_at?: string | null
          sent_to: string[]
          severity: string
          title: string
        }
        Update: {
          alert_type?: string
          created_at?: string | null
          delivery_status?: string | null
          error_message?: string | null
          id?: string
          message?: string
          metadata?: Json | null
          related_error_id?: string | null
          related_health_check_id?: string | null
          send_method?: string
          sent?: boolean | null
          sent_at?: string | null
          sent_to?: string[]
          severity?: string
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "alert_notifications_related_error_id_fkey"
            columns: ["related_error_id"]
            isOneToOne: false
            referencedRelation: "system_errors"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "alert_notifications_related_health_check_id_fkey"
            columns: ["related_health_check_id"]
            isOneToOne: false
            referencedRelation: "system_health_checks"
            referencedColumns: ["id"]
          },
        ]
      }
      alert_predictions: {
        Row: {
          churn_risk: number
          confidence: number
          confidence_lower: number | null
          confidence_upper: number | null
          conversion_probability: number
          created_at: string
          id: string
          lead_id: string
          lead_score: number
          opportunity_factors: string[] | null
          prediction_type: string
          recommended_actions: string[] | null
          risk_factors: string[] | null
          timeline_weeks: number | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          churn_risk?: number
          confidence?: number
          confidence_lower?: number | null
          confidence_upper?: number | null
          conversion_probability?: number
          created_at?: string
          id?: string
          lead_id: string
          lead_score?: number
          opportunity_factors?: string[] | null
          prediction_type: string
          recommended_actions?: string[] | null
          risk_factors?: string[] | null
          timeline_weeks?: number | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          churn_risk?: number
          confidence?: number
          confidence_lower?: number | null
          confidence_upper?: number | null
          conversion_probability?: number
          created_at?: string
          id?: string
          lead_id?: string
          lead_score?: number
          opportunity_factors?: string[] | null
          prediction_type?: string
          recommended_actions?: string[] | null
          risk_factors?: string[] | null
          timeline_weeks?: number | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "alert_predictions_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      alignment_snapshots: {
        Row: {
          alignment_vector: Json
          confidence: number
          created_at: string
          id: string
          misalignment_flags: Json
          overall_alignment: number
          recommendations: Json
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          alignment_vector: Json
          confidence: number
          created_at?: string
          id?: string
          misalignment_flags?: Json
          overall_alignment: number
          recommendations?: Json
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          alignment_vector?: Json
          confidence?: number
          created_at?: string
          id?: string
          misalignment_flags?: Json
          overall_alignment?: number
          recommendations?: Json
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "alignment_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      analysis_reports: {
        Row: {
          anomalies: Json
          approval_status: string
          brand_id: string
          created_at: string | null
          forecast: Json
          forecast_confidence: number
          founder_decision: string | null
          founder_notes: string | null
          founder_reviewed_at: string | null
          id: string
          insights: Json
          kpi_results: Json
          metadata: Json | null
          requires_founder_review: boolean
          risk_level: string
          risk_score: number
          timeframe: string
          total_data_points: number
        }
        Insert: {
          anomalies?: Json
          approval_status?: string
          brand_id: string
          created_at?: string | null
          forecast: Json
          forecast_confidence?: number
          founder_decision?: string | null
          founder_notes?: string | null
          founder_reviewed_at?: string | null
          id?: string
          insights?: Json
          kpi_results: Json
          metadata?: Json | null
          requires_founder_review?: boolean
          risk_level?: string
          risk_score?: number
          timeframe: string
          total_data_points?: number
        }
        Update: {
          anomalies?: Json
          approval_status?: string
          brand_id?: string
          created_at?: string | null
          forecast?: Json
          forecast_confidence?: number
          founder_decision?: string | null
          founder_notes?: string | null
          founder_reviewed_at?: string | null
          id?: string
          insights?: Json
          kpi_results?: Json
          metadata?: Json | null
          requires_founder_review?: boolean
          risk_level?: string
          risk_score?: number
          timeframe?: string
          total_data_points?: number
        }
        Relationships: [
          {
            foreignKeyName: "valid_brand"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brand_metadata"
            referencedColumns: ["brand_id"]
          },
        ]
      }
      anomaly_log: {
        Row: {
          anomaly_type: string
          created_at: string | null
          description: string
          id: string
          impact: string | null
          investigated_at: string | null
          report_id: string
          resolution_notes: string | null
          resolution_status: string | null
          severity: string
          source: string
          threshold: number | null
          value: number | null
        }
        Insert: {
          anomaly_type: string
          created_at?: string | null
          description: string
          id?: string
          impact?: string | null
          investigated_at?: string | null
          report_id: string
          resolution_notes?: string | null
          resolution_status?: string | null
          severity: string
          source: string
          threshold?: number | null
          value?: number | null
        }
        Update: {
          anomaly_type?: string
          created_at?: string | null
          description?: string
          id?: string
          impact?: string | null
          investigated_at?: string | null
          report_id?: string
          resolution_notes?: string | null
          resolution_status?: string | null
          severity?: string
          source?: string
          threshold?: number | null
          value?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "anomaly_log_report_id_fkey"
            columns: ["report_id"]
            isOneToOne: false
            referencedRelation: "analysis_reports"
            referencedColumns: ["id"]
          },
        ]
      }
      approvals: {
        Row: {
          created_at: string | null
          deliverable_id: string | null
          description: string | null
          feedback: string | null
          id: string
          org_id: string
          requested_by: string | null
          reviewed_at: string | null
          reviewed_by: string | null
          status: string
          title: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          deliverable_id?: string | null
          description?: string | null
          feedback?: string | null
          id?: string
          org_id: string
          requested_by?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          status?: string
          title: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          deliverable_id?: string | null
          description?: string | null
          feedback?: string | null
          id?: string
          org_id?: string
          requested_by?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          status?: string
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "approvals_deliverable_id_fkey"
            columns: ["deliverable_id"]
            isOneToOne: false
            referencedRelation: "deliverables"
            referencedColumns: ["id"]
          },
        ]
      }
      arbitration_events: {
        Row: {
          analysis: Json
          confidence: number
          conflict_sources: Json
          created_at: string
          id: string
          resolution: Json
          status: string
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          analysis: Json
          confidence: number
          conflict_sources: Json
          created_at?: string
          id?: string
          resolution: Json
          status?: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          analysis?: Json
          confidence?: number
          conflict_sources?: Json
          created_at?: string
          id?: string
          resolution?: Json
          status?: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "arbitration_events_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      asrs_block_log: {
        Row: {
          block_reason: string
          created_at: string | null
          escalated_to: string | null
          event_id: string
          id: string
          risk_score_at_block: number
          rule_id: string | null
        }
        Insert: {
          block_reason: string
          created_at?: string | null
          escalated_to?: string | null
          event_id: string
          id?: string
          risk_score_at_block: number
          rule_id?: string | null
        }
        Update: {
          block_reason?: string
          created_at?: string | null
          escalated_to?: string | null
          event_id?: string
          id?: string
          risk_score_at_block?: number
          rule_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "asrs_block_log_event_fk"
            columns: ["event_id"]
            isOneToOne: false
            referencedRelation: "asrs_events"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "asrs_block_log_rule_fk"
            columns: ["rule_id"]
            isOneToOne: false
            referencedRelation: "asrs_policy_rules"
            referencedColumns: ["id"]
          },
        ]
      }
      asrs_events: {
        Row: {
          action_type: string
          created_at: string | null
          id: string
          outcome: string
          payload: Json | null
          risk_score: number
          source: string
          tenant_id: string
        }
        Insert: {
          action_type: string
          created_at?: string | null
          id?: string
          outcome?: string
          payload?: Json | null
          risk_score?: number
          source: string
          tenant_id: string
        }
        Update: {
          action_type?: string
          created_at?: string | null
          id?: string
          outcome?: string
          payload?: Json | null
          risk_score?: number
          source?: string
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "asrs_events_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      asrs_policy_rules: {
        Row: {
          action_on_match: string
          condition_type: string
          condition_value: Json | null
          created_at: string | null
          id: string
          is_active: boolean
          priority: number
          rule_name: string
          tenant_id: string
          updated_at: string | null
        }
        Insert: {
          action_on_match?: string
          condition_type: string
          condition_value?: Json | null
          created_at?: string | null
          id?: string
          is_active?: boolean
          priority?: number
          rule_name: string
          tenant_id: string
          updated_at?: string | null
        }
        Update: {
          action_on_match?: string
          condition_type?: string
          condition_value?: Json | null
          created_at?: string | null
          id?: string
          is_active?: boolean
          priority?: number
          rule_name?: string
          tenant_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "asrs_policy_rules_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      atemrde_expansion_requests: {
        Row: {
          completed_at: string | null
          configuration: Json | null
          created_at: string | null
          expansion_type: string
          id: string
          status: string
          target_region: string | null
          tenant_id: string
        }
        Insert: {
          completed_at?: string | null
          configuration?: Json | null
          created_at?: string | null
          expansion_type: string
          id?: string
          status?: string
          target_region?: string | null
          tenant_id: string
        }
        Update: {
          completed_at?: string | null
          configuration?: Json | null
          created_at?: string | null
          expansion_type?: string
          id?: string
          status?: string
          target_region?: string | null
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "atemrde_expansion_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      atemrde_provisioning_log: {
        Row: {
          created_at: string | null
          details: Json | null
          id: string
          request_id: string
          status: string
          step_name: string
        }
        Insert: {
          created_at?: string | null
          details?: Json | null
          id?: string
          request_id: string
          status?: string
          step_name: string
        }
        Update: {
          created_at?: string | null
          details?: Json | null
          id?: string
          request_id?: string
          status?: string
          step_name?: string
        }
        Relationships: [
          {
            foreignKeyName: "atemrde_provisioning_request_fk"
            columns: ["request_id"]
            isOneToOne: false
            referencedRelation: "atemrde_expansion_requests"
            referencedColumns: ["id"]
          },
        ]
      }
      audit_events: {
        Row: {
          action: string
          created_at: string | null
          event_category: string
          event_type: string
          id: string
          ip_address: string | null
          metadata: Json | null
          new_value: Json | null
          old_value: Json | null
          org_id: string
          resource_id: string | null
          resource_type: string | null
          session_id: string | null
          severity: string | null
          user_agent: string | null
          user_id: string | null
          workspace_id: string | null
        }
        Insert: {
          action: string
          created_at?: string | null
          event_category: string
          event_type: string
          id?: string
          ip_address?: string | null
          metadata?: Json | null
          new_value?: Json | null
          old_value?: Json | null
          org_id: string
          resource_id?: string | null
          resource_type?: string | null
          session_id?: string | null
          severity?: string | null
          user_agent?: string | null
          user_id?: string | null
          workspace_id?: string | null
        }
        Update: {
          action?: string
          created_at?: string | null
          event_category?: string
          event_type?: string
          id?: string
          ip_address?: string | null
          metadata?: Json | null
          new_value?: Json | null
          old_value?: Json | null
          org_id?: string
          resource_id?: string | null
          resource_type?: string | null
          session_id?: string | null
          severity?: string | null
          user_agent?: string | null
          user_id?: string | null
          workspace_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "audit_events_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "audit_events_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      audit_logs: {
        Row: {
          action: string
          agent: string | null
          category: string | null
          created_at: string | null
          created_by: string | null
          details: Json | null
          duration_ms: number | null
          error_message: string | null
          id: string
          ip_address: string | null
          org_id: string
          resource: string | null
          resource_id: string | null
          severity: string | null
          status: string | null
          success: boolean | null
          user_agent: string | null
        }
        Insert: {
          action: string
          agent?: string | null
          category?: string | null
          created_at?: string | null
          created_by?: string | null
          details?: Json | null
          duration_ms?: number | null
          error_message?: string | null
          id?: string
          ip_address?: string | null
          org_id: string
          resource?: string | null
          resource_id?: string | null
          severity?: string | null
          status?: string | null
          success?: boolean | null
          user_agent?: string | null
        }
        Update: {
          action?: string
          agent?: string | null
          category?: string | null
          created_at?: string | null
          created_by?: string | null
          details?: Json | null
          duration_ms?: number | null
          error_message?: string | null
          id?: string
          ip_address?: string | null
          org_id?: string
          resource?: string | null
          resource_id?: string | null
          severity?: string | null
          status?: string | null
          success?: boolean | null
          user_agent?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "audit_logs_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      auto_curriculum_jobs: {
        Row: {
          analysis: Json | null
          brand_id: string
          course_ids: Json | null
          created_at: string | null
          generated_at: string | null
          id: string
          org_id: string
          recommendations: Json | null
          status: string
        }
        Insert: {
          analysis?: Json | null
          brand_id: string
          course_ids?: Json | null
          created_at?: string | null
          generated_at?: string | null
          id?: string
          org_id: string
          recommendations?: Json | null
          status?: string
        }
        Update: {
          analysis?: Json | null
          brand_id?: string
          course_ids?: Json | null
          created_at?: string | null
          generated_at?: string | null
          id?: string
          org_id?: string
          recommendations?: Json | null
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "auto_curriculum_jobs_brand_fk"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brands"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "auto_curriculum_jobs_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      auto_generation_jobs: {
        Row: {
          category: string
          created_at: string | null
          id: string
          org_id: string
          requested_by_agent: string
          status: string
          trigger_reason: string
          updated_at: string | null
          use_case: string
        }
        Insert: {
          category: string
          created_at?: string | null
          id?: string
          org_id: string
          requested_by_agent: string
          status?: string
          trigger_reason: string
          updated_at?: string | null
          use_case: string
        }
        Update: {
          category?: string
          created_at?: string | null
          id?: string
          org_id?: string
          requested_by_agent?: string
          status?: string
          trigger_reason?: string
          updated_at?: string | null
          use_case?: string
        }
        Relationships: [
          {
            foreignKeyName: "auto_generation_jobs_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      automation_executions: {
        Row: {
          actions_executed: Json | null
          completed_at: string | null
          created_at: string | null
          error_message: string | null
          id: string
          org_id: string
          rule_id: string
          status: string
          token_cost: number
          trigger_event: Json
        }
        Insert: {
          actions_executed?: Json | null
          completed_at?: string | null
          created_at?: string | null
          error_message?: string | null
          id?: string
          org_id: string
          rule_id: string
          status?: string
          token_cost?: number
          trigger_event: Json
        }
        Update: {
          actions_executed?: Json | null
          completed_at?: string | null
          created_at?: string | null
          error_message?: string | null
          id?: string
          org_id?: string
          rule_id?: string
          status?: string
          token_cost?: number
          trigger_event?: Json
        }
        Relationships: [
          {
            foreignKeyName: "automation_executions_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "automation_executions_rule_fk"
            columns: ["rule_id"]
            isOneToOne: false
            referencedRelation: "automation_rules"
            referencedColumns: ["id"]
          },
        ]
      }
      automation_matrix: {
        Row: {
          created_at: string | null
          id: string
          matrix_position: Json
          metadata: Json | null
          node_type: string
          org_id: string
          rule_id: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          matrix_position: Json
          metadata?: Json | null
          node_type: string
          org_id: string
          rule_id: string
        }
        Update: {
          created_at?: string | null
          id?: string
          matrix_position?: Json
          metadata?: Json | null
          node_type?: string
          org_id?: string
          rule_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "automation_matrix_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "automation_matrix_rule_fk"
            columns: ["rule_id"]
            isOneToOne: false
            referencedRelation: "automation_rules"
            referencedColumns: ["id"]
          },
        ]
      }
      automation_rules: {
        Row: {
          actions: Json
          conditions: Json | null
          created_at: string | null
          description: string | null
          enabled: boolean
          id: string
          name: string
          org_id: string
          trigger: Json
          updated_at: string | null
        }
        Insert: {
          actions: Json
          conditions?: Json | null
          created_at?: string | null
          description?: string | null
          enabled?: boolean
          id?: string
          name: string
          org_id: string
          trigger: Json
          updated_at?: string | null
        }
        Update: {
          actions?: Json
          conditions?: Json | null
          created_at?: string | null
          description?: string | null
          enabled?: boolean
          id?: string
          name?: string
          org_id?: string
          trigger?: Json
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "automation_rules_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      autonomous_adjustments: {
        Row: {
          adjustment_type: string
          after_state: Json | null
          before_state: Json | null
          completed_at: string | null
          confidence: number
          created_at: string
          id: string
          risk_level: string
          safety_checks_passed: Json
          status: string
          target_entity: string
          task_id: string | null
          tenant_id: string | null
          uncertainty_notes: string | null
          vetoed_by: string | null
        }
        Insert: {
          adjustment_type: string
          after_state?: Json | null
          before_state?: Json | null
          completed_at?: string | null
          confidence: number
          created_at?: string
          id?: string
          risk_level?: string
          safety_checks_passed?: Json
          status?: string
          target_entity: string
          task_id?: string | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
          vetoed_by?: string | null
        }
        Update: {
          adjustment_type?: string
          after_state?: Json | null
          before_state?: Json | null
          completed_at?: string | null
          confidence?: number
          created_at?: string
          id?: string
          risk_level?: string
          safety_checks_passed?: Json
          status?: string
          target_entity?: string
          task_id?: string | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
          vetoed_by?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "autonomous_adjustments_task_id_fkey"
            columns: ["task_id"]
            isOneToOne: false
            referencedRelation: "evolution_tasks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "autonomous_adjustments_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      autonomous_tasks: {
        Row: {
          agent_name: string | null
          completed_at: string | null
          cost_estimate_usd: number | null
          created_at: string | null
          duration_ms: number | null
          error_message: string | null
          executed_at: string
          id: string
          input_data: Json | null
          output_data: Json | null
          status: string
          task_type: string
          triggered_by: string | null
          updated_at: string | null
          workspace_id: string | null
        }
        Insert: {
          agent_name?: string | null
          completed_at?: string | null
          cost_estimate_usd?: number | null
          created_at?: string | null
          duration_ms?: number | null
          error_message?: string | null
          executed_at: string
          id?: string
          input_data?: Json | null
          output_data?: Json | null
          status: string
          task_type: string
          triggered_by?: string | null
          updated_at?: string | null
          workspace_id?: string | null
        }
        Update: {
          agent_name?: string | null
          completed_at?: string | null
          cost_estimate_usd?: number | null
          created_at?: string | null
          duration_ms?: number | null
          error_message?: string | null
          executed_at?: string
          id?: string
          input_data?: Json | null
          output_data?: Json | null
          status?: string
          task_type?: string
          triggered_by?: string | null
          updated_at?: string | null
          workspace_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "autonomous_tasks_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      autonomy_calibration_cycles: {
        Row: {
          analysis_end_time: string
          analysis_start_time: string
          approval_notes: string | null
          approved_at: string | null
          approved_by: string | null
          change_rationale: string | null
          confidence_score: number | null
          created_at: string
          created_by: string | null
          cycle_number: number
          executed: boolean | null
          executed_at: string | null
          findings: Json | null
          id: string
          lookback_hours: number
          metrics_analyzed: Json | null
          proposed_changes: Json
          requires_approval: boolean | null
          results: Json | null
          rollback_available: boolean | null
          status: string
          updated_at: string
          workspace_id: string
        }
        Insert: {
          analysis_end_time: string
          analysis_start_time: string
          approval_notes?: string | null
          approved_at?: string | null
          approved_by?: string | null
          change_rationale?: string | null
          confidence_score?: number | null
          created_at?: string
          created_by?: string | null
          cycle_number: number
          executed?: boolean | null
          executed_at?: string | null
          findings?: Json | null
          id?: string
          lookback_hours?: number
          metrics_analyzed?: Json | null
          proposed_changes?: Json
          requires_approval?: boolean | null
          results?: Json | null
          rollback_available?: boolean | null
          status?: string
          updated_at?: string
          workspace_id: string
        }
        Update: {
          analysis_end_time?: string
          analysis_start_time?: string
          approval_notes?: string | null
          approved_at?: string | null
          approved_by?: string | null
          change_rationale?: string | null
          confidence_score?: number | null
          created_at?: string
          created_by?: string | null
          cycle_number?: number
          executed?: boolean | null
          executed_at?: string | null
          findings?: Json | null
          id?: string
          lookback_hours?: number
          metrics_analyzed?: Json | null
          proposed_changes?: Json
          requires_approval?: boolean | null
          results?: Json | null
          rollback_available?: boolean | null
          status?: string
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "autonomy_calibration_cycles_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      autonomy_calibration_metrics: {
        Row: {
          agent_name: string | null
          created_at: string
          details: Json | null
          id: string
          measured_at: string
          measurement_period_hours: number
          metric_type: string
          metric_value: number
          workflow_type: string | null
          workspace_id: string
        }
        Insert: {
          agent_name?: string | null
          created_at?: string
          details?: Json | null
          id?: string
          measured_at?: string
          measurement_period_hours?: number
          metric_type: string
          metric_value: number
          workflow_type?: string | null
          workspace_id: string
        }
        Update: {
          agent_name?: string | null
          created_at?: string
          details?: Json | null
          id?: string
          measured_at?: string
          measurement_period_hours?: number
          metric_type?: string
          metric_value?: number
          workflow_type?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "autonomy_calibration_metrics_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      autonomy_calibration_parameters: {
        Row: {
          applied_at: string
          baseline_value: number
          calibration_cycle_id: string | null
          confidence_score: number | null
          created_at: string
          current_value: number
          id: string
          improvement_trend: number | null
          max_value: number
          min_value: number
          next_review_at: string | null
          parameter_category: string
          parameter_name: string
          times_applied: number | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          applied_at?: string
          baseline_value: number
          calibration_cycle_id?: string | null
          confidence_score?: number | null
          created_at?: string
          current_value: number
          id?: string
          improvement_trend?: number | null
          max_value: number
          min_value: number
          next_review_at?: string | null
          parameter_category: string
          parameter_name: string
          times_applied?: number | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          applied_at?: string
          baseline_value?: number
          calibration_cycle_id?: string | null
          confidence_score?: number | null
          created_at?: string
          current_value?: number
          id?: string
          improvement_trend?: number | null
          max_value?: number
          min_value?: number
          next_review_at?: string | null
          parameter_category?: string
          parameter_name?: string
          times_applied?: number | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "autonomy_calibration_parameters_calibration_cycle_id_fkey"
            columns: ["calibration_cycle_id"]
            isOneToOne: false
            referencedRelation: "autonomy_calibration_cycles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "autonomy_calibration_parameters_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      autonomy_tuning_results: {
        Row: {
          adjustments_applied: Json
          agent_weights: Json
          calibration_cycle_id: string
          confidence_score: number | null
          created_at: string
          explainability_notes: string | null
          id: string
          orchestration_schedule: Json
          parameters_locked: boolean | null
          reasoning_depth_allocation: Json
          risk_weights: Json
          tuning_id: string
          uncertainty_scaling: number
          updated_at: string
          workspace_id: string
        }
        Insert: {
          adjustments_applied?: Json
          agent_weights?: Json
          calibration_cycle_id: string
          confidence_score?: number | null
          created_at?: string
          explainability_notes?: string | null
          id?: string
          orchestration_schedule?: Json
          parameters_locked?: boolean | null
          reasoning_depth_allocation?: Json
          risk_weights?: Json
          tuning_id: string
          uncertainty_scaling: number
          updated_at?: string
          workspace_id: string
        }
        Update: {
          adjustments_applied?: Json
          agent_weights?: Json
          calibration_cycle_id?: string
          confidence_score?: number | null
          created_at?: string
          explainability_notes?: string | null
          id?: string
          orchestration_schedule?: Json
          parameters_locked?: boolean | null
          reasoning_depth_allocation?: Json
          risk_weights?: Json
          tuning_id?: string
          uncertainty_scaling?: number
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "autonomy_tuning_results_calibration_cycle_id_fkey"
            columns: ["calibration_cycle_id"]
            isOneToOne: false
            referencedRelation: "autonomy_calibration_cycles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "autonomy_tuning_results_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      autopilot_actions: {
        Row: {
          action_type: string
          category: string
          client_id: string | null
          created_at: string
          description: string | null
          effort_estimate: number
          executed_at: string | null
          executed_by: string | null
          execution_result: Json | null
          id: string
          impact_estimate: number
          metadata: Json
          payload: Json
          playbook_id: string
          priority_score: number
          risk_class: string
          source_engine: string
          state: string
          tenant_id: string | null
          title: string
          truth_notes: string | null
          workspace_id: string
        }
        Insert: {
          action_type: string
          category: string
          client_id?: string | null
          created_at?: string
          description?: string | null
          effort_estimate?: number
          executed_at?: string | null
          executed_by?: string | null
          execution_result?: Json | null
          id?: string
          impact_estimate?: number
          metadata?: Json
          payload?: Json
          playbook_id: string
          priority_score?: number
          risk_class?: string
          source_engine: string
          state?: string
          tenant_id?: string | null
          title: string
          truth_notes?: string | null
          workspace_id: string
        }
        Update: {
          action_type?: string
          category?: string
          client_id?: string | null
          created_at?: string
          description?: string | null
          effort_estimate?: number
          executed_at?: string | null
          executed_by?: string | null
          execution_result?: Json | null
          id?: string
          impact_estimate?: number
          metadata?: Json
          payload?: Json
          playbook_id?: string
          priority_score?: number
          risk_class?: string
          source_engine?: string
          state?: string
          tenant_id?: string | null
          title?: string
          truth_notes?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "autopilot_actions_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "autopilot_actions_playbook_id_fkey"
            columns: ["playbook_id"]
            isOneToOne: false
            referencedRelation: "autopilot_playbooks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "autopilot_actions_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      autopilot_playbooks: {
        Row: {
          auto_executed: number
          awaiting_approval: number
          completed: number
          created_at: string
          id: string
          meta_scores: Json
          metadata: Json
          period_end: string
          period_start: string
          status: string
          summary_markdown: string
          tenant_id: string | null
          total_actions: number
          truth_complete: boolean
          truth_notes: string | null
          workspace_id: string
        }
        Insert: {
          auto_executed?: number
          awaiting_approval?: number
          completed?: number
          created_at?: string
          id?: string
          meta_scores?: Json
          metadata?: Json
          period_end: string
          period_start: string
          status?: string
          summary_markdown: string
          tenant_id?: string | null
          total_actions?: number
          truth_complete?: boolean
          truth_notes?: string | null
          workspace_id: string
        }
        Update: {
          auto_executed?: number
          awaiting_approval?: number
          completed?: number
          created_at?: string
          id?: string
          meta_scores?: Json
          metadata?: Json
          period_end?: string
          period_start?: string
          status?: string
          summary_markdown?: string
          tenant_id?: string | null
          total_actions?: number
          truth_complete?: boolean
          truth_notes?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "autopilot_playbooks_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      autopilot_preferences: {
        Row: {
          automation_profile: string
          created_at: string
          domain_levels: Json
          founder_user_id: string
          id: string
          metadata: Json
          schedule_prefs: Json
          tenant_id: string | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          automation_profile?: string
          created_at?: string
          domain_levels?: Json
          founder_user_id: string
          id?: string
          metadata?: Json
          schedule_prefs?: Json
          tenant_id?: string | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          automation_profile?: string
          created_at?: string
          domain_levels?: Json
          founder_user_id?: string
          id?: string
          metadata?: Json
          schedule_prefs?: Json
          tenant_id?: string | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "autopilot_preferences_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      award_badges: {
        Row: {
          badge_type: string
          brand_id: string | null
          certificate_url: string | null
          criteria_met: Json | null
          generated_at: string | null
          id: string
          org_id: string
          score: number
          year: number
        }
        Insert: {
          badge_type: string
          brand_id?: string | null
          certificate_url?: string | null
          criteria_met?: Json | null
          generated_at?: string | null
          id?: string
          org_id: string
          score?: number
          year: number
        }
        Update: {
          badge_type?: string
          brand_id?: string | null
          certificate_url?: string | null
          criteria_met?: Json | null
          generated_at?: string | null
          id?: string
          org_id?: string
          score?: number
          year?: number
        }
        Relationships: [
          {
            foreignKeyName: "award_badges_brand_fk"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brands"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "award_badges_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      award_eligibility_rules: {
        Row: {
          active: boolean
          badge_type: string
          created_at: string | null
          criteria: Json
          id: string
          min_score: number
        }
        Insert: {
          active?: boolean
          badge_type: string
          created_at?: string | null
          criteria: Json
          id?: string
          min_score?: number
        }
        Update: {
          active?: boolean
          badge_type?: string
          created_at?: string | null
          criteria?: Json
          id?: string
          min_score?: number
        }
        Relationships: []
      }
      backlink_gap_analysis: {
        Row: {
          analyzed_at: string
          avg_competitor_backlinks: number | null
          avg_competitor_domain_authority: number | null
          avg_competitor_referring_domains: number | null
          client_backlinks: number | null
          client_domain: string
          client_domain_authority: number | null
          client_referring_domains: number | null
          client_toxic_links: number | null
          common_link_sources: Json | null
          competitor_domain: string | null
          created_at: string
          easy_win_opportunities: Json | null
          founder_business_id: string | null
          gaps: Json | null
          high_value_opportunities: Json | null
          id: string
          link_gap_domains: Json | null
          toxic_link_details: Json | null
          workspace_id: string
        }
        Insert: {
          analyzed_at?: string
          avg_competitor_backlinks?: number | null
          avg_competitor_domain_authority?: number | null
          avg_competitor_referring_domains?: number | null
          client_backlinks?: number | null
          client_domain: string
          client_domain_authority?: number | null
          client_referring_domains?: number | null
          client_toxic_links?: number | null
          common_link_sources?: Json | null
          competitor_domain?: string | null
          created_at?: string
          easy_win_opportunities?: Json | null
          founder_business_id?: string | null
          gaps?: Json | null
          high_value_opportunities?: Json | null
          id?: string
          link_gap_domains?: Json | null
          toxic_link_details?: Json | null
          workspace_id: string
        }
        Update: {
          analyzed_at?: string
          avg_competitor_backlinks?: number | null
          avg_competitor_domain_authority?: number | null
          avg_competitor_referring_domains?: number | null
          client_backlinks?: number | null
          client_domain?: string
          client_domain_authority?: number | null
          client_referring_domains?: number | null
          client_toxic_links?: number | null
          common_link_sources?: Json | null
          competitor_domain?: string | null
          created_at?: string
          easy_win_opportunities?: Json | null
          founder_business_id?: string | null
          gaps?: Json | null
          high_value_opportunities?: Json | null
          id?: string
          link_gap_domains?: Json | null
          toxic_link_details?: Json | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "backlink_gap_analysis_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      behaviour_events: {
        Row: {
          created_at: string | null
          event_type: string
          id: string
          metadata: Json | null
          org_id: string
          token_cost: number
          user_id: string | null
        }
        Insert: {
          created_at?: string | null
          event_type: string
          id?: string
          metadata?: Json | null
          org_id: string
          token_cost?: number
          user_id?: string | null
        }
        Update: {
          created_at?: string | null
          event_type?: string
          id?: string
          metadata?: Json | null
          org_id?: string
          token_cost?: number
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "behaviour_events_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      behaviour_insights: {
        Row: {
          created_at: string | null
          id: string
          insight_type: string
          org_id: string
          recommendation: Json | null
          weight: number
        }
        Insert: {
          created_at?: string | null
          id?: string
          insight_type: string
          org_id: string
          recommendation?: Json | null
          weight?: number
        }
        Update: {
          created_at?: string | null
          id?: string
          insight_type?: string
          org_id?: string
          recommendation?: Json | null
          weight?: number
        }
        Relationships: [
          {
            foreignKeyName: "behaviour_insights_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      benchmark_bands: {
        Row: {
          cohort_id: string
          confidence: number
          created_at: string
          id: string
          is_valid: boolean
          metric_type: string
          min_sample_required: number
          percentile_10: number | null
          percentile_25: number | null
          percentile_50: number | null
          percentile_75: number | null
          percentile_90: number | null
          sample_size: number
          uncertainty_notes: string | null
          updated_at: string
        }
        Insert: {
          cohort_id: string
          confidence: number
          created_at?: string
          id?: string
          is_valid?: boolean
          metric_type: string
          min_sample_required?: number
          percentile_10?: number | null
          percentile_25?: number | null
          percentile_50?: number | null
          percentile_75?: number | null
          percentile_90?: number | null
          sample_size: number
          uncertainty_notes?: string | null
          updated_at?: string
        }
        Update: {
          cohort_id?: string
          confidence?: number
          created_at?: string
          id?: string
          is_valid?: boolean
          metric_type?: string
          min_sample_required?: number
          percentile_10?: number | null
          percentile_25?: number | null
          percentile_50?: number | null
          percentile_75?: number | null
          percentile_90?: number | null
          sample_size?: number
          uncertainty_notes?: string | null
          updated_at?: string
        }
        Relationships: []
      }
      benchmark_dimensions: {
        Row: {
          created_at: string | null
          description: string
          dimension_key: string
          higher_is_better: boolean
          id: string
          unit: string
        }
        Insert: {
          created_at?: string | null
          description: string
          dimension_key: string
          higher_is_better?: boolean
          id?: string
          unit?: string
        }
        Update: {
          created_at?: string | null
          description?: string
          dimension_key?: string
          higher_is_better?: boolean
          id?: string
          unit?: string
        }
        Relationships: []
      }
      benchmarks: {
        Row: {
          created_at: string | null
          dimension_id: string
          id: string
          industry: string | null
          org_id: string
          period: string
          value: number
        }
        Insert: {
          created_at?: string | null
          dimension_id: string
          id?: string
          industry?: string | null
          org_id: string
          period: string
          value: number
        }
        Update: {
          created_at?: string | null
          dimension_id?: string
          id?: string
          industry?: string | null
          org_id?: string
          period?: string
          value?: number
        }
        Relationships: [
          {
            foreignKeyName: "benchmarks_dimension_fk"
            columns: ["dimension_id"]
            isOneToOne: false
            referencedRelation: "benchmark_dimensions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "benchmarks_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      billing_events: {
        Row: {
          amount_aud: number
          created_at: string | null
          description: string | null
          event_type: string
          id: string
          metadata: Json | null
          org_id: string
          stripe_event_id: string | null
        }
        Insert: {
          amount_aud?: number
          created_at?: string | null
          description?: string | null
          event_type: string
          id?: string
          metadata?: Json | null
          org_id: string
          stripe_event_id?: string | null
        }
        Update: {
          amount_aud?: number
          created_at?: string | null
          description?: string | null
          event_type?: string
          id?: string
          metadata?: Json | null
          org_id?: string
          stripe_event_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "billing_events_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      black_box_logs: {
        Row: {
          agent_name: string
          confidence: number
          context: Json
          created_at: string
          decision_type: string
          id: string
          inputs: Json
          outputs: Json
          reasoning: string | null
          tenant_id: string | null
        }
        Insert: {
          agent_name: string
          confidence?: number
          context: Json
          created_at?: string
          decision_type: string
          id?: string
          inputs: Json
          outputs: Json
          reasoning?: string | null
          tenant_id?: string | null
        }
        Update: {
          agent_name?: string
          confidence?: number
          context?: Json
          created_at?: string
          decision_type?: string
          id?: string
          inputs?: Json
          outputs?: Json
          reasoning?: string | null
          tenant_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "black_box_logs_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      blocked_ips: {
        Row: {
          blocked_by: string | null
          blocked_until: string | null
          created_at: string
          id: string
          ip_address: unknown
          reason: string
        }
        Insert: {
          blocked_by?: string | null
          blocked_until?: string | null
          created_at?: string
          id?: string
          ip_address: unknown
          reason: string
        }
        Update: {
          blocked_by?: string | null
          blocked_until?: string | null
          created_at?: string
          id?: string
          ip_address?: unknown
          reason?: string
        }
        Relationships: []
      }
      blue_ocean_strategies: {
        Row: {
          business_id: string | null
          client_id: string | null
          competitive_factors: Json | null
          create_items: string[] | null
          created_at: string | null
          description: string
          eliminate: string[] | null
          id: string
          opportunities: Json | null
          raise: string[] | null
          reduce: string[] | null
          strategic_canvas: Json | null
          title: string
        }
        Insert: {
          business_id?: string | null
          client_id?: string | null
          competitive_factors?: Json | null
          create_items?: string[] | null
          created_at?: string | null
          description: string
          eliminate?: string[] | null
          id?: string
          opportunities?: Json | null
          raise?: string[] | null
          reduce?: string[] | null
          strategic_canvas?: Json | null
          title: string
        }
        Update: {
          business_id?: string | null
          client_id?: string | null
          competitive_factors?: Json | null
          create_items?: string[] | null
          created_at?: string | null
          description?: string
          eliminate?: string[] | null
          id?: string
          opportunities?: Json | null
          raise?: string[] | null
          reduce?: string[] | null
          strategic_canvas?: Json | null
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "blue_ocean_strategies_business_id_fkey"
            columns: ["business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "blue_ocean_strategies_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      board_strategy_reports: {
        Row: {
          budget_recommendations: Json | null
          competitor_breakdown: Json | null
          created_at: string | null
          executive_summary: string | null
          forecast_highlights: Json | null
          hiring_plan: Json | null
          id: string
          org_id: string
          pdf_url: string | null
          report_period: string
          risk_matrix: Json | null
          status: string
          updated_at: string | null
        }
        Insert: {
          budget_recommendations?: Json | null
          competitor_breakdown?: Json | null
          created_at?: string | null
          executive_summary?: string | null
          forecast_highlights?: Json | null
          hiring_plan?: Json | null
          id?: string
          org_id: string
          pdf_url?: string | null
          report_period: string
          risk_matrix?: Json | null
          status?: string
          updated_at?: string | null
        }
        Update: {
          budget_recommendations?: Json | null
          competitor_breakdown?: Json | null
          created_at?: string | null
          executive_summary?: string | null
          forecast_highlights?: Json | null
          hiring_plan?: Json | null
          id?: string
          org_id?: string
          pdf_url?: string | null
          report_period?: string
          risk_matrix?: Json | null
          status?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "board_strategy_reports_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      boost_jobs: {
        Row: {
          boost_type: string | null
          boosts_remaining: number | null
          client_id: string | null
          created_at: string | null
          executed_at: string | null
          founder_business_id: string | null
          geo_target: string | null
          id: string
          keyword_primary: string
          keyword_secondary: string | null
          scheduled_at: string | null
          status: string | null
          url: string
        }
        Insert: {
          boost_type?: string | null
          boosts_remaining?: number | null
          client_id?: string | null
          created_at?: string | null
          executed_at?: string | null
          founder_business_id?: string | null
          geo_target?: string | null
          id?: string
          keyword_primary: string
          keyword_secondary?: string | null
          scheduled_at?: string | null
          status?: string | null
          url: string
        }
        Update: {
          boost_type?: string | null
          boosts_remaining?: number | null
          client_id?: string | null
          created_at?: string | null
          executed_at?: string | null
          founder_business_id?: string | null
          geo_target?: string | null
          id?: string
          keyword_primary?: string
          keyword_secondary?: string | null
          scheduled_at?: string | null
          status?: string | null
          url?: string
        }
        Relationships: [
          {
            foreignKeyName: "boost_jobs_founder_business_id_fkey"
            columns: ["founder_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      boost_results: {
        Row: {
          after_rank: number | null
          before_rank: number | null
          boost_job_id: string
          ctr_delta: number | null
          dwell_time_delta_seconds: number | null
          executed_at: string | null
          geo_score: number | null
          id: string
          notes: string | null
          rank_change: number | null
          video_impression_delta: number | null
          volatility_score: number | null
        }
        Insert: {
          after_rank?: number | null
          before_rank?: number | null
          boost_job_id: string
          ctr_delta?: number | null
          dwell_time_delta_seconds?: number | null
          executed_at?: string | null
          geo_score?: number | null
          id?: string
          notes?: string | null
          rank_change?: number | null
          video_impression_delta?: number | null
          volatility_score?: number | null
        }
        Update: {
          after_rank?: number | null
          before_rank?: number | null
          boost_job_id?: string
          ctr_delta?: number | null
          dwell_time_delta_seconds?: number | null
          executed_at?: string | null
          geo_score?: number | null
          id?: string
          notes?: string | null
          rank_change?: number | null
          video_impression_delta?: number | null
          volatility_score?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "boost_results_boost_job_id_fkey"
            columns: ["boost_job_id"]
            isOneToOne: false
            referencedRelation: "boost_jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      boundary_crossing_logs: {
        Row: {
          classification: string
          confidence: number
          created_at: string
          id: string
          intel_type: string
          source_tenant_id: string
          target_scope: string
          uncertainty_notes: string | null
          validation_errors: Json | null
          validation_passed: boolean
          was_anonymised: boolean
        }
        Insert: {
          classification: string
          confidence: number
          created_at?: string
          id?: string
          intel_type: string
          source_tenant_id: string
          target_scope: string
          uncertainty_notes?: string | null
          validation_errors?: Json | null
          validation_passed: boolean
          was_anonymised: boolean
        }
        Update: {
          classification?: string
          confidence?: number
          created_at?: string
          id?: string
          intel_type?: string
          source_tenant_id?: string
          target_scope?: string
          uncertainty_notes?: string | null
          validation_errors?: Json | null
          validation_passed?: boolean
          was_anonymised?: boolean
        }
        Relationships: []
      }
      brand_cross_linking_rules: {
        Row: {
          context: string
          created_at: string | null
          frequency: string
          from_brand_id: string
          id: string
          rule: string
          to_brand_id: string
          updated_at: string | null
        }
        Insert: {
          context: string
          created_at?: string | null
          frequency?: string
          from_brand_id: string
          id?: string
          rule: string
          to_brand_id: string
          updated_at?: string | null
        }
        Update: {
          context?: string
          created_at?: string | null
          frequency?: string
          from_brand_id?: string
          id?: string
          rule?: string
          to_brand_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "valid_from_brand"
            columns: ["from_brand_id"]
            isOneToOne: false
            referencedRelation: "brand_metadata"
            referencedColumns: ["brand_id"]
          },
          {
            foreignKeyName: "valid_to_brand"
            columns: ["to_brand_id"]
            isOneToOne: false
            referencedRelation: "brand_metadata"
            referencedColumns: ["brand_id"]
          },
        ]
      }
      brand_insights: {
        Row: {
          benchmarks_used: Json | null
          brand_id: string
          created_at: string | null
          id: string
          opportunities: Json | null
          org_id: string
          period: string
          risks: Json | null
          scorecard: Json | null
          strengths: Json | null
          weaknesses: Json | null
        }
        Insert: {
          benchmarks_used?: Json | null
          brand_id: string
          created_at?: string | null
          id?: string
          opportunities?: Json | null
          org_id: string
          period: string
          risks?: Json | null
          scorecard?: Json | null
          strengths?: Json | null
          weaknesses?: Json | null
        }
        Update: {
          benchmarks_used?: Json | null
          brand_id?: string
          created_at?: string | null
          id?: string
          opportunities?: Json | null
          org_id?: string
          period?: string
          risks?: Json | null
          scorecard?: Json | null
          strengths?: Json | null
          weaknesses?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "brand_insights_brand_fk"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brands"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "brand_insights_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      brand_metadata: {
        Row: {
          audience: string[]
          brand_id: string
          brand_name: string
          brand_slug: string
          category: string
          created_at: string | null
          description: string
          domain: string
          id: string
          mission: string
          promise: string
          risk_flags: string[]
          status: string
          strengths: string[]
          tagline: string
          tone: string[]
          updated_at: string | null
        }
        Insert: {
          audience?: string[]
          brand_id: string
          brand_name: string
          brand_slug: string
          category: string
          created_at?: string | null
          description: string
          domain: string
          id?: string
          mission: string
          promise: string
          risk_flags?: string[]
          status?: string
          strengths?: string[]
          tagline: string
          tone?: string[]
          updated_at?: string | null
        }
        Update: {
          audience?: string[]
          brand_id?: string
          brand_name?: string
          brand_slug?: string
          category?: string
          created_at?: string | null
          description?: string
          domain?: string
          id?: string
          mission?: string
          promise?: string
          risk_flags?: string[]
          status?: string
          strengths?: string[]
          tagline?: string
          tone?: string[]
          updated_at?: string | null
        }
        Relationships: []
      }
      brand_settings: {
        Row: {
          brand_id: string
          created_at: string | null
          id: string
          setting_key: string
          setting_value: Json
        }
        Insert: {
          brand_id: string
          created_at?: string | null
          id?: string
          setting_key: string
          setting_value: Json
        }
        Update: {
          brand_id?: string
          created_at?: string | null
          id?: string
          setting_key?: string
          setting_value?: Json
        }
        Relationships: [
          {
            foreignKeyName: "brand_settings_brand_fk"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brands"
            referencedColumns: ["id"]
          },
        ]
      }
      branding_packs: {
        Row: {
          config: Json
          created_at: string | null
          id: string
          org_id: string
          title: string
        }
        Insert: {
          config: Json
          created_at?: string | null
          id?: string
          org_id: string
          title: string
        }
        Update: {
          config?: Json
          created_at?: string | null
          id?: string
          org_id?: string
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "branding_packs_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      brands: {
        Row: {
          created_at: string | null
          domain: string | null
          id: string
          is_active: boolean
          logo_url: string | null
          name: string
          org_id: string
          primary_color: string | null
          secondary_color: string | null
        }
        Insert: {
          created_at?: string | null
          domain?: string | null
          id?: string
          is_active?: boolean
          logo_url?: string | null
          name: string
          org_id: string
          primary_color?: string | null
          secondary_color?: string | null
        }
        Update: {
          created_at?: string | null
          domain?: string | null
          id?: string
          is_active?: boolean
          logo_url?: string | null
          name?: string
          org_id?: string
          primary_color?: string | null
          secondary_color?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "brands_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      broadcast_messages: {
        Row: {
          confidence: number | null
          created_at: string
          id: string
          message_type: string
          payload: Json
          sender_agency_id: string
          target_scope: Json
          uncertainty_notes: string | null
        }
        Insert: {
          confidence?: number | null
          created_at?: string
          id?: string
          message_type: string
          payload: Json
          sender_agency_id: string
          target_scope: Json
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number | null
          created_at?: string
          id?: string
          message_type?: string
          payload?: Json
          sender_agency_id?: string
          target_scope?: Json
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "broadcast_messages_sender_agency_id_fkey"
            columns: ["sender_agency_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      broadcast_receipts: {
        Row: {
          acknowledged_at: string | null
          broadcast_id: string
          created_at: string
          id: string
          recipient_agency_id: string
          seen_at: string | null
          status: string
        }
        Insert: {
          acknowledged_at?: string | null
          broadcast_id: string
          created_at?: string
          id?: string
          recipient_agency_id: string
          seen_at?: string | null
          status: string
        }
        Update: {
          acknowledged_at?: string | null
          broadcast_id?: string
          created_at?: string
          id?: string
          recipient_agency_id?: string
          seen_at?: string | null
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "broadcast_receipts_broadcast_id_fkey"
            columns: ["broadcast_id"]
            isOneToOne: false
            referencedRelation: "broadcast_messages"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "broadcast_receipts_recipient_agency_id_fkey"
            columns: ["recipient_agency_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      browser_action_logs: {
        Row: {
          action_options: Json | null
          action_selector: string | null
          action_target: string | null
          action_type: string
          action_value: string | null
          approved_by: string | null
          blocked_reason: string | null
          browser_session_id: string | null
          completed_at: string | null
          created_at: string | null
          duration_ms: number | null
          error_message: string | null
          error_type: string | null
          id: string
          page_title: string | null
          replay_run_id: string | null
          requires_approval: boolean | null
          result_value: Json | null
          retry_count: number | null
          screenshot_path: string | null
          started_at: string
          status: string | null
          url_after: string | null
          url_before: string | null
          was_blocked: boolean | null
          workspace_id: string
        }
        Insert: {
          action_options?: Json | null
          action_selector?: string | null
          action_target?: string | null
          action_type: string
          action_value?: string | null
          approved_by?: string | null
          blocked_reason?: string | null
          browser_session_id?: string | null
          completed_at?: string | null
          created_at?: string | null
          duration_ms?: number | null
          error_message?: string | null
          error_type?: string | null
          id?: string
          page_title?: string | null
          replay_run_id?: string | null
          requires_approval?: boolean | null
          result_value?: Json | null
          retry_count?: number | null
          screenshot_path?: string | null
          started_at?: string
          status?: string | null
          url_after?: string | null
          url_before?: string | null
          was_blocked?: boolean | null
          workspace_id: string
        }
        Update: {
          action_options?: Json | null
          action_selector?: string | null
          action_target?: string | null
          action_type?: string
          action_value?: string | null
          approved_by?: string | null
          blocked_reason?: string | null
          browser_session_id?: string | null
          completed_at?: string | null
          created_at?: string | null
          duration_ms?: number | null
          error_message?: string | null
          error_type?: string | null
          id?: string
          page_title?: string | null
          replay_run_id?: string | null
          requires_approval?: boolean | null
          result_value?: Json | null
          retry_count?: number | null
          screenshot_path?: string | null
          started_at?: string
          status?: string | null
          url_after?: string | null
          url_before?: string | null
          was_blocked?: boolean | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "browser_action_logs_browser_session_id_fkey"
            columns: ["browser_session_id"]
            isOneToOne: false
            referencedRelation: "browser_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "browser_action_logs_replay_run_id_fkey"
            columns: ["replay_run_id"]
            isOneToOne: false
            referencedRelation: "browser_replay_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "browser_action_logs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      browser_dom_maps: {
        Row: {
          browser_session_id: string
          button_elements: Json | null
          captured_at: string
          created_at: string | null
          dom_map_compressed: string | null
          dom_map_json: Json | null
          element_hierarchy: Json | null
          form_count: number | null
          form_elements: Json | null
          has_contact_form: boolean | null
          has_login_form: boolean | null
          has_search_form: boolean | null
          hash_signature: string | null
          id: string
          input_elements: Json | null
          interactive_count: number | null
          interactive_elements: Json | null
          is_compressed: boolean | null
          last_validated_at: string | null
          link_elements: Json | null
          navigation_elements: Json | null
          page_language: string | null
          page_title: string | null
          size_bytes: number | null
          stable_selectors: Json | null
          total_elements: number | null
          url: string
          url_pattern: string | null
          validation_status: string | null
          workspace_id: string
        }
        Insert: {
          browser_session_id: string
          button_elements?: Json | null
          captured_at?: string
          created_at?: string | null
          dom_map_compressed?: string | null
          dom_map_json?: Json | null
          element_hierarchy?: Json | null
          form_count?: number | null
          form_elements?: Json | null
          has_contact_form?: boolean | null
          has_login_form?: boolean | null
          has_search_form?: boolean | null
          hash_signature?: string | null
          id?: string
          input_elements?: Json | null
          interactive_count?: number | null
          interactive_elements?: Json | null
          is_compressed?: boolean | null
          last_validated_at?: string | null
          link_elements?: Json | null
          navigation_elements?: Json | null
          page_language?: string | null
          page_title?: string | null
          size_bytes?: number | null
          stable_selectors?: Json | null
          total_elements?: number | null
          url: string
          url_pattern?: string | null
          validation_status?: string | null
          workspace_id: string
        }
        Update: {
          browser_session_id?: string
          button_elements?: Json | null
          captured_at?: string
          created_at?: string | null
          dom_map_compressed?: string | null
          dom_map_json?: Json | null
          element_hierarchy?: Json | null
          form_count?: number | null
          form_elements?: Json | null
          has_contact_form?: boolean | null
          has_login_form?: boolean | null
          has_search_form?: boolean | null
          hash_signature?: string | null
          id?: string
          input_elements?: Json | null
          interactive_count?: number | null
          interactive_elements?: Json | null
          is_compressed?: boolean | null
          last_validated_at?: string | null
          link_elements?: Json | null
          navigation_elements?: Json | null
          page_language?: string | null
          page_title?: string | null
          size_bytes?: number | null
          stable_selectors?: Json | null
          total_elements?: number | null
          url?: string
          url_pattern?: string | null
          validation_status?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "browser_dom_maps_browser_session_id_fkey"
            columns: ["browser_session_id"]
            isOneToOne: false
            referencedRelation: "browser_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "browser_dom_maps_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      browser_learned_patterns: {
        Row: {
          action_sequence: Json
          approved_at: string | null
          approved_by: string | null
          confidence_score: number | null
          converted_at: string | null
          converted_to_task_id: string | null
          created_at: string | null
          description: string | null
          domain: string | null
          element_patterns: Json | null
          failure_indicators: Json | null
          generalization_notes: string | null
          generalized_at: string | null
          id: string
          is_generalized: boolean | null
          metadata: Json | null
          name: string
          pattern_type: string | null
          rejection_reason: string | null
          sample_count: number | null
          source_run_ids: string[] | null
          source_session_id: string | null
          status: string | null
          success_indicators: Json | null
          updated_at: string | null
          url_pattern: string | null
          validation_count: number | null
          workspace_id: string
        }
        Insert: {
          action_sequence?: Json
          approved_at?: string | null
          approved_by?: string | null
          confidence_score?: number | null
          converted_at?: string | null
          converted_to_task_id?: string | null
          created_at?: string | null
          description?: string | null
          domain?: string | null
          element_patterns?: Json | null
          failure_indicators?: Json | null
          generalization_notes?: string | null
          generalized_at?: string | null
          id?: string
          is_generalized?: boolean | null
          metadata?: Json | null
          name: string
          pattern_type?: string | null
          rejection_reason?: string | null
          sample_count?: number | null
          source_run_ids?: string[] | null
          source_session_id?: string | null
          status?: string | null
          success_indicators?: Json | null
          updated_at?: string | null
          url_pattern?: string | null
          validation_count?: number | null
          workspace_id: string
        }
        Update: {
          action_sequence?: Json
          approved_at?: string | null
          approved_by?: string | null
          confidence_score?: number | null
          converted_at?: string | null
          converted_to_task_id?: string | null
          created_at?: string | null
          description?: string | null
          domain?: string | null
          element_patterns?: Json | null
          failure_indicators?: Json | null
          generalization_notes?: string | null
          generalized_at?: string | null
          id?: string
          is_generalized?: boolean | null
          metadata?: Json | null
          name?: string
          pattern_type?: string | null
          rejection_reason?: string | null
          sample_count?: number | null
          source_run_ids?: string[] | null
          source_session_id?: string | null
          status?: string | null
          success_indicators?: Json | null
          updated_at?: string | null
          url_pattern?: string | null
          validation_count?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "browser_learned_patterns_converted_to_task_id_fkey"
            columns: ["converted_to_task_id"]
            isOneToOne: false
            referencedRelation: "browser_replay_tasks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "browser_learned_patterns_source_session_id_fkey"
            columns: ["source_session_id"]
            isOneToOne: false
            referencedRelation: "browser_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "browser_learned_patterns_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      browser_patterns: {
        Row: {
          created_at: string | null
          founder_business_id: string | null
          id: string
          last_executed_at: string | null
          pattern_name: string
          pattern_steps: Json
          pattern_type: string
          success_rate: number | null
        }
        Insert: {
          created_at?: string | null
          founder_business_id?: string | null
          id?: string
          last_executed_at?: string | null
          pattern_name: string
          pattern_steps: Json
          pattern_type: string
          success_rate?: number | null
        }
        Update: {
          created_at?: string | null
          founder_business_id?: string | null
          id?: string
          last_executed_at?: string | null
          pattern_name?: string
          pattern_steps?: Json
          pattern_type?: string
          success_rate?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "browser_patterns_founder_business_id_fkey"
            columns: ["founder_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      browser_replay_runs: {
        Row: {
          approval_status: string | null
          approved_at: string | null
          approved_by: string | null
          browser_session_id: string | null
          completed_at: string | null
          cpu_time_ms: number | null
          created_at: string | null
          current_step: number | null
          duration_ms: number | null
          entry_url: string | null
          error_details: Json | null
          error_message: string | null
          error_step: number | null
          extracted_data: Json | null
          id: string
          memory_used_mb: number | null
          metadata: Json | null
          network_requests: number | null
          output_data: Json | null
          parameters_used: Json | null
          replay_task_id: string
          screenshots: string[] | null
          started_at: string | null
          status: string | null
          step_results: Json | null
          steps_completed: number | null
          steps_failed: number | null
          steps_total: number | null
          trigger_source: string | null
          triggered_by: string | null
          workspace_id: string
        }
        Insert: {
          approval_status?: string | null
          approved_at?: string | null
          approved_by?: string | null
          browser_session_id?: string | null
          completed_at?: string | null
          cpu_time_ms?: number | null
          created_at?: string | null
          current_step?: number | null
          duration_ms?: number | null
          entry_url?: string | null
          error_details?: Json | null
          error_message?: string | null
          error_step?: number | null
          extracted_data?: Json | null
          id?: string
          memory_used_mb?: number | null
          metadata?: Json | null
          network_requests?: number | null
          output_data?: Json | null
          parameters_used?: Json | null
          replay_task_id: string
          screenshots?: string[] | null
          started_at?: string | null
          status?: string | null
          step_results?: Json | null
          steps_completed?: number | null
          steps_failed?: number | null
          steps_total?: number | null
          trigger_source?: string | null
          triggered_by?: string | null
          workspace_id: string
        }
        Update: {
          approval_status?: string | null
          approved_at?: string | null
          approved_by?: string | null
          browser_session_id?: string | null
          completed_at?: string | null
          cpu_time_ms?: number | null
          created_at?: string | null
          current_step?: number | null
          duration_ms?: number | null
          entry_url?: string | null
          error_details?: Json | null
          error_message?: string | null
          error_step?: number | null
          extracted_data?: Json | null
          id?: string
          memory_used_mb?: number | null
          metadata?: Json | null
          network_requests?: number | null
          output_data?: Json | null
          parameters_used?: Json | null
          replay_task_id?: string
          screenshots?: string[] | null
          started_at?: string | null
          status?: string | null
          step_results?: Json | null
          steps_completed?: number | null
          steps_failed?: number | null
          steps_total?: number | null
          trigger_source?: string | null
          triggered_by?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "browser_replay_runs_browser_session_id_fkey"
            columns: ["browser_session_id"]
            isOneToOne: false
            referencedRelation: "browser_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "browser_replay_runs_replay_task_id_fkey"
            columns: ["replay_task_id"]
            isOneToOne: false
            referencedRelation: "browser_replay_tasks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "browser_replay_runs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      browser_replay_tasks: {
        Row: {
          allowed_domains: string[] | null
          avg_duration_ms: number | null
          blocked_actions: string[] | null
          category: string | null
          created_at: string | null
          created_by: string | null
          default_parameters: Json | null
          description: string | null
          entry_url: string | null
          estimated_duration_ms: number | null
          failure_count: number | null
          id: string
          last_failure_at: string | null
          last_failure_reason: string | null
          last_run_at: string | null
          last_success_at: string | null
          max_iterations: number | null
          metadata: Json | null
          name: string
          parameters: Json | null
          parent_task_id: string | null
          pattern_json: Json
          required_elements: string[] | null
          requires_approval: boolean | null
          retry_attempts: number | null
          retry_delay_ms: number | null
          run_count: number | null
          screenshot_on_complete: boolean | null
          screenshot_on_error: boolean | null
          status: string | null
          step_count: number | null
          steps: Json
          success_count: number | null
          success_rate: number | null
          timeout_ms: number | null
          updated_at: string | null
          version: number | null
          wait_for_navigation: boolean | null
          workspace_id: string
        }
        Insert: {
          allowed_domains?: string[] | null
          avg_duration_ms?: number | null
          blocked_actions?: string[] | null
          category?: string | null
          created_at?: string | null
          created_by?: string | null
          default_parameters?: Json | null
          description?: string | null
          entry_url?: string | null
          estimated_duration_ms?: number | null
          failure_count?: number | null
          id?: string
          last_failure_at?: string | null
          last_failure_reason?: string | null
          last_run_at?: string | null
          last_success_at?: string | null
          max_iterations?: number | null
          metadata?: Json | null
          name: string
          parameters?: Json | null
          parent_task_id?: string | null
          pattern_json?: Json
          required_elements?: string[] | null
          requires_approval?: boolean | null
          retry_attempts?: number | null
          retry_delay_ms?: number | null
          run_count?: number | null
          screenshot_on_complete?: boolean | null
          screenshot_on_error?: boolean | null
          status?: string | null
          step_count?: number | null
          steps?: Json
          success_count?: number | null
          success_rate?: number | null
          timeout_ms?: number | null
          updated_at?: string | null
          version?: number | null
          wait_for_navigation?: boolean | null
          workspace_id: string
        }
        Update: {
          allowed_domains?: string[] | null
          avg_duration_ms?: number | null
          blocked_actions?: string[] | null
          category?: string | null
          created_at?: string | null
          created_by?: string | null
          default_parameters?: Json | null
          description?: string | null
          entry_url?: string | null
          estimated_duration_ms?: number | null
          failure_count?: number | null
          id?: string
          last_failure_at?: string | null
          last_failure_reason?: string | null
          last_run_at?: string | null
          last_success_at?: string | null
          max_iterations?: number | null
          metadata?: Json | null
          name?: string
          parameters?: Json | null
          parent_task_id?: string | null
          pattern_json?: Json
          required_elements?: string[] | null
          requires_approval?: boolean | null
          retry_attempts?: number | null
          retry_delay_ms?: number | null
          run_count?: number | null
          screenshot_on_complete?: boolean | null
          screenshot_on_error?: boolean | null
          status?: string | null
          step_count?: number | null
          steps?: Json
          success_count?: number | null
          success_rate?: number | null
          timeout_ms?: number | null
          updated_at?: string | null
          version?: number | null
          wait_for_navigation?: boolean | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "browser_replay_tasks_parent_task_id_fkey"
            columns: ["parent_task_id"]
            isOneToOne: false
            referencedRelation: "browser_replay_tasks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "browser_replay_tasks_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      browser_sessions: {
        Row: {
          action_count: number | null
          auth_domain: string | null
          auth_username: string | null
          cookies_encrypted: string | null
          created_at: string | null
          encryption_auth_tag: string | null
          encryption_iv: string | null
          error_count: number | null
          expires_at: string | null
          id: string
          invalidated_reason: string | null
          is_authenticated: boolean | null
          last_action_at: string | null
          last_navigation_url: string | null
          last_used_at: string | null
          local_storage_encrypted: string | null
          locale: string | null
          metadata: Json | null
          navigation_count: number | null
          origin_url: string | null
          provider: string | null
          session_key_encrypted: string | null
          session_name: string | null
          session_storage_encrypted: string | null
          status: string | null
          timezone: string | null
          updated_at: string | null
          user_agent: string | null
          user_id: string
          viewport_height: number | null
          viewport_width: number | null
          workspace_id: string
        }
        Insert: {
          action_count?: number | null
          auth_domain?: string | null
          auth_username?: string | null
          cookies_encrypted?: string | null
          created_at?: string | null
          encryption_auth_tag?: string | null
          encryption_iv?: string | null
          error_count?: number | null
          expires_at?: string | null
          id?: string
          invalidated_reason?: string | null
          is_authenticated?: boolean | null
          last_action_at?: string | null
          last_navigation_url?: string | null
          last_used_at?: string | null
          local_storage_encrypted?: string | null
          locale?: string | null
          metadata?: Json | null
          navigation_count?: number | null
          origin_url?: string | null
          provider?: string | null
          session_key_encrypted?: string | null
          session_name?: string | null
          session_storage_encrypted?: string | null
          status?: string | null
          timezone?: string | null
          updated_at?: string | null
          user_agent?: string | null
          user_id: string
          viewport_height?: number | null
          viewport_width?: number | null
          workspace_id: string
        }
        Update: {
          action_count?: number | null
          auth_domain?: string | null
          auth_username?: string | null
          cookies_encrypted?: string | null
          created_at?: string | null
          encryption_auth_tag?: string | null
          encryption_iv?: string | null
          error_count?: number | null
          expires_at?: string | null
          id?: string
          invalidated_reason?: string | null
          is_authenticated?: boolean | null
          last_action_at?: string | null
          last_navigation_url?: string | null
          last_used_at?: string | null
          local_storage_encrypted?: string | null
          locale?: string | null
          metadata?: Json | null
          navigation_count?: number | null
          origin_url?: string | null
          provider?: string | null
          session_key_encrypted?: string | null
          session_name?: string | null
          session_storage_encrypted?: string | null
          status?: string | null
          timezone?: string | null
          updated_at?: string | null
          user_agent?: string | null
          user_id?: string
          viewport_height?: number | null
          viewport_width?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "browser_sessions_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      business_identity_ai_snapshots: {
        Row: {
          behaviour_signal_opportunity_score: number | null
          business_id: string
          created_at: string
          eeat_strength_score: number | null
          gap_opportunities: Json | null
          id: string
          navboost_risk_score: number | null
          q_star_proxy_score: number | null
          sandbox_risk_score: number | null
          snapshot_type: string
          summary_markdown: string
        }
        Insert: {
          behaviour_signal_opportunity_score?: number | null
          business_id: string
          created_at?: string
          eeat_strength_score?: number | null
          gap_opportunities?: Json | null
          id?: string
          navboost_risk_score?: number | null
          q_star_proxy_score?: number | null
          sandbox_risk_score?: number | null
          snapshot_type: string
          summary_markdown: string
        }
        Update: {
          behaviour_signal_opportunity_score?: number | null
          business_id?: string
          created_at?: string
          eeat_strength_score?: number | null
          gap_opportunities?: Json | null
          id?: string
          navboost_risk_score?: number | null
          q_star_proxy_score?: number | null
          sandbox_risk_score?: number | null
          snapshot_type?: string
          summary_markdown?: string
        }
        Relationships: [
          {
            foreignKeyName: "business_identity_ai_snapshots_business_id_fkey"
            columns: ["business_id"]
            isOneToOne: false
            referencedRelation: "business_identity_profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      business_identity_channels: {
        Row: {
          account_label: string | null
          business_id: string
          channel_type: string
          created_at: string
          external_id: string | null
          id: string
          meta: Json | null
          provider: string
          updated_at: string
        }
        Insert: {
          account_label?: string | null
          business_id: string
          channel_type: string
          created_at?: string
          external_id?: string | null
          id?: string
          meta?: Json | null
          provider: string
          updated_at?: string
        }
        Update: {
          account_label?: string | null
          business_id?: string
          channel_type?: string
          created_at?: string
          external_id?: string | null
          id?: string
          meta?: Json | null
          provider?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "business_identity_channels_business_id_fkey"
            columns: ["business_id"]
            isOneToOne: false
            referencedRelation: "business_identity_profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      business_identity_profiles: {
        Row: {
          business_key: string
          created_at: string
          display_name: string
          id: string
          industry: string | null
          legal_name: string | null
          notes: string | null
          owner_profile_id: string
          primary_domain: string | null
          primary_gmb_location: string | null
          primary_region: string | null
          updated_at: string
        }
        Insert: {
          business_key: string
          created_at?: string
          display_name: string
          id?: string
          industry?: string | null
          legal_name?: string | null
          notes?: string | null
          owner_profile_id: string
          primary_domain?: string | null
          primary_gmb_location?: string | null
          primary_region?: string | null
          updated_at?: string
        }
        Update: {
          business_key?: string
          created_at?: string
          display_name?: string
          id?: string
          industry?: string | null
          legal_name?: string | null
          notes?: string | null
          owner_profile_id?: string
          primary_domain?: string | null
          primary_gmb_location?: string | null
          primary_region?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "business_identity_profiles_owner_profile_id_fkey"
            columns: ["owner_profile_id"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      calendar_posts: {
        Row: {
          ai_reasoning: string | null
          approved_at: string | null
          approved_by: string | null
          best_time_to_post: string | null
          call_to_action: string | null
          contact_id: string
          content_pillar: string | null
          created_at: string | null
          engagement_metrics: Json | null
          id: string
          platform: string
          platform_post_id: string | null
          platform_url: string | null
          post_type: string
          published_at: string | null
          scheduled_date: string
          status: string | null
          strategy_id: string | null
          suggested_copy: string
          suggested_hashtags: string[] | null
          suggested_image_prompt: string | null
          target_audience: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          ai_reasoning?: string | null
          approved_at?: string | null
          approved_by?: string | null
          best_time_to_post?: string | null
          call_to_action?: string | null
          contact_id: string
          content_pillar?: string | null
          created_at?: string | null
          engagement_metrics?: Json | null
          id?: string
          platform: string
          platform_post_id?: string | null
          platform_url?: string | null
          post_type: string
          published_at?: string | null
          scheduled_date: string
          status?: string | null
          strategy_id?: string | null
          suggested_copy: string
          suggested_hashtags?: string[] | null
          suggested_image_prompt?: string | null
          target_audience?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          ai_reasoning?: string | null
          approved_at?: string | null
          approved_by?: string | null
          best_time_to_post?: string | null
          call_to_action?: string | null
          contact_id?: string
          content_pillar?: string | null
          created_at?: string | null
          engagement_metrics?: Json | null
          id?: string
          platform?: string
          platform_post_id?: string | null
          platform_url?: string | null
          post_type?: string
          published_at?: string | null
          scheduled_date?: string
          status?: string | null
          strategy_id?: string | null
          suggested_copy?: string
          suggested_hashtags?: string[] | null
          suggested_image_prompt?: string | null
          target_audience?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "calendar_posts_approved_by_fkey"
            columns: ["approved_by"]
            isOneToOne: false
            referencedRelation: "user_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "calendar_posts_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "calendar_posts_strategy_id_fkey"
            columns: ["strategy_id"]
            isOneToOne: false
            referencedRelation: "marketing_strategies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "calendar_posts_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      calibration_archives: {
        Row: {
          applied_changes: Json
          archive_id: string
          archive_notes: string | null
          archived_at: string
          calibration_cycle_id: string
          created_at: string
          cycle_number: number
          findings: string | null
          id: string
          improvement_percentage: number | null
          metrics_analyzed: Json
          overall_confidence: number | null
          proposed_changes: Json
          recommendations: string[] | null
          status: string
          system_health_after: number | null
          system_health_before: number | null
          workspace_id: string
        }
        Insert: {
          applied_changes?: Json
          archive_id: string
          archive_notes?: string | null
          archived_at?: string
          calibration_cycle_id: string
          created_at?: string
          cycle_number: number
          findings?: string | null
          id?: string
          improvement_percentage?: number | null
          metrics_analyzed?: Json
          overall_confidence?: number | null
          proposed_changes?: Json
          recommendations?: string[] | null
          status?: string
          system_health_after?: number | null
          system_health_before?: number | null
          workspace_id: string
        }
        Update: {
          applied_changes?: Json
          archive_id?: string
          archive_notes?: string | null
          archived_at?: string
          calibration_cycle_id?: string
          created_at?: string
          cycle_number?: number
          findings?: string | null
          id?: string
          improvement_percentage?: number | null
          metrics_analyzed?: Json
          overall_confidence?: number | null
          proposed_changes?: Json
          recommendations?: string[] | null
          status?: string
          system_health_after?: number | null
          system_health_before?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "calibration_archives_calibration_cycle_id_fkey"
            columns: ["calibration_cycle_id"]
            isOneToOne: false
            referencedRelation: "autonomy_calibration_cycles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "calibration_archives_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      calibration_patterns: {
        Row: {
          avg_confidence: number | null
          created_at: string
          description: string | null
          first_seen_at: string
          id: string
          keywords: string[] | null
          last_seen_at: string
          occurrences: number | null
          pattern_id: string
          pattern_name: string
          success_rate: number | null
          suggested_adjustments: Json | null
          triggering_metrics: string[] | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          avg_confidence?: number | null
          created_at?: string
          description?: string | null
          first_seen_at?: string
          id?: string
          keywords?: string[] | null
          last_seen_at?: string
          occurrences?: number | null
          pattern_id: string
          pattern_name: string
          success_rate?: number | null
          suggested_adjustments?: Json | null
          triggering_metrics?: string[] | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          avg_confidence?: number | null
          created_at?: string
          description?: string | null
          first_seen_at?: string
          id?: string
          keywords?: string[] | null
          last_seen_at?: string
          occurrences?: number | null
          pattern_id?: string
          pattern_name?: string
          success_rate?: number | null
          suggested_adjustments?: Json | null
          triggering_metrics?: string[] | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "calibration_patterns_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      campaign_enrollments: {
        Row: {
          campaign_id: string
          completed_at: string | null
          contact_email: string
          contact_id: string
          contact_name: string | null
          created_at: string | null
          current_step: number | null
          id: string
          interaction_history: Json | null
          last_email_sent_at: string | null
          next_email_scheduled_at: string | null
          personalization_data: Json | null
          started_at: string | null
          status: string
          updated_at: string | null
        }
        Insert: {
          campaign_id: string
          completed_at?: string | null
          contact_email: string
          contact_id: string
          contact_name?: string | null
          created_at?: string | null
          current_step?: number | null
          id?: string
          interaction_history?: Json | null
          last_email_sent_at?: string | null
          next_email_scheduled_at?: string | null
          personalization_data?: Json | null
          started_at?: string | null
          status?: string
          updated_at?: string | null
        }
        Update: {
          campaign_id?: string
          completed_at?: string | null
          contact_email?: string
          contact_id?: string
          contact_name?: string | null
          created_at?: string | null
          current_step?: number | null
          id?: string
          interaction_history?: Json | null
          last_email_sent_at?: string | null
          next_email_scheduled_at?: string | null
          personalization_data?: Json | null
          started_at?: string | null
          status?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "campaign_enrollments_campaign_id_fkey"
            columns: ["campaign_id"]
            isOneToOne: false
            referencedRelation: "drip_campaigns"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "campaign_enrollments_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      campaign_execution_logs: {
        Row: {
          action: string
          campaign_id: string
          contact_id: string
          created_at: string | null
          enrollment_id: string
          error_message: string | null
          id: string
          metadata: Json | null
          status: string
          step_id: string
        }
        Insert: {
          action: string
          campaign_id: string
          contact_id: string
          created_at?: string | null
          enrollment_id: string
          error_message?: string | null
          id?: string
          metadata?: Json | null
          status: string
          step_id: string
        }
        Update: {
          action?: string
          campaign_id?: string
          contact_id?: string
          created_at?: string | null
          enrollment_id?: string
          error_message?: string | null
          id?: string
          metadata?: Json | null
          status?: string
          step_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "campaign_execution_logs_campaign_id_fkey"
            columns: ["campaign_id"]
            isOneToOne: false
            referencedRelation: "drip_campaigns"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "campaign_execution_logs_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "campaign_execution_logs_enrollment_id_fkey"
            columns: ["enrollment_id"]
            isOneToOne: false
            referencedRelation: "campaign_enrollments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "campaign_execution_logs_step_id_fkey"
            columns: ["step_id"]
            isOneToOne: false
            referencedRelation: "campaign_steps"
            referencedColumns: ["id"]
          },
        ]
      }
      campaign_metrics: {
        Row: {
          campaign_id: string
          id: string
          revenue_generated: number | null
          total_clicked: number | null
          total_completed: number | null
          total_converted: number | null
          total_enrolled: number | null
          total_opened: number | null
          total_replied: number | null
          updated_at: string | null
        }
        Insert: {
          campaign_id: string
          id?: string
          revenue_generated?: number | null
          total_clicked?: number | null
          total_completed?: number | null
          total_converted?: number | null
          total_enrolled?: number | null
          total_opened?: number | null
          total_replied?: number | null
          updated_at?: string | null
        }
        Update: {
          campaign_id?: string
          id?: string
          revenue_generated?: number | null
          total_clicked?: number | null
          total_completed?: number | null
          total_converted?: number | null
          total_enrolled?: number | null
          total_opened?: number | null
          total_replied?: number | null
          updated_at?: string | null
        }
        Relationships: []
      }
      campaign_orchestration_actions: {
        Row: {
          action_type: string
          actor: string
          client_id: string
          confidence_score: number | null
          created_at: string
          decision_payload: Json
          disclaimers: Json | null
          executed_at: string | null
          execution_result: Json | null
          id: string
          risk_class: string
          schedule_id: string | null
          source_signals: Json
          status: string
          truth_compliant: boolean
          truth_notes: string | null
          workspace_id: string
        }
        Insert: {
          action_type: string
          actor?: string
          client_id: string
          confidence_score?: number | null
          created_at?: string
          decision_payload?: Json
          disclaimers?: Json | null
          executed_at?: string | null
          execution_result?: Json | null
          id?: string
          risk_class?: string
          schedule_id?: string | null
          source_signals?: Json
          status?: string
          truth_compliant?: boolean
          truth_notes?: string | null
          workspace_id: string
        }
        Update: {
          action_type?: string
          actor?: string
          client_id?: string
          confidence_score?: number | null
          created_at?: string
          decision_payload?: Json
          disclaimers?: Json | null
          executed_at?: string | null
          execution_result?: Json | null
          id?: string
          risk_class?: string
          schedule_id?: string | null
          source_signals?: Json
          status?: string
          truth_compliant?: boolean
          truth_notes?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "campaign_orchestration_actions_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "campaign_orchestration_actions_schedule_id_fkey"
            columns: ["schedule_id"]
            isOneToOne: false
            referencedRelation: "campaign_orchestration_schedules"
            referencedColumns: ["id"]
          },
        ]
      }
      campaign_orchestration_schedules: {
        Row: {
          approved_at: string | null
          approved_by: string | null
          blocked_reason: string | null
          campaign_id: string | null
          channel: string
          client_id: string
          content_preview: Json | null
          created_at: string
          created_by: string | null
          creative_asset_id: string | null
          executed_at: string | null
          execution_result: Json | null
          id: string
          metadata: Json
          priority: number
          risk_level: string
          scheduled_for: string
          status: string
          time_zone: string
          updated_at: string
          variation_id: string | null
          workspace_id: string
        }
        Insert: {
          approved_at?: string | null
          approved_by?: string | null
          blocked_reason?: string | null
          campaign_id?: string | null
          channel: string
          client_id: string
          content_preview?: Json | null
          created_at?: string
          created_by?: string | null
          creative_asset_id?: string | null
          executed_at?: string | null
          execution_result?: Json | null
          id?: string
          metadata?: Json
          priority?: number
          risk_level?: string
          scheduled_for: string
          status?: string
          time_zone?: string
          updated_at?: string
          variation_id?: string | null
          workspace_id: string
        }
        Update: {
          approved_at?: string | null
          approved_by?: string | null
          blocked_reason?: string | null
          campaign_id?: string | null
          channel?: string
          client_id?: string
          content_preview?: Json | null
          created_at?: string
          created_by?: string | null
          creative_asset_id?: string | null
          executed_at?: string | null
          execution_result?: Json | null
          id?: string
          metadata?: Json
          priority?: number
          risk_level?: string
          scheduled_for?: string
          status?: string
          time_zone?: string
          updated_at?: string
          variation_id?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "campaign_orchestration_schedules_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      campaign_steps: {
        Row: {
          ai_generated: boolean | null
          ai_reasoning: string | null
          alternatives: Json | null
          campaign_id: string
          conditional_logic: Json | null
          created_at: string | null
          cta: Json | null
          day_delay: number | null
          email_body: string
          email_body_html: string | null
          id: string
          metrics: Json | null
          personalization_tags: string[] | null
          preheader_text: string | null
          step_name: string
          step_number: number
          subject_line: string
          updated_at: string | null
        }
        Insert: {
          ai_generated?: boolean | null
          ai_reasoning?: string | null
          alternatives?: Json | null
          campaign_id: string
          conditional_logic?: Json | null
          created_at?: string | null
          cta?: Json | null
          day_delay?: number | null
          email_body: string
          email_body_html?: string | null
          id?: string
          metrics?: Json | null
          personalization_tags?: string[] | null
          preheader_text?: string | null
          step_name: string
          step_number: number
          subject_line: string
          updated_at?: string | null
        }
        Update: {
          ai_generated?: boolean | null
          ai_reasoning?: string | null
          alternatives?: Json | null
          campaign_id?: string
          conditional_logic?: Json | null
          created_at?: string | null
          cta?: Json | null
          day_delay?: number | null
          email_body?: string
          email_body_html?: string | null
          id?: string
          metrics?: Json | null
          personalization_tags?: string[] | null
          preheader_text?: string | null
          step_name?: string
          step_number?: number
          subject_line?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "campaign_steps_campaign_id_fkey"
            columns: ["campaign_id"]
            isOneToOne: false
            referencedRelation: "drip_campaigns"
            referencedColumns: ["id"]
          },
        ]
      }
      campaigns: {
        Row: {
          avg_click_rate: number | null
          avg_open_rate: number | null
          avg_reply_rate: number | null
          clicked_count: number | null
          content: string | null
          conversion_count: number | null
          created_at: string | null
          created_by: string | null
          description: string | null
          id: string
          name: string
          opened_count: number | null
          replied_count: number | null
          revenue_generated: number | null
          scheduled_at: string | null
          sent_count: number | null
          status: string | null
          subject: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          avg_click_rate?: number | null
          avg_open_rate?: number | null
          avg_reply_rate?: number | null
          clicked_count?: number | null
          content?: string | null
          conversion_count?: number | null
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          id?: string
          name: string
          opened_count?: number | null
          replied_count?: number | null
          revenue_generated?: number | null
          scheduled_at?: string | null
          sent_count?: number | null
          status?: string | null
          subject?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          avg_click_rate?: number | null
          avg_open_rate?: number | null
          avg_reply_rate?: number | null
          clicked_count?: number | null
          content?: string | null
          conversion_count?: number | null
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          id?: string
          name?: string
          opened_count?: number | null
          replied_count?: number | null
          revenue_generated?: number | null
          scheduled_at?: string | null
          sent_count?: number | null
          status?: string | null
          subject?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: []
      }
      candidate_evaluations: {
        Row: {
          candidate_id: string
          criteria_breakdown: Json | null
          fit_score: number
          generated_at: string | null
          id: string
          job_position_id: string
          recommended_action: string | null
        }
        Insert: {
          candidate_id: string
          criteria_breakdown?: Json | null
          fit_score?: number
          generated_at?: string | null
          id?: string
          job_position_id: string
          recommended_action?: string | null
        }
        Update: {
          candidate_id?: string
          criteria_breakdown?: Json | null
          fit_score?: number
          generated_at?: string | null
          id?: string
          job_position_id?: string
          recommended_action?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "candidate_evaluations_candidate_fk"
            columns: ["candidate_id"]
            isOneToOne: false
            referencedRelation: "candidate_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "candidate_evaluations_position_fk"
            columns: ["job_position_id"]
            isOneToOne: false
            referencedRelation: "job_positions"
            referencedColumns: ["id"]
          },
        ]
      }
      candidate_profiles: {
        Row: {
          applied_roles: Json | null
          created_at: string | null
          email: string
          experience_years: number | null
          full_name: string
          id: string
          org_id: string
          phone: string | null
          resume_url: string | null
          skills: Json | null
        }
        Insert: {
          applied_roles?: Json | null
          created_at?: string | null
          email: string
          experience_years?: number | null
          full_name: string
          id?: string
          org_id: string
          phone?: string | null
          resume_url?: string | null
          skills?: Json | null
        }
        Update: {
          applied_roles?: Json | null
          created_at?: string | null
          email?: string
          experience_years?: number | null
          full_name?: string
          id?: string
          org_id?: string
          phone?: string | null
          resume_url?: string | null
          skills?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "candidate_profiles_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      capture_events: {
        Row: {
          analysis_complete: boolean
          analysis_error: string | null
          battery_percent: number
          created_at: string
          estimated_cost: number | null
          event_id: string
          frame_id: string | null
          glasses_model: string
          id: string
          image_format: string | null
          image_height: number | null
          image_size_bytes: number | null
          image_width: number | null
          owner_id: string
          signal_quality: number
          status: string
          successful_analysis: boolean
          timestamp: string
          trigger_mode: string
          trigger_reason: string | null
          user_consent: boolean
          visual_context_id: string | null
          workspace_id: string
        }
        Insert: {
          analysis_complete?: boolean
          analysis_error?: string | null
          battery_percent: number
          created_at?: string
          estimated_cost?: number | null
          event_id: string
          frame_id?: string | null
          glasses_model: string
          id?: string
          image_format?: string | null
          image_height?: number | null
          image_size_bytes?: number | null
          image_width?: number | null
          owner_id: string
          signal_quality: number
          status: string
          successful_analysis?: boolean
          timestamp?: string
          trigger_mode: string
          trigger_reason?: string | null
          user_consent: boolean
          visual_context_id?: string | null
          workspace_id: string
        }
        Update: {
          analysis_complete?: boolean
          analysis_error?: string | null
          battery_percent?: number
          created_at?: string
          estimated_cost?: number | null
          event_id?: string
          frame_id?: string | null
          glasses_model?: string
          id?: string
          image_format?: string | null
          image_height?: number | null
          image_size_bytes?: number | null
          image_width?: number | null
          owner_id?: string
          signal_quality?: number
          status?: string
          successful_analysis?: boolean
          timestamp?: string
          trigger_mode?: string
          trigger_reason?: string | null
          user_consent?: boolean
          visual_context_id?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "capture_events_visual_context_id_fkey"
            columns: ["visual_context_id"]
            isOneToOne: false
            referencedRelation: "visual_context_events"
            referencedColumns: ["id"]
          },
        ]
      }
      change_signals: {
        Row: {
          client_id: string | null
          created_at: string | null
          description: string
          detected_at: string | null
          id: string
          pillar_id: string
          raw_evidence: Json | null
          severity: string
          signal_type: string
          status: string | null
          workspace_id: string
        }
        Insert: {
          client_id?: string | null
          created_at?: string | null
          description: string
          detected_at?: string | null
          id?: string
          pillar_id: string
          raw_evidence?: Json | null
          severity: string
          signal_type: string
          status?: string | null
          workspace_id: string
        }
        Update: {
          client_id?: string | null
          created_at?: string | null
          description?: string
          detected_at?: string | null
          id?: string
          pillar_id?: string
          raw_evidence?: Json | null
          severity?: string
          signal_type?: string
          status?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "change_signals_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "client_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "change_signals_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      channel_state: {
        Row: {
          avg_engagement_rate: number | null
          best_posting_times: Json | null
          channel: string
          client_id: string
          created_at: string
          engagement_score: number
          fatigue_score: number
          id: string
          last_post_at: string | null
          metadata: Json
          momentum_score: number
          posts_last_30_days: number
          posts_last_7_days: number
          updated_at: string
          visibility_score: number
          workspace_id: string
        }
        Insert: {
          avg_engagement_rate?: number | null
          best_posting_times?: Json | null
          channel: string
          client_id: string
          created_at?: string
          engagement_score?: number
          fatigue_score?: number
          id?: string
          last_post_at?: string | null
          metadata?: Json
          momentum_score?: number
          posts_last_30_days?: number
          posts_last_7_days?: number
          updated_at?: string
          visibility_score?: number
          workspace_id: string
        }
        Update: {
          avg_engagement_rate?: number | null
          best_posting_times?: Json | null
          channel?: string
          client_id?: string
          created_at?: string
          engagement_score?: number
          fatigue_score?: number
          id?: string
          last_post_at?: string | null
          metadata?: Json
          momentum_score?: number
          posts_last_30_days?: number
          posts_last_7_days?: number
          updated_at?: string
          visibility_score?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "channel_state_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      channel_tokens: {
        Row: {
          channels_connected: string[]
          client_id: string
          created_at: string
          id: string
          last_validated_at: string | null
          tokens: Json
          updated_at: string
          validation_errors: Json | null
          workspace_id: string
        }
        Insert: {
          channels_connected?: string[]
          client_id: string
          created_at?: string
          id?: string
          last_validated_at?: string | null
          tokens?: Json
          updated_at?: string
          validation_errors?: Json | null
          workspace_id: string
        }
        Update: {
          channels_connected?: string[]
          client_id?: string
          created_at?: string
          id?: string
          last_validated_at?: string | null
          tokens?: Json
          updated_at?: string
          validation_errors?: Json | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "channel_tokens_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: true
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      charter_compliance_checks: {
        Row: {
          agent_name: string
          charter_version: string
          checked_at: string
          id: string
          is_compliant: boolean
          tenant_id: string | null
          violations: Json | null
        }
        Insert: {
          agent_name: string
          charter_version: string
          checked_at?: string
          id?: string
          is_compliant: boolean
          tenant_id?: string | null
          violations?: Json | null
        }
        Update: {
          agent_name?: string
          charter_version?: string
          checked_at?: string
          id?: string
          is_compliant?: boolean
          tenant_id?: string | null
          violations?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "charter_compliance_checks_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      charter_version_history: {
        Row: {
          change_reason: string
          change_summary: string
          changed_by: string
          charter_id: string | null
          created_at: string
          id: string
          previous_version: string | null
        }
        Insert: {
          change_reason: string
          change_summary: string
          changed_by: string
          charter_id?: string | null
          created_at?: string
          id?: string
          previous_version?: string | null
        }
        Update: {
          change_reason?: string
          change_summary?: string
          changed_by?: string
          charter_id?: string | null
          created_at?: string
          id?: string
          previous_version?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "charter_version_history_charter_id_fkey"
            columns: ["charter_id"]
            isOneToOne: false
            referencedRelation: "global_governance_charter"
            referencedColumns: ["id"]
          },
        ]
      }
      circuit_transitions: {
        Row: {
          circuit_id: string | null
          confidence: number
          created_at: string
          from_state: string
          id: string
          reason: string
          to_state: string
        }
        Insert: {
          circuit_id?: string | null
          confidence?: number
          created_at?: string
          from_state: string
          id?: string
          reason: string
          to_state: string
        }
        Update: {
          circuit_id?: string | null
          confidence?: number
          created_at?: string
          from_state?: string
          id?: string
          reason?: string
          to_state?: string
        }
        Relationships: [
          {
            foreignKeyName: "circuit_transitions_circuit_id_fkey"
            columns: ["circuit_id"]
            isOneToOne: false
            referencedRelation: "engine_circuits"
            referencedColumns: ["id"]
          },
        ]
      }
      client_actions: {
        Row: {
          action_data: Json | null
          action_type: string
          client_id: string | null
          created_at: string
          id: string
          performed_at: string
          performed_by: string | null
          workspace_id: string
        }
        Insert: {
          action_data?: Json | null
          action_type: string
          client_id?: string | null
          created_at?: string
          id?: string
          performed_at?: string
          performed_by?: string | null
          workspace_id: string
        }
        Update: {
          action_data?: Json | null
          action_type?: string
          client_id?: string | null
          created_at?: string
          id?: string
          performed_at?: string
          performed_by?: string | null
          workspace_id?: string
        }
        Relationships: []
      }
      client_agent_actions: {
        Row: {
          action_payload: Json
          action_type: string
          agent_reasoning: string | null
          approval_status: string
          approved_at: string | null
          approved_by: string | null
          client_id: string | null
          confidence_score: number
          created_at: string
          data_sources: Json
          executed_at: string | null
          execution_mode: string
          execution_result: Json | null
          id: string
          proposed_by: string
          rejection_reason: string | null
          risk_factors: Json
          risk_level: string
          risk_score: number
          session_id: string | null
          triggered_by_warning: string | null
          truth_compliant: boolean
          truth_disclaimers: Json
          warning_severity: string | null
          workspace_id: string
        }
        Insert: {
          action_payload?: Json
          action_type: string
          agent_reasoning?: string | null
          approval_status?: string
          approved_at?: string | null
          approved_by?: string | null
          client_id?: string | null
          confidence_score?: number
          created_at?: string
          data_sources?: Json
          executed_at?: string | null
          execution_mode?: string
          execution_result?: Json | null
          id?: string
          proposed_by?: string
          rejection_reason?: string | null
          risk_factors?: Json
          risk_level?: string
          risk_score?: number
          session_id?: string | null
          triggered_by_warning?: string | null
          truth_compliant?: boolean
          truth_disclaimers?: Json
          warning_severity?: string | null
          workspace_id: string
        }
        Update: {
          action_payload?: Json
          action_type?: string
          agent_reasoning?: string | null
          approval_status?: string
          approved_at?: string | null
          approved_by?: string | null
          client_id?: string | null
          confidence_score?: number
          created_at?: string
          data_sources?: Json
          executed_at?: string | null
          execution_mode?: string
          execution_result?: Json | null
          id?: string
          proposed_by?: string
          rejection_reason?: string | null
          risk_factors?: Json
          risk_level?: string
          risk_score?: number
          session_id?: string | null
          triggered_by_warning?: string | null
          truth_compliant?: boolean
          truth_disclaimers?: Json
          warning_severity?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "client_agent_actions_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "client_agent_actions_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "client_agent_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      client_agent_policies: {
        Row: {
          agent_enabled: boolean
          allowed_actions: Json
          auto_exec_enabled: boolean
          auto_exec_risk_threshold: string
          client_id: string | null
          created_at: string
          created_by: string | null
          id: string
          low_risk_threshold: number
          max_actions_per_day: number
          medium_risk_threshold: number
          pause_on_high_severity_warning: boolean
          require_human_review_above_score: number
          respect_early_warnings: boolean
          updated_at: string
          updated_by: string | null
          workspace_id: string
        }
        Insert: {
          agent_enabled?: boolean
          allowed_actions?: Json
          auto_exec_enabled?: boolean
          auto_exec_risk_threshold?: string
          client_id?: string | null
          created_at?: string
          created_by?: string | null
          id?: string
          low_risk_threshold?: number
          max_actions_per_day?: number
          medium_risk_threshold?: number
          pause_on_high_severity_warning?: boolean
          require_human_review_above_score?: number
          respect_early_warnings?: boolean
          updated_at?: string
          updated_by?: string | null
          workspace_id: string
        }
        Update: {
          agent_enabled?: boolean
          allowed_actions?: Json
          auto_exec_enabled?: boolean
          auto_exec_risk_threshold?: string
          client_id?: string | null
          created_at?: string
          created_by?: string | null
          id?: string
          low_risk_threshold?: number
          max_actions_per_day?: number
          medium_risk_threshold?: number
          pause_on_high_severity_warning?: boolean
          require_human_review_above_score?: number
          respect_early_warnings?: boolean
          updated_at?: string
          updated_by?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "client_agent_policies_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      client_agent_sessions: {
        Row: {
          actions_executed: number
          actions_proposed: number
          actions_rejected: number
          client_id: string | null
          context_snapshot: Json
          created_at: string
          duration_seconds: number | null
          ended_at: string | null
          error_message: string | null
          id: string
          initiated_by: string | null
          messages: Json
          risk_score_avg: number | null
          session_type: string
          status: string
          truth_compliance_score: number | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          actions_executed?: number
          actions_proposed?: number
          actions_rejected?: number
          client_id?: string | null
          context_snapshot?: Json
          created_at?: string
          duration_seconds?: number | null
          ended_at?: string | null
          error_message?: string | null
          id?: string
          initiated_by?: string | null
          messages?: Json
          risk_score_avg?: number | null
          session_type?: string
          status?: string
          truth_compliance_score?: number | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          actions_executed?: number
          actions_proposed?: number
          actions_rejected?: number
          client_id?: string | null
          context_snapshot?: Json
          created_at?: string
          duration_seconds?: number | null
          ended_at?: string | null
          error_message?: string | null
          id?: string
          initiated_by?: string | null
          messages?: Json
          risk_score_avg?: number | null
          session_type?: string
          status?: string
          truth_compliance_score?: number | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "client_agent_sessions_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      client_approval_history: {
        Row: {
          approval_id: string | null
          created_at: string | null
          event: string
          id: string
          metadata: Json | null
        }
        Insert: {
          approval_id?: string | null
          created_at?: string | null
          event: string
          id?: string
          metadata?: Json | null
        }
        Update: {
          approval_id?: string | null
          created_at?: string | null
          event?: string
          id?: string
          metadata?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "client_approval_history_approval_id_fkey"
            columns: ["approval_id"]
            isOneToOne: false
            referencedRelation: "client_approval_requests"
            referencedColumns: ["id"]
          },
        ]
      }
      client_approval_requests: {
        Row: {
          approved_at: string | null
          business_id: string | null
          client_id: string | null
          created_at: string | null
          created_by: string | null
          data: Json
          description: string
          id: string
          rejected_at: string | null
          requested_changes_at: string | null
          reviewer_notes: string | null
          source: string
          status: string
          strategy_options: Json | null
          title: string
          updated_at: string | null
        }
        Insert: {
          approved_at?: string | null
          business_id?: string | null
          client_id?: string | null
          created_at?: string | null
          created_by?: string | null
          data: Json
          description: string
          id?: string
          rejected_at?: string | null
          requested_changes_at?: string | null
          reviewer_notes?: string | null
          source: string
          status?: string
          strategy_options?: Json | null
          title: string
          updated_at?: string | null
        }
        Update: {
          approved_at?: string | null
          business_id?: string | null
          client_id?: string | null
          created_at?: string | null
          created_by?: string | null
          data?: Json
          description?: string
          id?: string
          rejected_at?: string | null
          requested_changes_at?: string | null
          reviewer_notes?: string | null
          source?: string
          status?: string
          strategy_options?: Json | null
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "client_approval_requests_business_id_fkey"
            columns: ["business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "client_approval_requests_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      client_chat_messages: {
        Row: {
          audio_path: string | null
          created_at: string | null
          id: string
          language: string
          metadata: Json | null
          org_id: string
          sender_type: string
          session_id: string
          text: string
        }
        Insert: {
          audio_path?: string | null
          created_at?: string | null
          id?: string
          language: string
          metadata?: Json | null
          org_id: string
          sender_type: string
          session_id: string
          text: string
        }
        Update: {
          audio_path?: string | null
          created_at?: string | null
          id?: string
          language?: string
          metadata?: Json | null
          org_id?: string
          sender_type?: string
          session_id?: string
          text?: string
        }
        Relationships: [
          {
            foreignKeyName: "client_chat_messages_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "client_chat_messages_session_fk"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "client_chat_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      client_chat_sessions: {
        Row: {
          created_at: string | null
          id: string
          org_id: string
          project_id: string | null
          status: string
          updated_at: string | null
          user_id: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          org_id: string
          project_id?: string | null
          status?: string
          updated_at?: string | null
          user_id: string
        }
        Update: {
          created_at?: string | null
          id?: string
          org_id?: string
          project_id?: string | null
          status?: string
          updated_at?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "client_chat_sessions_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      client_emails: {
        Row: {
          ai_sentiment: string | null
          analyzed_at: string | null
          contact_id: string | null
          created_at: string
          direction: string
          from_email: string
          id: string
          integration_id: string | null
          intelligence_analyzed: boolean | null
          is_active: boolean | null
          is_primary: boolean | null
          is_read: boolean | null
          org_id: string
          provider_message_id: string
          received_at: string
          snippet: string | null
          subject: string | null
          to_emails: string[] | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          ai_sentiment?: string | null
          analyzed_at?: string | null
          contact_id?: string | null
          created_at?: string
          direction: string
          from_email: string
          id?: string
          integration_id?: string | null
          intelligence_analyzed?: boolean | null
          is_active?: boolean | null
          is_primary?: boolean | null
          is_read?: boolean | null
          org_id: string
          provider_message_id: string
          received_at: string
          snippet?: string | null
          subject?: string | null
          to_emails?: string[] | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          ai_sentiment?: string | null
          analyzed_at?: string | null
          contact_id?: string | null
          created_at?: string
          direction?: string
          from_email?: string
          id?: string
          integration_id?: string | null
          intelligence_analyzed?: boolean | null
          is_active?: boolean | null
          is_primary?: boolean | null
          is_read?: boolean | null
          org_id?: string
          provider_message_id?: string
          received_at?: string
          snippet?: string | null
          subject?: string | null
          to_emails?: string[] | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_client_emails_contact"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_client_emails_integration"
            columns: ["integration_id"]
            isOneToOne: false
            referencedRelation: "email_integrations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_client_emails_org"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_client_emails_workspace"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      client_engagement_events: {
        Row: {
          client_id: string
          created_at: string | null
          duration_seconds: number | null
          event_data: Json | null
          event_type: string
          id: string
          organization_id: string
          page_path: string | null
          session_id: string | null
        }
        Insert: {
          client_id: string
          created_at?: string | null
          duration_seconds?: number | null
          event_data?: Json | null
          event_type: string
          id?: string
          organization_id: string
          page_path?: string | null
          session_id?: string | null
        }
        Update: {
          client_id?: string
          created_at?: string | null
          duration_seconds?: number | null
          event_data?: Json | null
          event_type?: string
          id?: string
          organization_id?: string
          page_path?: string | null
          session_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "client_engagement_events_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      client_insights: {
        Row: {
          client_id: string
          created_at: string | null
          dismissed_at: string | null
          id: string
          insight_type: string
          message: string
          organization_id: string
          priority: string | null
          read_at: string | null
          status: string | null
          title: string
          valid_until: string | null
        }
        Insert: {
          client_id: string
          created_at?: string | null
          dismissed_at?: string | null
          id?: string
          insight_type: string
          message: string
          organization_id: string
          priority?: string | null
          read_at?: string | null
          status?: string | null
          title: string
          valid_until?: string | null
        }
        Update: {
          client_id?: string
          created_at?: string | null
          dismissed_at?: string | null
          id?: string
          insight_type?: string
          message?: string
          organization_id?: string
          priority?: string | null
          read_at?: string | null
          status?: string | null
          title?: string
          valid_until?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "client_insights_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      client_invoices: {
        Row: {
          add_ons: Json | null
          amount: number
          billing_period_end: string
          billing_period_start: string
          client_id: string
          created_at: string | null
          due_date: string | null
          id: string
          invoice_number: string | null
          organization_id: string
          paid_date: string | null
          status: string
          stripe_payment_intent_id: string | null
          tier: string
          updated_at: string | null
          workspace_id: string
          xero_invoice_id: string | null
          xero_tenant_id: string | null
        }
        Insert: {
          add_ons?: Json | null
          amount: number
          billing_period_end: string
          billing_period_start: string
          client_id: string
          created_at?: string | null
          due_date?: string | null
          id?: string
          invoice_number?: string | null
          organization_id: string
          paid_date?: string | null
          status: string
          stripe_payment_intent_id?: string | null
          tier: string
          updated_at?: string | null
          workspace_id: string
          xero_invoice_id?: string | null
          xero_tenant_id?: string | null
        }
        Update: {
          add_ons?: Json | null
          amount?: number
          billing_period_end?: string
          billing_period_start?: string
          client_id?: string
          created_at?: string | null
          due_date?: string | null
          id?: string
          invoice_number?: string | null
          organization_id?: string
          paid_date?: string | null
          status?: string
          stripe_payment_intent_id?: string | null
          tier?: string
          updated_at?: string | null
          workspace_id?: string
          xero_invoice_id?: string | null
          xero_tenant_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "client_invoices_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "client_invoices_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "client_invoices_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      client_journey_events: {
        Row: {
          client_id: string
          event_type: string
          id: string
          metadata: Json | null
          occurred_at: string | null
          org_id: string
          stage: string
        }
        Insert: {
          client_id: string
          event_type: string
          id?: string
          metadata?: Json | null
          occurred_at?: string | null
          org_id: string
          stage: string
        }
        Update: {
          client_id?: string
          event_type?: string
          id?: string
          metadata?: Json | null
          occurred_at?: string | null
          org_id?: string
          stage?: string
        }
        Relationships: [
          {
            foreignKeyName: "client_journey_events_client_fk"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "client_journey_events_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      client_journey_scores: {
        Row: {
          client_id: string
          generated_at: string | null
          id: string
          org_id: string
          recommended_actions: Json | null
          risk_level: string
          score: number
        }
        Insert: {
          client_id: string
          generated_at?: string | null
          id?: string
          org_id: string
          recommended_actions?: Json | null
          risk_level?: string
          score?: number
        }
        Update: {
          client_id?: string
          generated_at?: string | null
          id?: string
          org_id?: string
          recommended_actions?: Json | null
          risk_level?: string
          score?: number
        }
        Relationships: [
          {
            foreignKeyName: "client_journey_scores_client_fk"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "client_journey_scores_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      client_launch_kits: {
        Row: {
          ai_models_used: Json | null
          brand_colors: Json | null
          brand_positioning_report: string | null
          business_industry: string | null
          business_name: string | null
          business_url: string | null
          client_id: string
          completed_at: string | null
          created_at: string | null
          generated_at: string | null
          generation_cost: number | null
          generation_time_ms: number | null
          id: string
          initial_geo_data: Json | null
          initial_seo_snapshot: Json | null
          intro_video_script: string | null
          organization_id: string
          status: string
          target_audience: string | null
          updated_at: string | null
          viewed_at: string | null
          visual_inspiration_urls: Json | null
          welcome_pack_markdown: string | null
        }
        Insert: {
          ai_models_used?: Json | null
          brand_colors?: Json | null
          brand_positioning_report?: string | null
          business_industry?: string | null
          business_name?: string | null
          business_url?: string | null
          client_id: string
          completed_at?: string | null
          created_at?: string | null
          generated_at?: string | null
          generation_cost?: number | null
          generation_time_ms?: number | null
          id?: string
          initial_geo_data?: Json | null
          initial_seo_snapshot?: Json | null
          intro_video_script?: string | null
          organization_id: string
          status?: string
          target_audience?: string | null
          updated_at?: string | null
          viewed_at?: string | null
          visual_inspiration_urls?: Json | null
          welcome_pack_markdown?: string | null
        }
        Update: {
          ai_models_used?: Json | null
          brand_colors?: Json | null
          brand_positioning_report?: string | null
          business_industry?: string | null
          business_name?: string | null
          business_url?: string | null
          client_id?: string
          completed_at?: string | null
          created_at?: string | null
          generated_at?: string | null
          generation_cost?: number | null
          generation_time_ms?: number | null
          id?: string
          initial_geo_data?: Json | null
          initial_seo_snapshot?: Json | null
          intro_video_script?: string | null
          organization_id?: string
          status?: string
          target_audience?: string | null
          updated_at?: string | null
          viewed_at?: string | null
          visual_inspiration_urls?: Json | null
          welcome_pack_markdown?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "client_launch_kits_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      client_lifecycle_events: {
        Row: {
          client_id: string
          created_at: string | null
          email_clicked_at: string | null
          email_opened_at: string | null
          email_sent_at: string | null
          email_template: string | null
          event_data: Json | null
          event_type: string
          id: string
          launch_kit_id: string | null
        }
        Insert: {
          client_id: string
          created_at?: string | null
          email_clicked_at?: string | null
          email_opened_at?: string | null
          email_sent_at?: string | null
          email_template?: string | null
          event_data?: Json | null
          event_type: string
          id?: string
          launch_kit_id?: string | null
        }
        Update: {
          client_id?: string
          created_at?: string | null
          email_clicked_at?: string | null
          email_opened_at?: string | null
          email_sent_at?: string | null
          email_template?: string | null
          event_data?: Json | null
          event_type?: string
          id?: string
          launch_kit_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "client_lifecycle_events_launch_kit_id_fkey"
            columns: ["launch_kit_id"]
            isOneToOne: false
            referencedRelation: "client_launch_kits"
            referencedColumns: ["id"]
          },
        ]
      }
      client_media_uploads: {
        Row: {
          contact_id: string | null
          created_at: string | null
          duration_seconds: number | null
          error_message: string | null
          file_name: string
          file_size: number | null
          height: number | null
          id: string
          media_type: string
          metadata: Json | null
          mime_type: string | null
          mindmap_id: string | null
          processing_completed_at: string | null
          processing_started_at: string | null
          project_id: string | null
          retry_count: number | null
          storage_url: string
          thumbnail_url: string | null
          updated_at: string | null
          upload_status: string | null
          uploaded_at: string | null
          width: number | null
          workspace_id: string
        }
        Insert: {
          contact_id?: string | null
          created_at?: string | null
          duration_seconds?: number | null
          error_message?: string | null
          file_name: string
          file_size?: number | null
          height?: number | null
          id?: string
          media_type: string
          metadata?: Json | null
          mime_type?: string | null
          mindmap_id?: string | null
          processing_completed_at?: string | null
          processing_started_at?: string | null
          project_id?: string | null
          retry_count?: number | null
          storage_url: string
          thumbnail_url?: string | null
          updated_at?: string | null
          upload_status?: string | null
          uploaded_at?: string | null
          width?: number | null
          workspace_id: string
        }
        Update: {
          contact_id?: string | null
          created_at?: string | null
          duration_seconds?: number | null
          error_message?: string | null
          file_name?: string
          file_size?: number | null
          height?: number | null
          id?: string
          media_type?: string
          metadata?: Json | null
          mime_type?: string | null
          mindmap_id?: string | null
          processing_completed_at?: string | null
          processing_started_at?: string | null
          project_id?: string | null
          retry_count?: number | null
          storage_url?: string
          thumbnail_url?: string | null
          updated_at?: string | null
          upload_status?: string | null
          uploaded_at?: string | null
          width?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "client_media_uploads_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "client_media_uploads_mindmap_id_fkey"
            columns: ["mindmap_id"]
            isOneToOne: false
            referencedRelation: "project_mindmaps"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "client_media_uploads_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      client_momentum_alerts: {
        Row: {
          acknowledged_at: string | null
          acknowledged_by: string | null
          alert_data: Json | null
          alert_type: string
          client_id: string
          created_at: string | null
          id: string
          message: string
          organization_id: string
          resolved_at: string | null
          severity: string | null
          status: string | null
          title: string
        }
        Insert: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          alert_data?: Json | null
          alert_type: string
          client_id: string
          created_at?: string | null
          id?: string
          message: string
          organization_id: string
          resolved_at?: string | null
          severity?: string | null
          status?: string | null
          title: string
        }
        Update: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          alert_data?: Json | null
          alert_type?: string
          client_id?: string
          created_at?: string | null
          id?: string
          message?: string
          organization_id?: string
          resolved_at?: string | null
          severity?: string | null
          status?: string | null
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "client_momentum_alerts_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      client_onboarding_tasks: {
        Row: {
          action_url: string | null
          category: string
          client_id: string
          completed_at: string | null
          created_at: string | null
          description: string | null
          estimated_minutes: number | null
          icon: string | null
          id: string
          launch_kit_id: string
          priority: number | null
          requires_approval: boolean | null
          skipped_at: string | null
          status: string
          task_key: string
          title: string
          updated_at: string | null
          voice_completable: boolean | null
          voice_prompt: string | null
        }
        Insert: {
          action_url?: string | null
          category: string
          client_id: string
          completed_at?: string | null
          created_at?: string | null
          description?: string | null
          estimated_minutes?: number | null
          icon?: string | null
          id?: string
          launch_kit_id: string
          priority?: number | null
          requires_approval?: boolean | null
          skipped_at?: string | null
          status?: string
          task_key: string
          title: string
          updated_at?: string | null
          voice_completable?: boolean | null
          voice_prompt?: string | null
        }
        Update: {
          action_url?: string | null
          category?: string
          client_id?: string
          completed_at?: string | null
          created_at?: string | null
          description?: string | null
          estimated_minutes?: number | null
          icon?: string | null
          id?: string
          launch_kit_id?: string
          priority?: number | null
          requires_approval?: boolean | null
          skipped_at?: string | null
          status?: string
          task_key?: string
          title?: string
          updated_at?: string | null
          voice_completable?: boolean | null
          voice_prompt?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "client_onboarding_tasks_launch_kit_id_fkey"
            columns: ["launch_kit_id"]
            isOneToOne: false
            referencedRelation: "client_launch_kits"
            referencedColumns: ["id"]
          },
        ]
      }
      client_profiles: {
        Row: {
          brand_tone: string | null
          created_at: string | null
          expertise_tags: string[] | null
          gmb_listing_ids: string[] | null
          id: string
          locations: string[] | null
          name: string
          niches: string[] | null
          org_id: string
          primary_domain: string
          social_channels: Json | null
          updated_at: string | null
          value_props: string[] | null
          workspace_id: string
        }
        Insert: {
          brand_tone?: string | null
          created_at?: string | null
          expertise_tags?: string[] | null
          gmb_listing_ids?: string[] | null
          id?: string
          locations?: string[] | null
          name: string
          niches?: string[] | null
          org_id: string
          primary_domain: string
          social_channels?: Json | null
          updated_at?: string | null
          value_props?: string[] | null
          workspace_id: string
        }
        Update: {
          brand_tone?: string | null
          created_at?: string | null
          expertise_tags?: string[] | null
          gmb_listing_ids?: string[] | null
          id?: string
          locations?: string[] | null
          name?: string
          niches?: string[] | null
          org_id?: string
          primary_domain?: string
          social_channels?: Json | null
          updated_at?: string | null
          value_props?: string[] | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "client_profiles_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "client_profiles_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      client_review_packs: {
        Row: {
          client_id: string
          created_at: string | null
          data_sources: string[] | null
          delivery_channel: string | null
          end_date: string
          id: string
          narrative: string | null
          performance_report_id: string | null
          period_type: string
          sent_at: string | null
          start_date: string
          status: string | null
          updated_at: string | null
          visual_asset_ids: string[] | null
        }
        Insert: {
          client_id: string
          created_at?: string | null
          data_sources?: string[] | null
          delivery_channel?: string | null
          end_date: string
          id?: string
          narrative?: string | null
          performance_report_id?: string | null
          period_type: string
          sent_at?: string | null
          start_date: string
          status?: string | null
          updated_at?: string | null
          visual_asset_ids?: string[] | null
        }
        Update: {
          client_id?: string
          created_at?: string | null
          data_sources?: string[] | null
          delivery_channel?: string | null
          end_date?: string
          id?: string
          narrative?: string | null
          performance_report_id?: string | null
          period_type?: string
          sent_at?: string | null
          start_date?: string
          status?: string | null
          updated_at?: string | null
          visual_asset_ids?: string[] | null
        }
        Relationships: [
          {
            foreignKeyName: "client_review_packs_performance_report_id_fkey"
            columns: ["performance_report_id"]
            isOneToOne: false
            referencedRelation: "performance_reports"
            referencedColumns: ["id"]
          },
        ]
      }
      client_sites: {
        Row: {
          access_method: string | null
          cms_type: string | null
          cms_version: string | null
          created_at: string | null
          domain: string
          health_score: number | null
          id: string
          issues_count: number | null
          last_scan_at: string | null
          last_sync_at: string | null
          name: string
          notes: string | null
          repository_url: string | null
          seo_score: number | null
          site_type: string | null
          status: string | null
          tags: string[] | null
          updated_at: string | null
          url: string
          workspace_id: string
        }
        Insert: {
          access_method?: string | null
          cms_type?: string | null
          cms_version?: string | null
          created_at?: string | null
          domain: string
          health_score?: number | null
          id?: string
          issues_count?: number | null
          last_scan_at?: string | null
          last_sync_at?: string | null
          name: string
          notes?: string | null
          repository_url?: string | null
          seo_score?: number | null
          site_type?: string | null
          status?: string | null
          tags?: string[] | null
          updated_at?: string | null
          url: string
          workspace_id: string
        }
        Update: {
          access_method?: string | null
          cms_type?: string | null
          cms_version?: string | null
          created_at?: string | null
          domain?: string
          health_score?: number | null
          id?: string
          issues_count?: number | null
          last_scan_at?: string | null
          last_sync_at?: string | null
          name?: string
          notes?: string | null
          repository_url?: string | null
          seo_score?: number | null
          site_type?: string | null
          status?: string | null
          tags?: string[] | null
          updated_at?: string | null
          url?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "client_sites_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      client_success_emails: {
        Row: {
          clicked_at: string | null
          client_id: string
          content_html: string | null
          content_text: string | null
          created_at: string | null
          email_type: string
          id: string
          insights_included: Json | null
          opened_at: string | null
          organization_id: string
          score_at_send: number | null
          sent_at: string | null
          subject: string
        }
        Insert: {
          clicked_at?: string | null
          client_id: string
          content_html?: string | null
          content_text?: string | null
          created_at?: string | null
          email_type: string
          id?: string
          insights_included?: Json | null
          opened_at?: string | null
          organization_id: string
          score_at_send?: number | null
          sent_at?: string | null
          subject: string
        }
        Update: {
          clicked_at?: string | null
          client_id?: string
          content_html?: string | null
          content_text?: string | null
          created_at?: string | null
          email_type?: string
          id?: string
          insights_included?: Json | null
          opened_at?: string | null
          organization_id?: string
          score_at_send?: number | null
          sent_at?: string | null
          subject?: string
        }
        Relationships: [
          {
            foreignKeyName: "client_success_emails_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      client_success_scores: {
        Row: {
          activation_score: number | null
          calculated_at: string | null
          calculation_notes: string | null
          client_id: string
          created_at: string | null
          engagement_score: number | null
          factors_used: Json | null
          id: string
          momentum_score: number | null
          organization_id: string
          overall_score: number | null
          previous_score: number | null
          progress_score: number | null
          satisfaction_score: number | null
          score_change: number | null
          trend: string | null
          updated_at: string | null
        }
        Insert: {
          activation_score?: number | null
          calculated_at?: string | null
          calculation_notes?: string | null
          client_id: string
          created_at?: string | null
          engagement_score?: number | null
          factors_used?: Json | null
          id?: string
          momentum_score?: number | null
          organization_id: string
          overall_score?: number | null
          previous_score?: number | null
          progress_score?: number | null
          satisfaction_score?: number | null
          score_change?: number | null
          trend?: string | null
          updated_at?: string | null
        }
        Update: {
          activation_score?: number | null
          calculated_at?: string | null
          calculation_notes?: string | null
          client_id?: string
          created_at?: string | null
          engagement_score?: number | null
          factors_used?: Json | null
          id?: string
          momentum_score?: number | null
          organization_id?: string
          overall_score?: number | null
          previous_score?: number | null
          progress_score?: number | null
          satisfaction_score?: number | null
          score_change?: number | null
          trend?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "client_success_scores_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      clients: {
        Row: {
          client_status: string
          company_name: string
          contact_id: string | null
          created_at: string
          id: string
          industry: string | null
          lifetime_value: number | null
          metadata: Json | null
          notes: string | null
          tier: string | null
          updated_at: string
          website: string | null
          workspace_id: string
        }
        Insert: {
          client_status?: string
          company_name: string
          contact_id?: string | null
          created_at?: string
          id?: string
          industry?: string | null
          lifetime_value?: number | null
          metadata?: Json | null
          notes?: string | null
          tier?: string | null
          updated_at?: string
          website?: string | null
          workspace_id: string
        }
        Update: {
          client_status?: string
          company_name?: string
          contact_id?: string | null
          created_at?: string
          id?: string
          industry?: string | null
          lifetime_value?: number | null
          metadata?: Json | null
          notes?: string | null
          tier?: string | null
          updated_at?: string
          website?: string | null
          workspace_id?: string
        }
        Relationships: []
      }
      cloud_assets: {
        Row: {
          asset_type: string
          bucket_name: string | null
          cdn_url: string | null
          content_hash: string | null
          content_type: string
          created_at: string | null
          deployment_id: string
          filename: string
          id: string
          metadata: Json | null
          provider: string
          public_url: string | null
          size_bytes: number | null
          status: string | null
          storage_path: string | null
        }
        Insert: {
          asset_type: string
          bucket_name?: string | null
          cdn_url?: string | null
          content_hash?: string | null
          content_type: string
          created_at?: string | null
          deployment_id: string
          filename: string
          id?: string
          metadata?: Json | null
          provider: string
          public_url?: string | null
          size_bytes?: number | null
          status?: string | null
          storage_path?: string | null
        }
        Update: {
          asset_type?: string
          bucket_name?: string | null
          cdn_url?: string | null
          content_hash?: string | null
          content_type?: string
          created_at?: string | null
          deployment_id?: string
          filename?: string
          id?: string
          metadata?: Json | null
          provider?: string
          public_url?: string | null
          size_bytes?: number | null
          status?: string | null
          storage_path?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "cloud_assets_deployment_id_fkey"
            columns: ["deployment_id"]
            isOneToOne: false
            referencedRelation: "cloud_deployments"
            referencedColumns: ["id"]
          },
        ]
      }
      cloud_deployments: {
        Row: {
          config: Json | null
          created_at: string | null
          deployed_at: string | null
          deployment_type: string
          description: string | null
          expires_at: string | null
          graph_id: string | null
          id: string
          metadata: Json | null
          name: string
          org_id: string
          status: string | null
          target_url: string | null
          updated_at: string | null
        }
        Insert: {
          config?: Json | null
          created_at?: string | null
          deployed_at?: string | null
          deployment_type: string
          description?: string | null
          expires_at?: string | null
          graph_id?: string | null
          id?: string
          metadata?: Json | null
          name: string
          org_id: string
          status?: string | null
          target_url?: string | null
          updated_at?: string | null
        }
        Update: {
          config?: Json | null
          created_at?: string | null
          deployed_at?: string | null
          deployment_type?: string
          description?: string | null
          expires_at?: string | null
          graph_id?: string | null
          id?: string
          metadata?: Json | null
          name?: string
          org_id?: string
          status?: string | null
          target_url?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "cloud_deployments_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      cloud_links: {
        Row: {
          anchor_text: string | null
          chain_position: number | null
          created_at: string | null
          deployment_id: string
          id: string
          is_money_site_link: boolean | null
          link_order: number | null
          link_type: string
          metadata: Json | null
          rel_attribute: string | null
          source_url: string | null
          source_variant_id: string | null
          target_url: string | null
          target_variant_id: string | null
        }
        Insert: {
          anchor_text?: string | null
          chain_position?: number | null
          created_at?: string | null
          deployment_id: string
          id?: string
          is_money_site_link?: boolean | null
          link_order?: number | null
          link_type: string
          metadata?: Json | null
          rel_attribute?: string | null
          source_url?: string | null
          source_variant_id?: string | null
          target_url?: string | null
          target_variant_id?: string | null
        }
        Update: {
          anchor_text?: string | null
          chain_position?: number | null
          created_at?: string | null
          deployment_id?: string
          id?: string
          is_money_site_link?: boolean | null
          link_order?: number | null
          link_type?: string
          metadata?: Json | null
          rel_attribute?: string | null
          source_url?: string | null
          source_variant_id?: string | null
          target_url?: string | null
          target_variant_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "cloud_links_deployment_id_fkey"
            columns: ["deployment_id"]
            isOneToOne: false
            referencedRelation: "cloud_deployments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cloud_links_source_variant_id_fkey"
            columns: ["source_variant_id"]
            isOneToOne: false
            referencedRelation: "cloud_variants"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cloud_links_target_variant_id_fkey"
            columns: ["target_variant_id"]
            isOneToOne: false
            referencedRelation: "cloud_variants"
            referencedColumns: ["id"]
          },
        ]
      }
      cloud_variants: {
        Row: {
          color_scheme: string | null
          created_at: string | null
          deployed_url: string | null
          deployment_id: string
          font_family: string | null
          id: string
          layout_variant: string | null
          metadata: Json | null
          provider: string
          publish_delay_ms: number | null
          seed: number
          source_url: string | null
          template_variant: string | null
          variant_index: number
        }
        Insert: {
          color_scheme?: string | null
          created_at?: string | null
          deployed_url?: string | null
          deployment_id: string
          font_family?: string | null
          id?: string
          layout_variant?: string | null
          metadata?: Json | null
          provider: string
          publish_delay_ms?: number | null
          seed: number
          source_url?: string | null
          template_variant?: string | null
          variant_index: number
        }
        Update: {
          color_scheme?: string | null
          created_at?: string | null
          deployed_url?: string | null
          deployment_id?: string
          font_family?: string | null
          id?: string
          layout_variant?: string | null
          metadata?: Json | null
          provider?: string
          publish_delay_ms?: number | null
          seed?: number
          source_url?: string | null
          template_variant?: string | null
          variant_index?: number
        }
        Relationships: [
          {
            foreignKeyName: "cloud_variants_deployment_id_fkey"
            columns: ["deployment_id"]
            isOneToOne: false
            referencedRelation: "cloud_deployments"
            referencedColumns: ["id"]
          },
        ]
      }
      coalition_history: {
        Row: {
          agent_ids: string[]
          completed_at: string | null
          created_at: string | null
          execution_time_ms: number | null
          health_score: number | null
          id: string
          leader_id: string | null
          member_contributions: Json | null
          outcome: string
          pattern_type: string | null
          safety_vetoes: string[] | null
          synergy_score: number
          task_id: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          agent_ids: string[]
          completed_at?: string | null
          created_at?: string | null
          execution_time_ms?: number | null
          health_score?: number | null
          id?: string
          leader_id?: string | null
          member_contributions?: Json | null
          outcome: string
          pattern_type?: string | null
          safety_vetoes?: string[] | null
          synergy_score: number
          task_id: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          agent_ids?: string[]
          completed_at?: string | null
          created_at?: string | null
          execution_time_ms?: number | null
          health_score?: number | null
          id?: string
          leader_id?: string | null
          member_contributions?: Json | null
          outcome?: string
          pattern_type?: string | null
          safety_vetoes?: string[] | null
          synergy_score?: number
          task_id?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "coalition_history_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      coalition_members: {
        Row: {
          agent_id: string
          capability_match: number | null
          created_at: string | null
          fallback_agents: string[] | null
          id: string
          member_status: string | null
          primary_role: string
          proposal_id: string
          secondary_roles: string[] | null
          success_rate: number | null
        }
        Insert: {
          agent_id: string
          capability_match?: number | null
          created_at?: string | null
          fallback_agents?: string[] | null
          id?: string
          member_status?: string | null
          primary_role: string
          proposal_id: string
          secondary_roles?: string[] | null
          success_rate?: number | null
        }
        Update: {
          agent_id?: string
          capability_match?: number | null
          created_at?: string | null
          fallback_agents?: string[] | null
          id?: string
          member_status?: string | null
          primary_role?: string
          proposal_id?: string
          secondary_roles?: string[] | null
          success_rate?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "coalition_members_proposal_id_fkey"
            columns: ["proposal_id"]
            isOneToOne: false
            referencedRelation: "coalition_proposals"
            referencedColumns: ["id"]
          },
        ]
      }
      coalition_patterns: {
        Row: {
          agent_combinations: string[] | null
          average_execution_time_ms: number | null
          average_synergy: number | null
          detected_at: string | null
          id: string
          insights: string[] | null
          occurrence_count: number | null
          pattern_type: string
          success_rate: number | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          agent_combinations?: string[] | null
          average_execution_time_ms?: number | null
          average_synergy?: number | null
          detected_at?: string | null
          id?: string
          insights?: string[] | null
          occurrence_count?: number | null
          pattern_type: string
          success_rate?: number | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          agent_combinations?: string[] | null
          average_execution_time_ms?: number | null
          average_synergy?: number | null
          detected_at?: string | null
          id?: string
          insights?: string[] | null
          occurrence_count?: number | null
          pattern_type?: string
          success_rate?: number | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "coalition_patterns_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      coalition_proposals: {
        Row: {
          accepted_at: string | null
          agent_ids: string[]
          created_at: string | null
          estimated_outcome: number | null
          id: string
          proposal_status: string
          recommended_leader: string
          safety_approved: boolean | null
          safety_vetoes: string[] | null
          synergy_score: number
          task_complexity: number
          task_id: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          accepted_at?: string | null
          agent_ids: string[]
          created_at?: string | null
          estimated_outcome?: number | null
          id?: string
          proposal_status: string
          recommended_leader: string
          safety_approved?: boolean | null
          safety_vetoes?: string[] | null
          synergy_score: number
          task_complexity: number
          task_id: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          accepted_at?: string | null
          agent_ids?: string[]
          created_at?: string | null
          estimated_outcome?: number | null
          id?: string
          proposal_status?: string
          recommended_leader?: string
          safety_approved?: boolean | null
          safety_vetoes?: string[] | null
          synergy_score?: number
          task_complexity?: number
          task_id?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "coalition_proposals_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      coalition_roles: {
        Row: {
          agent_id: string
          arbitration_used: boolean | null
          conflict_detected: boolean | null
          conflict_reason: string | null
          created_at: string | null
          id: string
          proposal_id: string
          role: string
          role_assignment_score: number | null
        }
        Insert: {
          agent_id: string
          arbitration_used?: boolean | null
          conflict_detected?: boolean | null
          conflict_reason?: string | null
          created_at?: string | null
          id?: string
          proposal_id: string
          role: string
          role_assignment_score?: number | null
        }
        Update: {
          agent_id?: string
          arbitration_used?: boolean | null
          conflict_detected?: boolean | null
          conflict_reason?: string | null
          created_at?: string | null
          id?: string
          proposal_id?: string
          role?: string
          role_assignment_score?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "coalition_roles_proposal_id_fkey"
            columns: ["proposal_id"]
            isOneToOne: false
            referencedRelation: "coalition_proposals"
            referencedColumns: ["id"]
          },
        ]
      }
      cognitive_load_snapshots: {
        Row: {
          created_at: string
          id: string
          load_vector: Json
          overall_load: number
          recommended_actions: Json
          region_id: string | null
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          created_at?: string
          id?: string
          load_vector: Json
          overall_load: number
          recommended_actions?: Json
          region_id?: string | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          created_at?: string
          id?: string
          load_vector?: Json
          overall_load?: number
          recommended_actions?: Json
          region_id?: string | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "cognitive_load_snapshots_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cognitive_load_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      cognitive_twin_decisions: {
        Row: {
          ai_recommendation: string | null
          created_at: string | null
          decided_at: string | null
          decision_type: string
          founder_business_id: string | null
          human_decision: string | null
          id: string
          options: Json | null
          outcome: Json | null
          owner_user_id: string
          scenario: Json
        }
        Insert: {
          ai_recommendation?: string | null
          created_at?: string | null
          decided_at?: string | null
          decision_type: string
          founder_business_id?: string | null
          human_decision?: string | null
          id?: string
          options?: Json | null
          outcome?: Json | null
          owner_user_id: string
          scenario: Json
        }
        Update: {
          ai_recommendation?: string | null
          created_at?: string | null
          decided_at?: string | null
          decision_type?: string
          founder_business_id?: string | null
          human_decision?: string | null
          id?: string
          options?: Json | null
          outcome?: Json | null
          owner_user_id?: string
          scenario?: Json
        }
        Relationships: [
          {
            foreignKeyName: "cognitive_twin_decisions_founder_business_id_fkey"
            columns: ["founder_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      cognitive_twin_digests: {
        Row: {
          action_items: Json | null
          created_at: string | null
          digest_md: string
          digest_type: string
          id: string
          key_metrics: Json | null
          owner_user_id: string
        }
        Insert: {
          action_items?: Json | null
          created_at?: string | null
          digest_md: string
          digest_type: string
          id?: string
          key_metrics?: Json | null
          owner_user_id: string
        }
        Update: {
          action_items?: Json | null
          created_at?: string | null
          digest_md?: string
          digest_type?: string
          id?: string
          key_metrics?: Json | null
          owner_user_id?: string
        }
        Relationships: []
      }
      cognitive_twin_scores: {
        Row: {
          created_at: string | null
          domain: string
          founder_business_id: string | null
          id: string
          momentum: Json
          opportunities: Json | null
          overall_health: number | null
          owner_user_id: string
          risks: Json | null
        }
        Insert: {
          created_at?: string | null
          domain: string
          founder_business_id?: string | null
          id?: string
          momentum: Json
          opportunities?: Json | null
          overall_health?: number | null
          owner_user_id: string
          risks?: Json | null
        }
        Update: {
          created_at?: string | null
          domain?: string
          founder_business_id?: string | null
          id?: string
          momentum?: Json
          opportunities?: Json | null
          overall_health?: number | null
          owner_user_id?: string
          risks?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "cognitive_twin_scores_founder_business_id_fkey"
            columns: ["founder_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      cohort_intelligence_summaries: {
        Row: {
          aggregated_data: Json
          cohort_id: string | null
          confidence: number
          created_at: string
          id: string
          summary_type: string
          uncertainty_notes: string | null
        }
        Insert: {
          aggregated_data: Json
          cohort_id?: string | null
          confidence: number
          created_at?: string
          id?: string
          summary_type: string
          uncertainty_notes?: string | null
        }
        Update: {
          aggregated_data?: Json
          cohort_id?: string | null
          confidence?: number
          created_at?: string
          id?: string
          summary_type?: string
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "cohort_intelligence_summaries_cohort_id_fkey"
            columns: ["cohort_id"]
            isOneToOne: false
            referencedRelation: "tenant_cohorts"
            referencedColumns: ["id"]
          },
        ]
      }
      combat_entries: {
        Row: {
          clicks: number
          confidence: number
          conversions: number
          created_at: string
          creative_asset_id: string
          engagement_rate: number | null
          entry_status: string
          id: string
          impressions: number
          metadata: Json
          posting_execution_id: string | null
          raw_metrics: Json
          reality_adjusted_metrics: Json
          round_id: string
          score: number
          variant: string
        }
        Insert: {
          clicks?: number
          confidence?: number
          conversions?: number
          created_at?: string
          creative_asset_id: string
          engagement_rate?: number | null
          entry_status?: string
          id?: string
          impressions?: number
          metadata?: Json
          posting_execution_id?: string | null
          raw_metrics?: Json
          reality_adjusted_metrics?: Json
          round_id: string
          score?: number
          variant?: string
        }
        Update: {
          clicks?: number
          confidence?: number
          conversions?: number
          created_at?: string
          creative_asset_id?: string
          engagement_rate?: number | null
          entry_status?: string
          id?: string
          impressions?: number
          metadata?: Json
          posting_execution_id?: string | null
          raw_metrics?: Json
          reality_adjusted_metrics?: Json
          round_id?: string
          score?: number
          variant?: string
        }
        Relationships: [
          {
            foreignKeyName: "combat_entries_posting_execution_id_fkey"
            columns: ["posting_execution_id"]
            isOneToOne: false
            referencedRelation: "posting_executions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "combat_entries_round_id_fkey"
            columns: ["round_id"]
            isOneToOne: false
            referencedRelation: "combat_rounds"
            referencedColumns: ["id"]
          },
        ]
      }
      combat_results: {
        Row: {
          confidence_band: string
          created_at: string
          evolution_triggered: boolean
          id: string
          loser_entry_id: string | null
          loser_retired: boolean
          loser_score: number | null
          metadata: Json
          result_type: string
          round_id: string
          score_difference: number | null
          score_lift_percent: number | null
          statistical_significance: number | null
          summary_markdown: string
          truth_complete: boolean
          truth_notes: string | null
          winner_entry_id: string | null
          winner_promoted: boolean
          winner_score: number | null
        }
        Insert: {
          confidence_band?: string
          created_at?: string
          evolution_triggered?: boolean
          id?: string
          loser_entry_id?: string | null
          loser_retired?: boolean
          loser_score?: number | null
          metadata?: Json
          result_type?: string
          round_id: string
          score_difference?: number | null
          score_lift_percent?: number | null
          statistical_significance?: number | null
          summary_markdown: string
          truth_complete?: boolean
          truth_notes?: string | null
          winner_entry_id?: string | null
          winner_promoted?: boolean
          winner_score?: number | null
        }
        Update: {
          confidence_band?: string
          created_at?: string
          evolution_triggered?: boolean
          id?: string
          loser_entry_id?: string | null
          loser_retired?: boolean
          loser_score?: number | null
          metadata?: Json
          result_type?: string
          round_id?: string
          score_difference?: number | null
          score_lift_percent?: number | null
          statistical_significance?: number | null
          summary_markdown?: string
          truth_complete?: boolean
          truth_notes?: string | null
          winner_entry_id?: string | null
          winner_promoted?: boolean
          winner_score?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "combat_results_loser_entry_id_fkey"
            columns: ["loser_entry_id"]
            isOneToOne: false
            referencedRelation: "combat_entries"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "combat_results_round_id_fkey"
            columns: ["round_id"]
            isOneToOne: false
            referencedRelation: "combat_rounds"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "combat_results_winner_entry_id_fkey"
            columns: ["winner_entry_id"]
            isOneToOne: false
            referencedRelation: "combat_entries"
            referencedColumns: ["id"]
          },
        ]
      }
      combat_rounds: {
        Row: {
          channel: string
          client_id: string
          completed_at: string | null
          created_at: string
          id: string
          metadata: Json
          min_confidence: number
          min_sample_size: number
          round_status: string
          started_at: string | null
          strategy: string
          tenant_id: string | null
          truth_notes: string | null
          workspace_id: string
        }
        Insert: {
          channel: string
          client_id: string
          completed_at?: string | null
          created_at?: string
          id?: string
          metadata?: Json
          min_confidence?: number
          min_sample_size?: number
          round_status?: string
          started_at?: string | null
          strategy?: string
          tenant_id?: string | null
          truth_notes?: string | null
          workspace_id: string
        }
        Update: {
          channel?: string
          client_id?: string
          completed_at?: string | null
          created_at?: string
          id?: string
          metadata?: Json
          min_confidence?: number
          min_sample_size?: number
          round_status?: string
          started_at?: string | null
          strategy?: string
          tenant_id?: string | null
          truth_notes?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "combat_rounds_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "combat_rounds_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      commercial_offers: {
        Row: {
          base_price: number
          category: string
          created_at: string | null
          dynamic_price: number | null
          generated_strategy: Json | null
          id: string
          offer_name: string
          org_id: string
          status: string
          target_market: string | null
          value_proposition: string | null
        }
        Insert: {
          base_price?: number
          category: string
          created_at?: string | null
          dynamic_price?: number | null
          generated_strategy?: Json | null
          id?: string
          offer_name: string
          org_id: string
          status?: string
          target_market?: string | null
          value_proposition?: string | null
        }
        Update: {
          base_price?: number
          category?: string
          created_at?: string | null
          dynamic_price?: number | null
          generated_strategy?: Json | null
          id?: string
          offer_name?: string
          org_id?: string
          status?: string
          target_market?: string | null
          value_proposition?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "commercial_offers_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      competitor_analysis: {
        Row: {
          analysis_type: string
          created_at: string | null
          data: Json
          id: string
          updated_at: string | null
          url: string
          user_id: string
          workspace_id: string
        }
        Insert: {
          analysis_type: string
          created_at?: string | null
          data: Json
          id?: string
          updated_at?: string | null
          url: string
          user_id: string
          workspace_id: string
        }
        Update: {
          analysis_type?: string
          created_at?: string | null
          data?: Json
          id?: string
          updated_at?: string | null
          url?: string
          user_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "competitor_analysis_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      competitor_monitoring: {
        Row: {
          changes: Json | null
          changes_detected: boolean | null
          competitor_id: string | null
          current_analysis_id: string | null
          id: string
          monitored_at: string | null
          previous_analysis_id: string | null
          url: string
          workspace_id: string
        }
        Insert: {
          changes?: Json | null
          changes_detected?: boolean | null
          competitor_id?: string | null
          current_analysis_id?: string | null
          id?: string
          monitored_at?: string | null
          previous_analysis_id?: string | null
          url: string
          workspace_id: string
        }
        Update: {
          changes?: Json | null
          changes_detected?: boolean | null
          competitor_id?: string | null
          current_analysis_id?: string | null
          id?: string
          monitored_at?: string | null
          previous_analysis_id?: string | null
          url?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "competitor_monitoring_competitor_id_fkey"
            columns: ["competitor_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "competitor_monitoring_current_analysis_id_fkey"
            columns: ["current_analysis_id"]
            isOneToOne: false
            referencedRelation: "competitor_analysis"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "competitor_monitoring_previous_analysis_id_fkey"
            columns: ["previous_analysis_id"]
            isOneToOne: false
            referencedRelation: "competitor_analysis"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "competitor_monitoring_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      competitor_profiles: {
        Row: {
          client_domain: string
          competitor_domain: string
          competitor_name: string | null
          created_at: string
          domain: string | null
          founder_business_id: string | null
          id: string
          is_active: boolean | null
          metrics: Json | null
          name: string | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          client_domain: string
          competitor_domain: string
          competitor_name?: string | null
          created_at?: string
          domain?: string | null
          founder_business_id?: string | null
          id?: string
          is_active?: boolean | null
          metrics?: Json | null
          name?: string | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          client_domain?: string
          competitor_domain?: string
          competitor_name?: string | null
          created_at?: string
          domain?: string | null
          founder_business_id?: string | null
          id?: string
          is_active?: boolean | null
          metrics?: Json | null
          name?: string | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "competitor_profiles_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      compliance_events: {
        Row: {
          details: Json | null
          event_type: string
          id: string
          occurred_at: string | null
          org_id: string
          source: string
        }
        Insert: {
          details?: Json | null
          event_type: string
          id?: string
          occurred_at?: string | null
          org_id: string
          source: string
        }
        Update: {
          details?: Json | null
          event_type?: string
          id?: string
          occurred_at?: string | null
          org_id?: string
          source?: string
        }
        Relationships: [
          {
            foreignKeyName: "compliance_events_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      compliance_incidents: {
        Row: {
          agency_id: string
          client_id: string | null
          content_ref: Json
          created_at: string
          id: string
          metadata: Json
          notes_markdown: string
          platform: string
          policy_code: string
          region_id: string | null
          resolved_at: string | null
          resolved_by: string | null
          severity: string
          status: string
        }
        Insert: {
          agency_id: string
          client_id?: string | null
          content_ref?: Json
          created_at?: string
          id?: string
          metadata?: Json
          notes_markdown: string
          platform: string
          policy_code: string
          region_id?: string | null
          resolved_at?: string | null
          resolved_by?: string | null
          severity: string
          status: string
        }
        Update: {
          agency_id?: string
          client_id?: string | null
          content_ref?: Json
          created_at?: string
          id?: string
          metadata?: Json
          notes_markdown?: string
          platform?: string
          policy_code?: string
          region_id?: string | null
          resolved_at?: string | null
          resolved_by?: string | null
          severity?: string
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "compliance_incidents_agency_id_fkey"
            columns: ["agency_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "compliance_incidents_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "compliance_incidents_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
        ]
      }
      compliance_policies: {
        Row: {
          created_at: string
          description_markdown: string
          example_patterns: Json
          id: string
          is_active: boolean
          metadata: Json
          platform: string
          policy_code: string
          region_slug: string
          severity: string
          updated_at: string
        }
        Insert: {
          created_at?: string
          description_markdown: string
          example_patterns?: Json
          id?: string
          is_active?: boolean
          metadata?: Json
          platform: string
          policy_code: string
          region_slug: string
          severity: string
          updated_at?: string
        }
        Update: {
          created_at?: string
          description_markdown?: string
          example_patterns?: Json
          id?: string
          is_active?: boolean
          metadata?: Json
          platform?: string
          policy_code?: string
          region_slug?: string
          severity?: string
          updated_at?: string
        }
        Relationships: []
      }
      compliance_purchases: {
        Row: {
          customized_document_url: string | null
          id: string
          org_id: string
          purchased_at: string | null
          template_id: string
        }
        Insert: {
          customized_document_url?: string | null
          id?: string
          org_id: string
          purchased_at?: string | null
          template_id: string
        }
        Update: {
          customized_document_url?: string | null
          id?: string
          org_id?: string
          purchased_at?: string | null
          template_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "compliance_purchases_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "compliance_purchases_template_fk"
            columns: ["template_id"]
            isOneToOne: false
            referencedRelation: "compliance_templates"
            referencedColumns: ["id"]
          },
        ]
      }
      compliance_templates: {
        Row: {
          category: string
          content_template: string
          created_at: string | null
          description: string | null
          id: string
          price_usd: number
          region_applicability: Json | null
          title: string
        }
        Insert: {
          category: string
          content_template: string
          created_at?: string | null
          description?: string | null
          id?: string
          price_usd?: number
          region_applicability?: Json | null
          title: string
        }
        Update: {
          category?: string
          content_template?: string
          created_at?: string | null
          description?: string | null
          id?: string
          price_usd?: number
          region_applicability?: Json | null
          title?: string
        }
        Relationships: []
      }
      compliance_violations: {
        Row: {
          description: string
          event_id: string
          id: string
          metadata: Json | null
          resolved: boolean
          resolved_at: string | null
          rule: string
          severity: string
        }
        Insert: {
          description: string
          event_id: string
          id?: string
          metadata?: Json | null
          resolved?: boolean
          resolved_at?: string | null
          rule: string
          severity?: string
        }
        Update: {
          description?: string
          event_id?: string
          id?: string
          metadata?: Json | null
          resolved?: boolean
          resolved_at?: string | null
          rule?: string
          severity?: string
        }
        Relationships: [
          {
            foreignKeyName: "compliance_violations_event_fk"
            columns: ["event_id"]
            isOneToOne: false
            referencedRelation: "compliance_events"
            referencedColumns: ["id"]
          },
        ]
      }
      concierge_actions: {
        Row: {
          action_type: string
          created_at: string | null
          id: string
          input_payload: Json | null
          model_used: string
          output_payload: Json | null
          session_id: string
          token_cost: number
        }
        Insert: {
          action_type: string
          created_at?: string | null
          id?: string
          input_payload?: Json | null
          model_used: string
          output_payload?: Json | null
          session_id: string
          token_cost?: number
        }
        Update: {
          action_type?: string
          created_at?: string | null
          id?: string
          input_payload?: Json | null
          model_used?: string
          output_payload?: Json | null
          session_id?: string
          token_cost?: number
        }
        Relationships: [
          {
            foreignKeyName: "concierge_actions_session_fk"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "concierge_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      concierge_sessions: {
        Row: {
          created_at: string | null
          id: string
          language_code: string
          last_used_at: string | null
          org_id: string
          session_context: Json | null
          user_id: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          language_code?: string
          last_used_at?: string | null
          org_id: string
          session_context?: Json | null
          user_id: string
        }
        Update: {
          created_at?: string | null
          id?: string
          language_code?: string
          last_used_at?: string | null
          org_id?: string
          session_context?: Json | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "concierge_sessions_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      connected_apps: {
        Row: {
          connected_at: string | null
          created_at: string | null
          granted_scopes: string[] | null
          id: string
          last_error: string | null
          last_sync_at: string | null
          metadata: Json | null
          provider: string
          provider_account_id: string | null
          provider_avatar_url: string | null
          provider_email: string | null
          provider_name: string | null
          status: string
          updated_at: string | null
          user_id: string
          workspace_id: string
        }
        Insert: {
          connected_at?: string | null
          created_at?: string | null
          granted_scopes?: string[] | null
          id?: string
          last_error?: string | null
          last_sync_at?: string | null
          metadata?: Json | null
          provider: string
          provider_account_id?: string | null
          provider_avatar_url?: string | null
          provider_email?: string | null
          provider_name?: string | null
          status?: string
          updated_at?: string | null
          user_id: string
          workspace_id: string
        }
        Update: {
          connected_at?: string | null
          created_at?: string | null
          granted_scopes?: string[] | null
          id?: string
          last_error?: string | null
          last_sync_at?: string | null
          metadata?: Json | null
          provider?: string
          provider_account_id?: string | null
          provider_avatar_url?: string | null
          provider_email?: string | null
          provider_name?: string | null
          status?: string
          updated_at?: string | null
          user_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "connected_apps_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_emails: {
        Row: {
          bounce_count: number | null
          contact_id: string
          created_at: string | null
          email: string
          email_type: string | null
          id: string
          is_active: boolean | null
          is_primary: boolean | null
          is_verified: boolean | null
          last_contacted_at: string | null
          updated_at: string | null
          verified_at: string | null
        }
        Insert: {
          bounce_count?: number | null
          contact_id: string
          created_at?: string | null
          email: string
          email_type?: string | null
          id?: string
          is_active?: boolean | null
          is_primary?: boolean | null
          is_verified?: boolean | null
          last_contacted_at?: string | null
          updated_at?: string | null
          verified_at?: string | null
        }
        Update: {
          bounce_count?: number | null
          contact_id?: string
          created_at?: string | null
          email?: string
          email_type?: string | null
          id?: string
          is_active?: boolean | null
          is_primary?: boolean | null
          is_verified?: boolean | null
          last_contacted_at?: string | null
          updated_at?: string | null
          verified_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "contact_emails_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_interactions: {
        Row: {
          ai_sentiment: string | null
          contact_id: string
          created_at: string | null
          details: Json | null
          engagement_score: number | null
          id: string
          interaction_date: string | null
          interaction_type: string
        }
        Insert: {
          ai_sentiment?: string | null
          contact_id: string
          created_at?: string | null
          details?: Json | null
          engagement_score?: number | null
          id?: string
          interaction_date?: string | null
          interaction_type: string
        }
        Update: {
          ai_sentiment?: string | null
          contact_id?: string
          created_at?: string | null
          details?: Json | null
          engagement_score?: number | null
          id?: string
          interaction_date?: string | null
          interaction_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "contact_interactions_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      contacts: {
        Row: {
          ai_analysis: Json | null
          ai_score: number | null
          buying_intent: string | null
          company: string | null
          created_at: string | null
          created_by: string | null
          custom_fields: Json | null
          decision_stage: string | null
          email: string | null
          email_count: number | null
          engagement_velocity: number | null
          id: string
          industry: string | null
          job_title: string | null
          last_analysis_at: string | null
          last_contacted_at: string | null
          last_interaction: string | null
          name: string | null
          opportunity_signals: string[] | null
          phone: string | null
          primary_email_id: string | null
          risk_signals: string[] | null
          role_type: string | null
          sentiment_score: number | null
          source: string | null
          status: string | null
          tenant_id: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          ai_analysis?: Json | null
          ai_score?: number | null
          buying_intent?: string | null
          company?: string | null
          created_at?: string | null
          created_by?: string | null
          custom_fields?: Json | null
          decision_stage?: string | null
          email?: string | null
          email_count?: number | null
          engagement_velocity?: number | null
          id?: string
          industry?: string | null
          job_title?: string | null
          last_analysis_at?: string | null
          last_contacted_at?: string | null
          last_interaction?: string | null
          name?: string | null
          opportunity_signals?: string[] | null
          phone?: string | null
          primary_email_id?: string | null
          risk_signals?: string[] | null
          role_type?: string | null
          sentiment_score?: number | null
          source?: string | null
          status?: string | null
          tenant_id?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          ai_analysis?: Json | null
          ai_score?: number | null
          buying_intent?: string | null
          company?: string | null
          created_at?: string | null
          created_by?: string | null
          custom_fields?: Json | null
          decision_stage?: string | null
          email?: string | null
          email_count?: number | null
          engagement_velocity?: number | null
          id?: string
          industry?: string | null
          job_title?: string | null
          last_analysis_at?: string | null
          last_contacted_at?: string | null
          last_interaction?: string | null
          name?: string | null
          opportunity_signals?: string[] | null
          phone?: string | null
          primary_email_id?: string | null
          risk_signals?: string[] | null
          role_type?: string | null
          sentiment_score?: number | null
          source?: string | null
          status?: string | null
          tenant_id?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "contacts_primary_email_id_fkey"
            columns: ["primary_email_id"]
            isOneToOne: false
            referencedRelation: "contact_emails"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contacts_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contacts_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      content_analysis_jobs: {
        Row: {
          created_at: string
          founder_business_id: string | null
          id: string
          secondary_keywords: string[] | null
          status: string
          target_keyword: string
          updated_at: string
          url: string
          workspace_id: string
        }
        Insert: {
          created_at?: string
          founder_business_id?: string | null
          id?: string
          secondary_keywords?: string[] | null
          status?: string
          target_keyword: string
          updated_at?: string
          url: string
          workspace_id: string
        }
        Update: {
          created_at?: string
          founder_business_id?: string | null
          id?: string
          secondary_keywords?: string[] | null
          status?: string
          target_keyword?: string
          updated_at?: string
          url?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "content_analysis_jobs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      content_assets: {
        Row: {
          ai_source_score: number | null
          authority_score: number | null
          body_markdown: string | null
          client_id: string
          created_at: string | null
          evergreen_score: number | null
          format: string
          id: string
          intent_cluster_id: string | null
          last_reviewed_at: string | null
          localisation_tags: string[] | null
          media_assets: Json | null
          published_at: string | null
          qa_blocks: Json | null
          schema_types: string[] | null
          slug: string
          status: string | null
          summary: string | null
          title: string
          topic_id: string | null
          type: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          ai_source_score?: number | null
          authority_score?: number | null
          body_markdown?: string | null
          client_id: string
          created_at?: string | null
          evergreen_score?: number | null
          format: string
          id?: string
          intent_cluster_id?: string | null
          last_reviewed_at?: string | null
          localisation_tags?: string[] | null
          media_assets?: Json | null
          published_at?: string | null
          qa_blocks?: Json | null
          schema_types?: string[] | null
          slug: string
          status?: string | null
          summary?: string | null
          title: string
          topic_id?: string | null
          type: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          ai_source_score?: number | null
          authority_score?: number | null
          body_markdown?: string | null
          client_id?: string
          created_at?: string | null
          evergreen_score?: number | null
          format?: string
          id?: string
          intent_cluster_id?: string | null
          last_reviewed_at?: string | null
          localisation_tags?: string[] | null
          media_assets?: Json | null
          published_at?: string | null
          qa_blocks?: Json | null
          schema_types?: string[] | null
          slug?: string
          status?: string | null
          summary?: string | null
          title?: string
          topic_id?: string | null
          type?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "content_assets_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "client_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "content_assets_intent_cluster_id_fkey"
            columns: ["intent_cluster_id"]
            isOneToOne: false
            referencedRelation: "intent_clusters"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "content_assets_topic_id_fkey"
            columns: ["topic_id"]
            isOneToOne: false
            referencedRelation: "topics"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "content_assets_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      content_gap_analysis: {
        Row: {
          analyzed_at: string
          client_domain: string
          client_page_types: Json | null
          client_topics: Json | null
          competitor_page_types: Json | null
          competitor_topics: Json | null
          content_recommendations: Json | null
          created_at: string
          founder_business_id: string | null
          gaps: Json | null
          id: string
          missing_content_types: Json | null
          missing_topics: Json | null
          priority_topics: Json | null
          topic_cluster: string | null
          workspace_id: string
        }
        Insert: {
          analyzed_at?: string
          client_domain: string
          client_page_types?: Json | null
          client_topics?: Json | null
          competitor_page_types?: Json | null
          competitor_topics?: Json | null
          content_recommendations?: Json | null
          created_at?: string
          founder_business_id?: string | null
          gaps?: Json | null
          id?: string
          missing_content_types?: Json | null
          missing_topics?: Json | null
          priority_topics?: Json | null
          topic_cluster?: string | null
          workspace_id: string
        }
        Update: {
          analyzed_at?: string
          client_domain?: string
          client_page_types?: Json | null
          client_topics?: Json | null
          competitor_page_types?: Json | null
          competitor_topics?: Json | null
          content_recommendations?: Json | null
          created_at?: string
          founder_business_id?: string | null
          gaps?: Json | null
          id?: string
          missing_content_types?: Json | null
          missing_topics?: Json | null
          priority_topics?: Json | null
          topic_cluster?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "content_gap_analysis_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      content_optimization_results: {
        Row: {
          analysis_job_id: string
          avg_competitor_word_count: number | null
          avg_paragraph_length: number | null
          avg_sentence_length: number | null
          completeness_score: number
          content_analysis_job_id: string | null
          content_gap_topics: Json | null
          content_recommendations: Json | null
          created_at: string
          detected_intent: string | null
          eeat_scores: Json | null
          flesch_kincaid_grade: number | null
          flesch_reading_ease: number | null
          heading_structure: Json | null
          id: string
          intent_alignment_notes: string | null
          keyword_density: number | null
          keyword_in_h1: boolean | null
          keyword_in_meta: boolean | null
          keyword_in_title: boolean | null
          keyword_in_url: boolean | null
          keyword_occurrences: number | null
          keyword_optimization_score: number
          meta_recommendations: Json | null
          navboost_friendly_patterns: Json | null
          overall_content_score: number
          paragraph_count: number | null
          readability_score: number
          recommendations: Json | null
          search_intent: string | null
          search_intent_score: number
          structure_recommendations: Json | null
          title_recommendations: Json | null
          word_count: number | null
        }
        Insert: {
          analysis_job_id: string
          avg_competitor_word_count?: number | null
          avg_paragraph_length?: number | null
          avg_sentence_length?: number | null
          completeness_score?: number
          content_analysis_job_id?: string | null
          content_gap_topics?: Json | null
          content_recommendations?: Json | null
          created_at?: string
          detected_intent?: string | null
          eeat_scores?: Json | null
          flesch_kincaid_grade?: number | null
          flesch_reading_ease?: number | null
          heading_structure?: Json | null
          id?: string
          intent_alignment_notes?: string | null
          keyword_density?: number | null
          keyword_in_h1?: boolean | null
          keyword_in_meta?: boolean | null
          keyword_in_title?: boolean | null
          keyword_in_url?: boolean | null
          keyword_occurrences?: number | null
          keyword_optimization_score?: number
          meta_recommendations?: Json | null
          navboost_friendly_patterns?: Json | null
          overall_content_score?: number
          paragraph_count?: number | null
          readability_score?: number
          recommendations?: Json | null
          search_intent?: string | null
          search_intent_score?: number
          structure_recommendations?: Json | null
          title_recommendations?: Json | null
          word_count?: number | null
        }
        Update: {
          analysis_job_id?: string
          avg_competitor_word_count?: number | null
          avg_paragraph_length?: number | null
          avg_sentence_length?: number | null
          completeness_score?: number
          content_analysis_job_id?: string | null
          content_gap_topics?: Json | null
          content_recommendations?: Json | null
          created_at?: string
          detected_intent?: string | null
          eeat_scores?: Json | null
          flesch_kincaid_grade?: number | null
          flesch_reading_ease?: number | null
          heading_structure?: Json | null
          id?: string
          intent_alignment_notes?: string | null
          keyword_density?: number | null
          keyword_in_h1?: boolean | null
          keyword_in_meta?: boolean | null
          keyword_in_title?: boolean | null
          keyword_in_url?: boolean | null
          keyword_occurrences?: number | null
          keyword_optimization_score?: number
          meta_recommendations?: Json | null
          navboost_friendly_patterns?: Json | null
          overall_content_score?: number
          paragraph_count?: number | null
          readability_score?: number
          recommendations?: Json | null
          search_intent?: string | null
          search_intent_score?: number
          structure_recommendations?: Json | null
          title_recommendations?: Json | null
          word_count?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "content_optimization_results_analysis_job_id_fkey"
            columns: ["analysis_job_id"]
            isOneToOne: false
            referencedRelation: "content_analysis_jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      content_outputs: {
        Row: {
          approval_status: string
          audience: string | null
          brand_id: string
          content: string
          created_at: string | null
          founder_decision: string | null
          founder_notes: string | null
          founder_reviewed_at: string | null
          id: string
          intent: string
          matched_tones: string[] | null
          metadata: Json | null
          ready_to_use: boolean
          requires_founder_review: boolean
          research_integrated: Json | null
          risk_level: string
          risk_score: number
          summary: string
          thinking_process: string | null
          tone_aligned: boolean
          tone_issues: string[] | null
          topic: string
          used_at: string | null
        }
        Insert: {
          approval_status?: string
          audience?: string | null
          brand_id: string
          content: string
          created_at?: string | null
          founder_decision?: string | null
          founder_notes?: string | null
          founder_reviewed_at?: string | null
          id?: string
          intent: string
          matched_tones?: string[] | null
          metadata?: Json | null
          ready_to_use?: boolean
          requires_founder_review?: boolean
          research_integrated?: Json | null
          risk_level: string
          risk_score: number
          summary: string
          thinking_process?: string | null
          tone_aligned?: boolean
          tone_issues?: string[] | null
          topic: string
          used_at?: string | null
        }
        Update: {
          approval_status?: string
          audience?: string | null
          brand_id?: string
          content?: string
          created_at?: string | null
          founder_decision?: string | null
          founder_notes?: string | null
          founder_reviewed_at?: string | null
          id?: string
          intent?: string
          matched_tones?: string[] | null
          metadata?: Json | null
          ready_to_use?: boolean
          requires_founder_review?: boolean
          research_integrated?: Json | null
          risk_level?: string
          risk_score?: number
          summary?: string
          thinking_process?: string | null
          tone_aligned?: boolean
          tone_issues?: string[] | null
          topic?: string
          used_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "valid_brand"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brand_metadata"
            referencedColumns: ["brand_id"]
          },
        ]
      }
      content_performance: {
        Row: {
          click_count: number | null
          content_id: string
          conversion_count: number | null
          id: string
          open_count: number | null
          reply_count: number | null
          revenue_attributed: number | null
          sent_count: number | null
          updated_at: string | null
        }
        Insert: {
          click_count?: number | null
          content_id: string
          conversion_count?: number | null
          id?: string
          open_count?: number | null
          reply_count?: number | null
          revenue_attributed?: number | null
          sent_count?: number | null
          updated_at?: string | null
        }
        Update: {
          click_count?: number | null
          content_id?: string
          conversion_count?: number | null
          id?: string
          open_count?: number | null
          reply_count?: number | null
          revenue_attributed?: number | null
          sent_count?: number | null
          updated_at?: string | null
        }
        Relationships: []
      }
      content_policy_violations: {
        Row: {
          blocked_publication: boolean
          content_id: string | null
          content_preview: string
          content_type: string
          created_at: string
          id: string
          notes: string | null
          resolution: string | null
          reviewed_at: string | null
          reviewed_by: string | null
          validation_score: number | null
          violated_policies: string[]
          violation_severity: string
        }
        Insert: {
          blocked_publication?: boolean
          content_id?: string | null
          content_preview: string
          content_type: string
          created_at?: string
          id?: string
          notes?: string | null
          resolution?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          validation_score?: number | null
          violated_policies: string[]
          violation_severity: string
        }
        Update: {
          blocked_publication?: boolean
          content_id?: string | null
          content_preview?: string
          content_type?: string
          created_at?: string
          id?: string
          notes?: string | null
          resolution?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          validation_score?: number | null
          violated_policies?: string[]
          violation_severity?: string
        }
        Relationships: []
      }
      content_research_links: {
        Row: {
          citation_needed: boolean
          content_id: string
          created_at: string | null
          id: string
          integration_type: string
          research_id: string
        }
        Insert: {
          citation_needed?: boolean
          content_id: string
          created_at?: string | null
          id?: string
          integration_type: string
          research_id: string
        }
        Update: {
          citation_needed?: boolean
          content_id?: string
          created_at?: string | null
          id?: string
          integration_type?: string
          research_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "content_research_links_content_id_fkey"
            columns: ["content_id"]
            isOneToOne: false
            referencedRelation: "content_outputs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "content_research_links_research_id_fkey"
            columns: ["research_id"]
            isOneToOne: false
            referencedRelation: "research_insights"
            referencedColumns: ["id"]
          },
        ]
      }
      content_variants: {
        Row: {
          content: string
          created_at: string | null
          id: string
          length_adjustment: string | null
          output_id: string
          performance_metrics: Json | null
          personalization_level: string | null
          selected: boolean
          tone_shift: string | null
          variant_type: string
        }
        Insert: {
          content: string
          created_at?: string | null
          id?: string
          length_adjustment?: string | null
          output_id: string
          performance_metrics?: Json | null
          personalization_level?: string | null
          selected?: boolean
          tone_shift?: string | null
          variant_type: string
        }
        Update: {
          content?: string
          created_at?: string | null
          id?: string
          length_adjustment?: string | null
          output_id?: string
          performance_metrics?: Json | null
          personalization_level?: string | null
          selected?: boolean
          tone_shift?: string | null
          variant_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "content_variants_output_id_fkey"
            columns: ["output_id"]
            isOneToOne: false
            referencedRelation: "content_outputs"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_alert_patterns: {
        Row: {
          average_severity: string | null
          centroid: number
          confidence: number
          created_at: string
          data_points: Json | null
          description: string | null
          id: string
          occurrence_count: number
          pattern_name: string
          trend: string | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          average_severity?: string | null
          centroid: number
          confidence: number
          created_at?: string
          data_points?: Json | null
          description?: string | null
          id?: string
          occurrence_count?: number
          pattern_name: string
          trend?: string | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          average_severity?: string | null
          centroid?: number
          confidence?: number
          created_at?: string
          data_points?: Json | null
          description?: string | null
          id?: string
          occurrence_count?: number
          pattern_name?: string
          trend?: string | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "convex_alert_patterns_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_audit_log: {
        Row: {
          changed_by: string | null
          created_at: string | null
          id: string
          new_values: Json | null
          old_values: Json | null
          operation: string
          record_id: string | null
          table_name: string
          workspace_id: string
        }
        Insert: {
          changed_by?: string | null
          created_at?: string | null
          id?: string
          new_values?: Json | null
          old_values?: Json | null
          operation: string
          record_id?: string | null
          table_name: string
          workspace_id: string
        }
        Update: {
          changed_by?: string | null
          created_at?: string | null
          id?: string
          new_values?: Json | null
          old_values?: Json | null
          operation?: string
          record_id?: string | null
          table_name?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_id"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_content_scores: {
        Row: {
          content_id: string | null
          content_type: string
          conversion_score: number | null
          created_at: string
          emotional_score: number | null
          id: string
          metadata: Json
          overall_score: number
          readability_score: number | null
          recommendations: Json
          seo_score: number | null
          workspace_id: string
        }
        Insert: {
          content_id?: string | null
          content_type?: string
          conversion_score?: number | null
          created_at?: string
          emotional_score?: number | null
          id?: string
          metadata?: Json
          overall_score: number
          readability_score?: number | null
          recommendations?: Json
          seo_score?: number | null
          workspace_id: string
        }
        Update: {
          content_id?: string | null
          content_type?: string
          conversion_score?: number | null
          created_at?: string
          emotional_score?: number | null
          id?: string
          metadata?: Json
          overall_score?: number
          readability_score?: number | null
          recommendations?: Json
          seo_score?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "convex_content_scores_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_execution_logs: {
        Row: {
          completed_at: string | null
          created_at: string
          created_by: string | null
          error_message: string | null
          execution_time_ms: number | null
          id: string
          inputs: Json
          outputs: Json
          status: string
          strategy_id: string | null
          template_id: string
          workspace_id: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string
          created_by?: string | null
          error_message?: string | null
          execution_time_ms?: number | null
          id?: string
          inputs?: Json
          outputs?: Json
          status?: string
          strategy_id?: string | null
          template_id: string
          workspace_id: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string
          created_by?: string | null
          error_message?: string | null
          execution_time_ms?: number | null
          id?: string
          inputs?: Json
          outputs?: Json
          status?: string
          strategy_id?: string | null
          template_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "convex_execution_logs_strategy_id_fkey"
            columns: ["strategy_id"]
            isOneToOne: false
            referencedRelation: "convex_strategies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "convex_execution_logs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_execution_templates: {
        Row: {
          created_at: string | null
          created_by: string | null
          description: string | null
          estimated_duration_hours: number | null
          example_output: Json | null
          expected_results: string | null
          framework_id: string | null
          id: string
          sections: string[]
          template_content: Json
          template_name: string
          template_type: string
          updated_at: string | null
          variables: Json | null
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          estimated_duration_hours?: number | null
          example_output?: Json | null
          expected_results?: string | null
          framework_id?: string | null
          id?: string
          sections: string[]
          template_content: Json
          template_name: string
          template_type: string
          updated_at?: string | null
          variables?: Json | null
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          estimated_duration_hours?: number | null
          example_output?: Json | null
          expected_results?: string | null
          framework_id?: string | null
          id?: string
          sections?: string[]
          template_content?: Json
          template_name?: string
          template_type?: string
          updated_at?: string | null
          variables?: Json | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_framework_id"
            columns: ["framework_id"]
            isOneToOne: false
            referencedRelation: "convex_frameworks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_workspace_id"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_framework_usage: {
        Row: {
          average_score: number | null
          created_at: string
          framework_category: string
          framework_id: string
          id: string
          last_used_at: string
          metadata: Json
          updated_at: string
          usage_count: number
          workspace_id: string
        }
        Insert: {
          average_score?: number | null
          created_at?: string
          framework_category: string
          framework_id: string
          id?: string
          last_used_at?: string
          metadata?: Json
          updated_at?: string
          usage_count?: number
          workspace_id: string
        }
        Update: {
          average_score?: number | null
          created_at?: string
          framework_category?: string
          framework_id?: string
          id?: string
          last_used_at?: string
          metadata?: Json
          updated_at?: string
          usage_count?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "convex_framework_usage_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_frameworks: {
        Row: {
          components: string[]
          created_at: string | null
          created_by: string | null
          description: string | null
          framework_name: string
          framework_type: string
          id: string
          metadata: Json | null
          reasoning_patterns: Json[] | null
          rules: Json | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          components: string[]
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          framework_name: string
          framework_type: string
          id?: string
          metadata?: Json | null
          reasoning_patterns?: Json[] | null
          rules?: Json | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          components?: string[]
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          framework_name?: string
          framework_type?: string
          id?: string
          metadata?: Json | null
          reasoning_patterns?: Json[] | null
          rules?: Json | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_id"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_market_analysis: {
        Row: {
          analysis_data: Json
          analysis_type: string
          company_name: string | null
          competitive_advantage: string | null
          competitor_id: string | null
          confidence_score: number | null
          created_at: string | null
          created_by: string | null
          id: string
          market_position: string | null
          opportunity_score: number | null
          recommendations: Json[] | null
          signals: Json[] | null
          updated_at: string | null
          vulnerability_areas: string[] | null
          workspace_id: string
        }
        Insert: {
          analysis_data: Json
          analysis_type: string
          company_name?: string | null
          competitive_advantage?: string | null
          competitor_id?: string | null
          confidence_score?: number | null
          created_at?: string | null
          created_by?: string | null
          id?: string
          market_position?: string | null
          opportunity_score?: number | null
          recommendations?: Json[] | null
          signals?: Json[] | null
          updated_at?: string | null
          vulnerability_areas?: string[] | null
          workspace_id: string
        }
        Update: {
          analysis_data?: Json
          analysis_type?: string
          company_name?: string | null
          competitive_advantage?: string | null
          competitor_id?: string | null
          confidence_score?: number | null
          created_at?: string | null
          created_by?: string | null
          id?: string
          market_position?: string | null
          opportunity_score?: number | null
          recommendations?: Json[] | null
          signals?: Json[] | null
          updated_at?: string | null
          vulnerability_areas?: string[] | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_id"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_reasoning_patterns: {
        Row: {
          created_at: string | null
          created_by: string | null
          description: string | null
          enabled: boolean | null
          examples: Json[] | null
          id: string
          pattern_category: string
          pattern_name: string
          priority: number | null
          rules: string[]
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          enabled?: boolean | null
          examples?: Json[] | null
          id?: string
          pattern_category: string
          pattern_name: string
          priority?: number | null
          rules: string[]
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          enabled?: boolean | null
          examples?: Json[] | null
          id?: string
          pattern_category?: string
          pattern_name?: string
          priority?: number | null
          rules?: string[]
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_id"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_saved_searches: {
        Row: {
          created_at: string | null
          created_by: string
          description: string | null
          filters: Json
          id: string
          last_used_at: string | null
          name: string
          usagecount: number | null
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          created_by: string
          description?: string | null
          filters: Json
          id?: string
          last_used_at?: string | null
          name: string
          usagecount?: number | null
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          created_by?: string
          description?: string | null
          filters?: Json
          id?: string
          last_used_at?: string | null
          name?: string
          usagecount?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_id"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_search_analytics: {
        Row: {
          created_at: string | null
          filters: Json | null
          id: string
          result_count: number | null
          search_text: string | null
          user_id: string
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          filters?: Json | null
          id?: string
          result_count?: number | null
          search_text?: string | null
          user_id: string
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          filters?: Json | null
          id?: string
          result_count?: number | null
          search_text?: string | null
          user_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_id"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_seo_scores: {
        Row: {
          authority_score: number | null
          content_score: number | null
          created_at: string
          details: Json
          id: string
          overall_score: number
          quick_wins: Json
          recommendations: Json
          technical_score: number | null
          url: string
          ux_score: number | null
          workspace_id: string
        }
        Insert: {
          authority_score?: number | null
          content_score?: number | null
          created_at?: string
          details?: Json
          id?: string
          overall_score: number
          quick_wins?: Json
          recommendations?: Json
          technical_score?: number | null
          url: string
          ux_score?: number | null
          workspace_id: string
        }
        Update: {
          authority_score?: number | null
          content_score?: number | null
          created_at?: string
          details?: Json
          id?: string
          overall_score?: number
          quick_wins?: Json
          recommendations?: Json
          technical_score?: number | null
          url?: string
          ux_score?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "convex_seo_scores_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_strategies: {
        Row: {
          created_at: string
          created_by: string | null
          description: string | null
          framework_category: string
          framework_id: string
          id: string
          inputs: Json
          metadata: Json
          name: string
          outputs: Json
          score: number | null
          status: string
          updated_at: string
          workspace_id: string
        }
        Insert: {
          created_at?: string
          created_by?: string | null
          description?: string | null
          framework_category: string
          framework_id: string
          id?: string
          inputs?: Json
          metadata?: Json
          name: string
          outputs?: Json
          score?: number | null
          status?: string
          updated_at?: string
          workspace_id: string
        }
        Update: {
          created_at?: string
          created_by?: string | null
          description?: string | null
          framework_category?: string
          framework_id?: string
          id?: string
          inputs?: Json
          metadata?: Json
          name?: string
          outputs?: Json
          score?: number | null
          status?: string
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "convex_strategies_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_strategy_activity: {
        Row: {
          activity_type: string
          created_at: string | null
          description: string
          id: string
          metadata: Json | null
          strategy_id: string
          user_id: string
          user_name: string
        }
        Insert: {
          activity_type: string
          created_at?: string | null
          description: string
          id?: string
          metadata?: Json | null
          strategy_id: string
          user_id: string
          user_name: string
        }
        Update: {
          activity_type?: string
          created_at?: string | null
          description?: string
          id?: string
          metadata?: Json | null
          strategy_id?: string
          user_id?: string
          user_name?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategy_id"
            columns: ["strategy_id"]
            isOneToOne: false
            referencedRelation: "convex_strategy_scores"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_strategy_comments: {
        Row: {
          author_id: string
          author_name: string
          content: string
          created_at: string | null
          id: string
          parent_comment_id: string | null
          resolved: boolean | null
          resolved_at: string | null
          resolved_by: string | null
          strategy_id: string
          updated_at: string | null
          version: number | null
        }
        Insert: {
          author_id: string
          author_name: string
          content: string
          created_at?: string | null
          id?: string
          parent_comment_id?: string | null
          resolved?: boolean | null
          resolved_at?: string | null
          resolved_by?: string | null
          strategy_id: string
          updated_at?: string | null
          version?: number | null
        }
        Update: {
          author_id?: string
          author_name?: string
          content?: string
          created_at?: string | null
          id?: string
          parent_comment_id?: string | null
          resolved?: boolean | null
          resolved_at?: string | null
          resolved_by?: string | null
          strategy_id?: string
          updated_at?: string | null
          version?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_parent_comment"
            columns: ["parent_comment_id"]
            isOneToOne: false
            referencedRelation: "convex_strategy_comments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_strategy_id"
            columns: ["strategy_id"]
            isOneToOne: false
            referencedRelation: "convex_strategy_scores"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_strategy_scores: {
        Row: {
          clarity_score: number | null
          compliance_status: string
          convex_score: number | null
          created_at: string | null
          framework_id: string | null
          id: string
          objection_handling_score: number | null
          outcome_focus_score: number | null
          proof_score: number | null
          reviewed_at: string | null
          reviewed_by: string | null
          risk_removal_score: number | null
          scoring_details: Json | null
          specificity_score: number | null
          strategy_id: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          clarity_score?: number | null
          compliance_status?: string
          convex_score?: number | null
          created_at?: string | null
          framework_id?: string | null
          id?: string
          objection_handling_score?: number | null
          outcome_focus_score?: number | null
          proof_score?: number | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          risk_removal_score?: number | null
          scoring_details?: Json | null
          specificity_score?: number | null
          strategy_id: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          clarity_score?: number | null
          compliance_status?: string
          convex_score?: number | null
          created_at?: string | null
          framework_id?: string | null
          id?: string
          objection_handling_score?: number | null
          outcome_focus_score?: number | null
          proof_score?: number | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          risk_removal_score?: number | null
          scoring_details?: Json | null
          specificity_score?: number | null
          strategy_id?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_framework_id"
            columns: ["framework_id"]
            isOneToOne: false
            referencedRelation: "convex_frameworks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_workspace_id"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_strategy_shares: {
        Row: {
          access_level: string
          created_at: string | null
          expires_at: string | null
          id: string
          shared_by_user_id: string
          shared_with_user_id: string
          strategy_id: string
        }
        Insert: {
          access_level: string
          created_at?: string | null
          expires_at?: string | null
          id?: string
          shared_by_user_id: string
          shared_with_user_id: string
          strategy_id: string
        }
        Update: {
          access_level?: string
          created_at?: string | null
          expires_at?: string | null
          id?: string
          shared_by_user_id?: string
          shared_with_user_id?: string
          strategy_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategy_id"
            columns: ["strategy_id"]
            isOneToOne: false
            referencedRelation: "convex_strategy_scores"
            referencedColumns: ["id"]
          },
        ]
      }
      convex_strategy_versions: {
        Row: {
          change_summary: string | null
          compliance_status: string
          convex_score: number
          created_at: string | null
          created_by: string
          description: string | null
          execution_plan: string[] | null
          frameworks: string[]
          id: string
          strategy_content: string
          strategy_id: string
          success_metrics: string[] | null
          title: string
          version: number
          workspace_id: string
        }
        Insert: {
          change_summary?: string | null
          compliance_status: string
          convex_score: number
          created_at?: string | null
          created_by: string
          description?: string | null
          execution_plan?: string[] | null
          frameworks: string[]
          id?: string
          strategy_content: string
          strategy_id: string
          success_metrics?: string[] | null
          title: string
          version: number
          workspace_id: string
        }
        Update: {
          change_summary?: string | null
          compliance_status?: string
          convex_score?: number
          created_at?: string | null
          created_by?: string
          description?: string | null
          execution_plan?: string[] | null
          frameworks?: string[]
          id?: string
          strategy_content?: string
          strategy_id?: string
          success_metrics?: string[] | null
          title?: string
          version?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategy_id"
            columns: ["strategy_id"]
            isOneToOne: false
            referencedRelation: "convex_strategy_scores"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_workspace_id"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      cost_projections: {
        Row: {
          confidence_score: number | null
          created_at: string | null
          id: string
          input_data_points: number | null
          metadata: Json | null
          model_type: string | null
          org_id: string
          projected_date: string
          projected_overage: number | null
          projected_subscription: number | null
          projected_total: number | null
          projected_usage: Json | null
          projection_type: string
        }
        Insert: {
          confidence_score?: number | null
          created_at?: string | null
          id?: string
          input_data_points?: number | null
          metadata?: Json | null
          model_type?: string | null
          org_id: string
          projected_date: string
          projected_overage?: number | null
          projected_subscription?: number | null
          projected_total?: number | null
          projected_usage?: Json | null
          projection_type: string
        }
        Update: {
          confidence_score?: number | null
          created_at?: string | null
          id?: string
          input_data_points?: number | null
          metadata?: Json | null
          model_type?: string | null
          org_id?: string
          projected_date?: string
          projected_overage?: number | null
          projected_subscription?: number | null
          projected_total?: number | null
          projected_usage?: Json | null
          projection_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "cost_projections_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      council_agent_votes: {
        Row: {
          agent_name: string
          confidence: number
          created_at: string
          id: string
          is_dissenting: boolean | null
          reasoning: string | null
          recommendation: string
          risk_assessment: Json | null
          session_id: string | null
        }
        Insert: {
          agent_name: string
          confidence: number
          created_at?: string
          id?: string
          is_dissenting?: boolean | null
          reasoning?: string | null
          recommendation: string
          risk_assessment?: Json | null
          session_id?: string | null
        }
        Update: {
          agent_name?: string
          confidence?: number
          created_at?: string
          id?: string
          is_dissenting?: boolean | null
          reasoning?: string | null
          recommendation?: string
          risk_assessment?: Json | null
          session_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "council_agent_votes_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "council_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      council_recommendations: {
        Row: {
          confidence: number
          consensus_score: number
          created_at: string
          dissent_summary: Json | null
          final_recommendation: string
          id: string
          risk_impact: Json | null
          session_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          confidence: number
          consensus_score: number
          created_at?: string
          dissent_summary?: Json | null
          final_recommendation: string
          id?: string
          risk_impact?: Json | null
          session_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number
          consensus_score?: number
          created_at?: string
          dissent_summary?: Json | null
          final_recommendation?: string
          id?: string
          risk_impact?: Json | null
          session_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "council_recommendations_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "council_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      council_sessions: {
        Row: {
          context: Json
          created_at: string
          id: string
          participating_agents: Json
          resolved_at: string | null
          status: string
          tenant_id: string | null
          topic: string
        }
        Insert: {
          context?: Json
          created_at?: string
          id?: string
          participating_agents?: Json
          resolved_at?: string | null
          status?: string
          tenant_id?: string | null
          topic: string
        }
        Update: {
          context?: Json
          created_at?: string
          id?: string
          participating_agents?: Json
          resolved_at?: string | null
          status?: string
          tenant_id?: string | null
          topic?: string
        }
        Relationships: [
          {
            foreignKeyName: "council_sessions_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      courses: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          is_published: boolean
          org_id: string
          title: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          is_published?: boolean
          org_id: string
          title: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          is_published?: boolean
          org_id?: string
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "courses_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      creative_adaptive_states: {
        Row: {
          compliance_adjustments: Json | null
          confidence: number
          created_at: string
          fatigue_index: number
          id: string
          method_weights: Json
          performance_overlays: Json | null
          region_id: string | null
          style_bias: Json
          tenant_id: string | null
          updated_at: string
        }
        Insert: {
          compliance_adjustments?: Json | null
          confidence?: number
          created_at?: string
          fatigue_index: number
          id?: string
          method_weights?: Json
          performance_overlays?: Json | null
          region_id?: string | null
          style_bias?: Json
          tenant_id?: string | null
          updated_at?: string
        }
        Update: {
          compliance_adjustments?: Json | null
          confidence?: number
          created_at?: string
          fatigue_index?: number
          id?: string
          method_weights?: Json
          performance_overlays?: Json | null
          region_id?: string | null
          style_bias?: Json
          tenant_id?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "creative_adaptive_states_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "creative_adaptive_states_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      creative_risk_assessments: {
        Row: {
          campaign_ref: Json
          confidence: number
          created_at: string
          id: string
          region_id: string | null
          risk_profile: Json
          sensitivity_flags: Json
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          campaign_ref: Json
          confidence: number
          created_at?: string
          id?: string
          region_id?: string | null
          risk_profile: Json
          sensitivity_flags?: Json
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          campaign_ref?: Json
          confidence?: number
          created_at?: string
          id?: string
          region_id?: string | null
          risk_profile?: Json
          sensitivity_flags?: Json
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "creative_risk_assessments_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "creative_risk_assessments_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      credit_forecasts: {
        Row: {
          avg_daily_text_burn: number
          avg_daily_voice_burn: number
          confidence_text: number
          confidence_voice: number
          id: string
          last_calculated_at: string | null
          org_id: string
          predicted_runout_date_text: string | null
          predicted_runout_date_voice: string | null
          risk_level: string
          text_tokens_remaining: number
          voice_tokens_remaining: number
          window_days: number
        }
        Insert: {
          avg_daily_text_burn?: number
          avg_daily_voice_burn?: number
          confidence_text?: number
          confidence_voice?: number
          id?: string
          last_calculated_at?: string | null
          org_id: string
          predicted_runout_date_text?: string | null
          predicted_runout_date_voice?: string | null
          risk_level?: string
          text_tokens_remaining?: number
          voice_tokens_remaining?: number
          window_days?: number
        }
        Update: {
          avg_daily_text_burn?: number
          avg_daily_voice_burn?: number
          confidence_text?: number
          confidence_voice?: number
          id?: string
          last_calculated_at?: string | null
          org_id?: string
          predicted_runout_date_text?: string | null
          predicted_runout_date_voice?: string | null
          risk_level?: string
          text_tokens_remaining?: number
          voice_tokens_remaining?: number
          window_days?: number
        }
        Relationships: [
          {
            foreignKeyName: "credit_forecasts_org_fk"
            columns: ["org_id"]
            isOneToOne: true
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      credit_packs: {
        Row: {
          created_at: string | null
          description: string
          id: string
          is_active: boolean
          is_featured: boolean
          label: string
          price_aud: number
          slug: string
          stripe_price_id: string | null
          text_tokens: number
          tier_restriction: string | null
          updated_at: string | null
          voice_tokens: number
        }
        Insert: {
          created_at?: string | null
          description: string
          id?: string
          is_active?: boolean
          is_featured?: boolean
          label: string
          price_aud: number
          slug: string
          stripe_price_id?: string | null
          text_tokens?: number
          tier_restriction?: string | null
          updated_at?: string | null
          voice_tokens?: number
        }
        Update: {
          created_at?: string | null
          description?: string
          id?: string
          is_active?: boolean
          is_featured?: boolean
          label?: string
          price_aud?: number
          slug?: string
          stripe_price_id?: string | null
          text_tokens?: number
          tier_restriction?: string | null
          updated_at?: string | null
          voice_tokens?: number
        }
        Relationships: []
      }
      crisis_incidents: {
        Row: {
          affected_domains: Json
          created_at: string
          description: string
          id: string
          incident_name: string
          remediation_steps: Json | null
          resolved_at: string | null
          severity: string
          status: string
        }
        Insert: {
          affected_domains?: Json
          created_at?: string
          description: string
          id?: string
          incident_name: string
          remediation_steps?: Json | null
          resolved_at?: string | null
          severity: string
          status?: string
        }
        Update: {
          affected_domains?: Json
          created_at?: string
          description?: string
          id?: string
          incident_name?: string
          remediation_steps?: Json | null
          resolved_at?: string | null
          severity?: string
          status?: string
        }
        Relationships: []
      }
      crisis_recovery_logs: {
        Row: {
          action_taken: string
          assumptions: string | null
          created_at: string
          executed_by: string
          id: string
          incident_id: string | null
          result: string
        }
        Insert: {
          action_taken: string
          assumptions?: string | null
          created_at?: string
          executed_by: string
          id?: string
          incident_id?: string | null
          result: string
        }
        Update: {
          action_taken?: string
          assumptions?: string | null
          created_at?: string
          executed_by?: string
          id?: string
          incident_id?: string | null
          result?: string
        }
        Relationships: [
          {
            foreignKeyName: "crisis_recovery_logs_incident_id_fkey"
            columns: ["incident_id"]
            isOneToOne: false
            referencedRelation: "crisis_incidents"
            referencedColumns: ["id"]
          },
        ]
      }
      cross_client_patterns: {
        Row: {
          affected_client_ids: string[] | null
          affected_pre_client_ids: string[] | null
          created_at: string | null
          description: string | null
          evidence_json: Json
          first_detected_at: string | null
          founder_id: string
          id: string
          last_seen_at: string | null
          pattern_type: string
          recurrence_count: number | null
          status: string | null
          strength_score: number
          title: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          affected_client_ids?: string[] | null
          affected_pre_client_ids?: string[] | null
          created_at?: string | null
          description?: string | null
          evidence_json?: Json
          first_detected_at?: string | null
          founder_id: string
          id?: string
          last_seen_at?: string | null
          pattern_type: string
          recurrence_count?: number | null
          status?: string | null
          strength_score?: number
          title: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          affected_client_ids?: string[] | null
          affected_pre_client_ids?: string[] | null
          created_at?: string | null
          description?: string | null
          evidence_json?: Json
          first_detected_at?: string | null
          founder_id?: string
          id?: string
          last_seen_at?: string | null
          pattern_type?: string
          recurrence_count?: number | null
          status?: string | null
          strength_score?: number
          title?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "cross_client_patterns_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      ctmedp_products: {
        Row: {
          active: boolean | null
          created_at: string | null
          description: string | null
          id: string
          metadata: Json | null
          price: number
          product_name: string
          product_type: string
        }
        Insert: {
          active?: boolean | null
          created_at?: string | null
          description?: string | null
          id?: string
          metadata?: Json | null
          price?: number
          product_name: string
          product_type: string
        }
        Update: {
          active?: boolean | null
          created_at?: string | null
          description?: string | null
          id?: string
          metadata?: Json | null
          price?: number
          product_name?: string
          product_type?: string
        }
        Relationships: []
      }
      ctmedp_purchases: {
        Row: {
          created_at: string | null
          id: string
          product_id: string
          provisioned: boolean | null
          quantity: number
          status: string
          tenant_id: string
          total_price: number
        }
        Insert: {
          created_at?: string | null
          id?: string
          product_id: string
          provisioned?: boolean | null
          quantity?: number
          status?: string
          tenant_id: string
          total_price: number
        }
        Update: {
          created_at?: string | null
          id?: string
          product_id?: string
          provisioned?: boolean | null
          quantity?: number
          status?: string
          tenant_id?: string
          total_price?: number
        }
        Relationships: [
          {
            foreignKeyName: "ctmedp_purchases_product_fk"
            columns: ["product_id"]
            isOneToOne: false
            referencedRelation: "ctmedp_products"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ctmedp_purchases_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      ctr_benchmarks: {
        Row: {
          actual_ctr: number | null
          analyzed_at: string
          created_at: string
          ctr_difference: number | null
          current_clicks: number | null
          current_ctr: number | null
          current_impressions: number | null
          current_position: number | null
          estimated_click_gain: number | null
          expected_ctr: number | null
          founder_business_id: string | null
          id: string
          keyword: string
          meta_quality_score: number | null
          navboost_inference: Json | null
          opportunity_level: string | null
          recommendations: Json | null
          serp_position: number | null
          title_quality_score: number | null
          url: string
          workspace_id: string
        }
        Insert: {
          actual_ctr?: number | null
          analyzed_at?: string
          created_at?: string
          ctr_difference?: number | null
          current_clicks?: number | null
          current_ctr?: number | null
          current_impressions?: number | null
          current_position?: number | null
          estimated_click_gain?: number | null
          expected_ctr?: number | null
          founder_business_id?: string | null
          id?: string
          keyword: string
          meta_quality_score?: number | null
          navboost_inference?: Json | null
          opportunity_level?: string | null
          recommendations?: Json | null
          serp_position?: number | null
          title_quality_score?: number | null
          url: string
          workspace_id: string
        }
        Update: {
          actual_ctr?: number | null
          analyzed_at?: string
          created_at?: string
          ctr_difference?: number | null
          current_clicks?: number | null
          current_ctr?: number | null
          current_impressions?: number | null
          current_position?: number | null
          estimated_click_gain?: number | null
          expected_ctr?: number | null
          founder_business_id?: string | null
          id?: string
          keyword?: string
          meta_quality_score?: number | null
          navboost_inference?: Json | null
          opportunity_level?: string | null
          recommendations?: Json | null
          serp_position?: number | null
          title_quality_score?: number | null
          url?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ctr_benchmarks_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      dashboard_notifications: {
        Row: {
          action_label: string | null
          action_url: string | null
          created_at: string | null
          expires_at: string | null
          id: string
          is_dismissed: boolean | null
          is_read: boolean | null
          message: string | null
          metadata: Json | null
          priority: number | null
          source: string | null
          title: string
          type: string
          updated_at: string | null
          user_id: string
          workspace_id: string
        }
        Insert: {
          action_label?: string | null
          action_url?: string | null
          created_at?: string | null
          expires_at?: string | null
          id?: string
          is_dismissed?: boolean | null
          is_read?: boolean | null
          message?: string | null
          metadata?: Json | null
          priority?: number | null
          source?: string | null
          title: string
          type: string
          updated_at?: string | null
          user_id: string
          workspace_id: string
        }
        Update: {
          action_label?: string | null
          action_url?: string | null
          created_at?: string | null
          expires_at?: string | null
          id?: string
          is_dismissed?: boolean | null
          is_read?: boolean | null
          message?: string | null
          metadata?: Json | null
          priority?: number | null
          source?: string | null
          title?: string
          type?: string
          updated_at?: string | null
          user_id?: string
          workspace_id?: string
        }
        Relationships: []
      }
      dashboard_user_prefs: {
        Row: {
          created_at: string | null
          hidden_widgets: string[] | null
          id: string
          sidebar_collapsed: boolean | null
          theme: string | null
          updated_at: string | null
          user_id: string
          widget_configs: Json | null
          widget_order: Json | null
          widget_sizes: Json | null
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          hidden_widgets?: string[] | null
          id?: string
          sidebar_collapsed?: boolean | null
          theme?: string | null
          updated_at?: string | null
          user_id: string
          widget_configs?: Json | null
          widget_order?: Json | null
          widget_sizes?: Json | null
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          hidden_widgets?: string[] | null
          id?: string
          sidebar_collapsed?: boolean | null
          theme?: string | null
          updated_at?: string | null
          user_id?: string
          widget_configs?: Json | null
          widget_order?: Json | null
          widget_sizes?: Json | null
          workspace_id?: string
        }
        Relationships: []
      }
      dashboard_widgets: {
        Row: {
          component_name: string
          config: Json | null
          created_at: string | null
          default_order: number | null
          default_size: string | null
          description: string | null
          id: string
          is_active: boolean | null
          min_role: string | null
          name: string
          updated_at: string | null
          widget_key: string
        }
        Insert: {
          component_name: string
          config?: Json | null
          created_at?: string | null
          default_order?: number | null
          default_size?: string | null
          description?: string | null
          id?: string
          is_active?: boolean | null
          min_role?: string | null
          name: string
          updated_at?: string | null
          widget_key: string
        }
        Update: {
          component_name?: string
          config?: Json | null
          created_at?: string | null
          default_order?: number | null
          default_size?: string | null
          description?: string | null
          id?: string
          is_active?: boolean | null
          min_role?: string | null
          name?: string
          updated_at?: string | null
          widget_key?: string
        }
        Relationships: []
      }
      decision_assets: {
        Row: {
          channel: string | null
          created_at: string
          id: string
          linked_asset_id: string | null
          map_id: string
          metadata: Json | null
          moment_key: string
          objection: string | null
          problem_statement: string | null
          recommended_asset_type: string | null
          required_proof: string | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          channel?: string | null
          created_at?: string
          id?: string
          linked_asset_id?: string | null
          map_id: string
          metadata?: Json | null
          moment_key: string
          objection?: string | null
          problem_statement?: string | null
          recommended_asset_type?: string | null
          required_proof?: string | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          channel?: string | null
          created_at?: string
          id?: string
          linked_asset_id?: string | null
          map_id?: string
          metadata?: Json | null
          moment_key?: string
          objection?: string | null
          problem_statement?: string | null
          recommended_asset_type?: string | null
          required_proof?: string | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "decision_assets_linked_asset_id_fkey"
            columns: ["linked_asset_id"]
            isOneToOne: false
            referencedRelation: "social_assets"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_assets_map_id_fkey"
            columns: ["map_id"]
            isOneToOne: false
            referencedRelation: "decision_moment_maps"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_assets_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      decision_moment_maps: {
        Row: {
          client_id: string | null
          created_at: string
          description: string | null
          funnel_stage: string
          id: string
          name: string
          updated_at: string
          workspace_id: string
        }
        Insert: {
          client_id?: string | null
          created_at?: string
          description?: string | null
          funnel_stage?: string
          id?: string
          name: string
          updated_at?: string
          workspace_id: string
        }
        Update: {
          client_id?: string | null
          created_at?: string
          description?: string | null
          funnel_stage?: string
          id?: string
          name?: string
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "decision_moment_maps_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_moment_maps_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      decision_pipeline_snapshots: {
        Row: {
          confidence: number
          created_at: string
          decision_volume: Json
          id: string
          load_state: Json
          region_id: string | null
          tenant_id: string | null
          throttling_recommendations: Json
          uncertainty_notes: string | null
        }
        Insert: {
          confidence: number
          created_at?: string
          decision_volume: Json
          id?: string
          load_state: Json
          region_id?: string | null
          tenant_id?: string | null
          throttling_recommendations?: Json
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number
          created_at?: string
          decision_volume?: Json
          id?: string
          load_state?: Json
          region_id?: string | null
          tenant_id?: string | null
          throttling_recommendations?: Json
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "decision_pipeline_snapshots_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_pipeline_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      deep_agent_workflows: {
        Row: {
          config: Json | null
          created_at: string | null
          id: string
          last_run_at: string | null
          last_status: string | null
          org_id: string
          workflow_name: string
        }
        Insert: {
          config?: Json | null
          created_at?: string | null
          id?: string
          last_run_at?: string | null
          last_status?: string | null
          org_id: string
          workflow_name: string
        }
        Update: {
          config?: Json | null
          created_at?: string | null
          id?: string
          last_run_at?: string | null
          last_status?: string | null
          org_id?: string
          workflow_name?: string
        }
        Relationships: [
          {
            foreignKeyName: "deep_agent_workflows_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      deliverables: {
        Row: {
          created_at: string | null
          description: string | null
          file_url: string | null
          id: string
          project_id: string
          status: string
          title: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          file_url?: string | null
          id?: string
          project_id: string
          status?: string
          title: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          description?: string | null
          file_url?: string | null
          id?: string
          project_id?: string
          status?: string
          title?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      deployment_audit_log: {
        Row: {
          action_result: string | null
          action_target: string | null
          action_timestamp: string | null
          action_type: string
          actor_id: string | null
          actor_type: string | null
          asset_details: Json | null
          assets_uploaded: number | null
          created_at: string | null
          details: Json | null
          duration_ms: number | null
          id: string
          link_details: Json | null
          links_created: number | null
          metadata: Json | null
          org_id: string
          randomisation_output: Json | null
          run_id: string | null
          seed: number | null
          step_id: string | null
          variant_index: number | null
        }
        Insert: {
          action_result?: string | null
          action_target?: string | null
          action_timestamp?: string | null
          action_type: string
          actor_id?: string | null
          actor_type?: string | null
          asset_details?: Json | null
          assets_uploaded?: number | null
          created_at?: string | null
          details?: Json | null
          duration_ms?: number | null
          id?: string
          link_details?: Json | null
          links_created?: number | null
          metadata?: Json | null
          org_id: string
          randomisation_output?: Json | null
          run_id?: string | null
          seed?: number | null
          step_id?: string | null
          variant_index?: number | null
        }
        Update: {
          action_result?: string | null
          action_target?: string | null
          action_timestamp?: string | null
          action_type?: string
          actor_id?: string | null
          actor_type?: string | null
          asset_details?: Json | null
          assets_uploaded?: number | null
          created_at?: string | null
          details?: Json | null
          duration_ms?: number | null
          id?: string
          link_details?: Json | null
          links_created?: number | null
          metadata?: Json | null
          org_id?: string
          randomisation_output?: Json | null
          run_id?: string | null
          seed?: number | null
          step_id?: string | null
          variant_index?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "deployment_audit_log_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "deployment_audit_log_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "leviathan_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "deployment_audit_log_step_id_fkey"
            columns: ["step_id"]
            isOneToOne: false
            referencedRelation: "leviathan_run_steps"
            referencedColumns: ["id"]
          },
        ]
      }
      desktop_agent_approvals: {
        Row: {
          approved: boolean
          approved_by: string
          command_id: string
          created_at: string | null
          founder_notes: string | null
          id: string
          metadata: Json | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          approved: boolean
          approved_by: string
          command_id: string
          created_at?: string | null
          founder_notes?: string | null
          id?: string
          metadata?: Json | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          approved?: boolean
          approved_by?: string
          command_id?: string
          created_at?: string | null
          founder_notes?: string | null
          id?: string
          metadata?: Json | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "desktop_agent_approvals_command_id_fkey"
            columns: ["command_id"]
            isOneToOne: false
            referencedRelation: "desktop_agent_commands"
            referencedColumns: ["id"]
          },
        ]
      }
      desktop_agent_capabilities: {
        Row: {
          category: string
          command_name: string
          created_at: string | null
          deprecated: boolean | null
          deprecation_reason: string | null
          description: string
          enabled: boolean | null
          id: string
          metadata: Json | null
          parameters: Json | null
          requires_approval: boolean | null
          risk_level: string
          updated_at: string | null
          version: string | null
          workspace_id: string | null
        }
        Insert: {
          category: string
          command_name: string
          created_at?: string | null
          deprecated?: boolean | null
          deprecation_reason?: string | null
          description: string
          enabled?: boolean | null
          id?: string
          metadata?: Json | null
          parameters?: Json | null
          requires_approval?: boolean | null
          risk_level: string
          updated_at?: string | null
          version?: string | null
          workspace_id?: string | null
        }
        Update: {
          category?: string
          command_name?: string
          created_at?: string | null
          deprecated?: boolean | null
          deprecation_reason?: string | null
          description?: string
          enabled?: boolean | null
          id?: string
          metadata?: Json | null
          parameters?: Json | null
          requires_approval?: boolean | null
          risk_level?: string
          updated_at?: string | null
          version?: string | null
          workspace_id?: string | null
        }
        Relationships: []
      }
      desktop_agent_commands: {
        Row: {
          actual_outcome: string | null
          approval_reason: string | null
          approval_requested_by: string | null
          approval_status: string | null
          approved_at: string | null
          approved_by: string | null
          command_name: string
          completed_at: string | null
          created_at: string | null
          description: string | null
          error_message: string | null
          execution_time_ms: number | null
          id: string
          metadata: Json | null
          outcome_mismatch: boolean | null
          parameters: Json
          promised_outcome: string | null
          requires_approval: boolean | null
          result: Json | null
          risk_score: number | null
          session_id: string
          status: string
          user_id: string
          validation_errors: string[] | null
          validation_passed: boolean | null
          workspace_id: string
        }
        Insert: {
          actual_outcome?: string | null
          approval_reason?: string | null
          approval_requested_by?: string | null
          approval_status?: string | null
          approved_at?: string | null
          approved_by?: string | null
          command_name: string
          completed_at?: string | null
          created_at?: string | null
          description?: string | null
          error_message?: string | null
          execution_time_ms?: number | null
          id?: string
          metadata?: Json | null
          outcome_mismatch?: boolean | null
          parameters?: Json
          promised_outcome?: string | null
          requires_approval?: boolean | null
          result?: Json | null
          risk_score?: number | null
          session_id: string
          status?: string
          user_id: string
          validation_errors?: string[] | null
          validation_passed?: boolean | null
          workspace_id: string
        }
        Update: {
          actual_outcome?: string | null
          approval_reason?: string | null
          approval_requested_by?: string | null
          approval_status?: string | null
          approved_at?: string | null
          approved_by?: string | null
          command_name?: string
          completed_at?: string | null
          created_at?: string | null
          description?: string | null
          error_message?: string | null
          execution_time_ms?: number | null
          id?: string
          metadata?: Json | null
          outcome_mismatch?: boolean | null
          parameters?: Json
          promised_outcome?: string | null
          requires_approval?: boolean | null
          result?: Json | null
          risk_score?: number | null
          session_id?: string
          status?: string
          user_id?: string
          validation_errors?: string[] | null
          validation_passed?: boolean | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "desktop_agent_commands_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "desktop_agent_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      desktop_agent_sessions: {
        Row: {
          agent_version: string
          created_at: string | null
          ended_at: string | null
          error_count: number | null
          failed_commands: number | null
          heartbeat_count: number | null
          id: string
          last_error: string | null
          last_heartbeat: string | null
          metadata: Json | null
          session_token: string
          status: string
          successful_commands: number | null
          total_commands: number | null
          updated_at: string | null
          user_id: string
          websocket_connection_id: string | null
          workspace_id: string
        }
        Insert: {
          agent_version: string
          created_at?: string | null
          ended_at?: string | null
          error_count?: number | null
          failed_commands?: number | null
          heartbeat_count?: number | null
          id?: string
          last_error?: string | null
          last_heartbeat?: string | null
          metadata?: Json | null
          session_token: string
          status?: string
          successful_commands?: number | null
          total_commands?: number | null
          updated_at?: string | null
          user_id: string
          websocket_connection_id?: string | null
          workspace_id: string
        }
        Update: {
          agent_version?: string
          created_at?: string | null
          ended_at?: string | null
          error_count?: number | null
          failed_commands?: number | null
          heartbeat_count?: number | null
          id?: string
          last_error?: string | null
          last_heartbeat?: string | null
          metadata?: Json | null
          session_token?: string
          status?: string
          successful_commands?: number | null
          total_commands?: number | null
          updated_at?: string | null
          user_id?: string
          websocket_connection_id?: string | null
          workspace_id?: string
        }
        Relationships: []
      }
      dev_refactor_changes: {
        Row: {
          change_type: string
          created_at: string | null
          diff_preview: string | null
          file_path: string
          id: string
          session_id: string
          status: string
          tests_run: Json | null
        }
        Insert: {
          change_type: string
          created_at?: string | null
          diff_preview?: string | null
          file_path: string
          id?: string
          session_id: string
          status?: string
          tests_run?: Json | null
        }
        Update: {
          change_type?: string
          created_at?: string | null
          diff_preview?: string | null
          file_path?: string
          id?: string
          session_id?: string
          status?: string
          tests_run?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "dev_refactor_changes_session_fk"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "dev_refactor_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      dev_refactor_sessions: {
        Row: {
          completed_at: string | null
          created_at: string | null
          goal: string
          id: string
          initiator_user_id: string
          org_id: string
          scope_paths: Json | null
          status: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string | null
          goal: string
          id?: string
          initiator_user_id: string
          org_id: string
          scope_paths?: Json | null
          status?: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string | null
          goal?: string
          id?: string
          initiator_user_id?: string
          org_id?: string
          scope_paths?: Json | null
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "dev_refactor_sessions_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      dialogue_consolidated_memory: {
        Row: {
          average_importance: number | null
          bidirectional_sync_reason: string | null
          consolidated_memory_id: string
          created_at: string | null
          decision_points: Json | null
          dominant_domain: string
          dominant_emotion: string
          fragment_count: number
          fragment_ids: Json
          goal_references: Json | null
          id: string
          notes: string | null
          owner: string
          peak_importance: number | null
          person_mentions: Json | null
          requires_bidirectional_update: boolean | null
          session_id: string
          sync_status: string | null
          sync_timestamp: string | null
          topic_tags: Json | null
          unified_memory_id: string | null
          workspace_id: string
        }
        Insert: {
          average_importance?: number | null
          bidirectional_sync_reason?: string | null
          consolidated_memory_id: string
          created_at?: string | null
          decision_points?: Json | null
          dominant_domain: string
          dominant_emotion: string
          fragment_count: number
          fragment_ids: Json
          goal_references?: Json | null
          id?: string
          notes?: string | null
          owner: string
          peak_importance?: number | null
          person_mentions?: Json | null
          requires_bidirectional_update?: boolean | null
          session_id: string
          sync_status?: string | null
          sync_timestamp?: string | null
          topic_tags?: Json | null
          unified_memory_id?: string | null
          workspace_id: string
        }
        Update: {
          average_importance?: number | null
          bidirectional_sync_reason?: string | null
          consolidated_memory_id?: string
          created_at?: string | null
          decision_points?: Json | null
          dominant_domain?: string
          dominant_emotion?: string
          fragment_count?: number
          fragment_ids?: Json
          goal_references?: Json | null
          id?: string
          notes?: string | null
          owner?: string
          peak_importance?: number | null
          person_mentions?: Json | null
          requires_bidirectional_update?: boolean | null
          session_id?: string
          sync_status?: string | null
          sync_timestamp?: string | null
          topic_tags?: Json | null
          unified_memory_id?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "dialogue_consolidated_memory_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "dialogue_sessions"
            referencedColumns: ["session_id"]
          },
        ]
      }
      dialogue_memory_events: {
        Row: {
          consolidated: boolean | null
          consolidated_at: string | null
          content: string
          created_at: string | null
          domain: string
          emotion_weight: number | null
          emotional_valence: string
          id: string
          impact_weight: number | null
          importance_score: number | null
          involves_decision: boolean | null
          involves_goal: boolean | null
          involves_person: boolean | null
          memory_id: string
          owner: string
          recency_weight: number | null
          session_id: string
          source_turn_id: string
          summary: string | null
          topic_tags: Json | null
          unified_memory_id: string | null
        }
        Insert: {
          consolidated?: boolean | null
          consolidated_at?: string | null
          content: string
          created_at?: string | null
          domain: string
          emotion_weight?: number | null
          emotional_valence: string
          id?: string
          impact_weight?: number | null
          importance_score?: number | null
          involves_decision?: boolean | null
          involves_goal?: boolean | null
          involves_person?: boolean | null
          memory_id: string
          owner: string
          recency_weight?: number | null
          session_id: string
          source_turn_id: string
          summary?: string | null
          topic_tags?: Json | null
          unified_memory_id?: string | null
        }
        Update: {
          consolidated?: boolean | null
          consolidated_at?: string | null
          content?: string
          created_at?: string | null
          domain?: string
          emotion_weight?: number | null
          emotional_valence?: string
          id?: string
          impact_weight?: number | null
          importance_score?: number | null
          involves_decision?: boolean | null
          involves_goal?: boolean | null
          involves_person?: boolean | null
          memory_id?: string
          owner?: string
          recency_weight?: number | null
          session_id?: string
          source_turn_id?: string
          summary?: string | null
          topic_tags?: Json | null
          unified_memory_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "dialogue_memory_events_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "dialogue_sessions"
            referencedColumns: ["session_id"]
          },
          {
            foreignKeyName: "dialogue_memory_events_source_turn_id_fkey"
            columns: ["source_turn_id"]
            isOneToOne: false
            referencedRelation: "dialogue_turns"
            referencedColumns: ["turn_id"]
          },
        ]
      }
      dialogue_safety_log: {
        Row: {
          approval_priority: string | null
          approved_by_founder: boolean | null
          assistant_output: string | null
          created_at: string | null
          domain: string | null
          explanation: string | null
          founder_approval_timestamp: string | null
          founder_notes: string | null
          id: string
          interaction_id: string
          latency_ms: number | null
          owner: string
          reasons: Json
          requires_founder_approval: boolean | null
          safety_status: string
          turn_id: string | null
          user_input: string | null
        }
        Insert: {
          approval_priority?: string | null
          approved_by_founder?: boolean | null
          assistant_output?: string | null
          created_at?: string | null
          domain?: string | null
          explanation?: string | null
          founder_approval_timestamp?: string | null
          founder_notes?: string | null
          id?: string
          interaction_id: string
          latency_ms?: number | null
          owner: string
          reasons: Json
          requires_founder_approval?: boolean | null
          safety_status: string
          turn_id?: string | null
          user_input?: string | null
        }
        Update: {
          approval_priority?: string | null
          approved_by_founder?: boolean | null
          assistant_output?: string | null
          created_at?: string | null
          domain?: string | null
          explanation?: string | null
          founder_approval_timestamp?: string | null
          founder_notes?: string | null
          id?: string
          interaction_id?: string
          latency_ms?: number | null
          owner?: string
          reasons?: Json
          requires_founder_approval?: boolean | null
          safety_status?: string
          turn_id?: string | null
          user_input?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "dialogue_safety_log_turn_id_fkey"
            columns: ["turn_id"]
            isOneToOne: false
            referencedRelation: "dialogue_turns"
            referencedColumns: ["turn_id"]
          },
        ]
      }
      dialogue_sessions: {
        Row: {
          active_advisor_type: string | null
          backtrack_requests: number | null
          cognitive_state: string
          created_at: string | null
          current_turn: number | null
          duration_seconds: number | null
          ended_at: string | null
          energy_level: number | null
          glasses_model: string | null
          id: string
          interrupts_detected: number | null
          is_active: boolean | null
          last_assistant_turn_time: string | null
          last_user_turn_time: string | null
          notes: string | null
          owner: string
          phase8_violations: number | null
          session_id: string
          started_at: string | null
          topic_stack: Json | null
          user_frustration_level: number | null
          user_sentiment_trend: string | null
          workspace_id: string
        }
        Insert: {
          active_advisor_type?: string | null
          backtrack_requests?: number | null
          cognitive_state: string
          created_at?: string | null
          current_turn?: number | null
          duration_seconds?: number | null
          ended_at?: string | null
          energy_level?: number | null
          glasses_model?: string | null
          id?: string
          interrupts_detected?: number | null
          is_active?: boolean | null
          last_assistant_turn_time?: string | null
          last_user_turn_time?: string | null
          notes?: string | null
          owner: string
          phase8_violations?: number | null
          session_id: string
          started_at?: string | null
          topic_stack?: Json | null
          user_frustration_level?: number | null
          user_sentiment_trend?: string | null
          workspace_id: string
        }
        Update: {
          active_advisor_type?: string | null
          backtrack_requests?: number | null
          cognitive_state?: string
          created_at?: string | null
          current_turn?: number | null
          duration_seconds?: number | null
          ended_at?: string | null
          energy_level?: number | null
          glasses_model?: string | null
          id?: string
          interrupts_detected?: number | null
          is_active?: boolean | null
          last_assistant_turn_time?: string | null
          last_user_turn_time?: string | null
          notes?: string | null
          owner?: string
          phase8_violations?: number | null
          session_id?: string
          started_at?: string | null
          topic_stack?: Json | null
          user_frustration_level?: number | null
          user_sentiment_trend?: string | null
          workspace_id?: string
        }
        Relationships: []
      }
      dialogue_turns: {
        Row: {
          assistant_tone: string | null
          captured_memories: Json | null
          confidence: number | null
          context_used: Json | null
          created_at: string | null
          domain: string | null
          id: string
          intent: string | null
          latency_ms: number | null
          natural_pause_ms: number | null
          owner: string
          pacing_ms: number | null
          references_long_term: boolean | null
          requires_approval: boolean | null
          risk_level: string | null
          safety_status: string
          session_id: string
          speaker: string
          transcript: string
          turn_id: string
          turn_number: number
          user_confidence: number | null
          user_emotion: string | null
          user_energy_level: string | null
        }
        Insert: {
          assistant_tone?: string | null
          captured_memories?: Json | null
          confidence?: number | null
          context_used?: Json | null
          created_at?: string | null
          domain?: string | null
          id?: string
          intent?: string | null
          latency_ms?: number | null
          natural_pause_ms?: number | null
          owner: string
          pacing_ms?: number | null
          references_long_term?: boolean | null
          requires_approval?: boolean | null
          risk_level?: string | null
          safety_status?: string
          session_id: string
          speaker: string
          transcript: string
          turn_id: string
          turn_number: number
          user_confidence?: number | null
          user_emotion?: string | null
          user_energy_level?: string | null
        }
        Update: {
          assistant_tone?: string | null
          captured_memories?: Json | null
          confidence?: number | null
          context_used?: Json | null
          created_at?: string | null
          domain?: string | null
          id?: string
          intent?: string | null
          latency_ms?: number | null
          natural_pause_ms?: number | null
          owner?: string
          pacing_ms?: number | null
          references_long_term?: boolean | null
          requires_approval?: boolean | null
          risk_level?: string | null
          safety_status?: string
          session_id?: string
          speaker?: string
          transcript?: string
          turn_id?: string
          turn_number?: number
          user_confidence?: number | null
          user_emotion?: string | null
          user_energy_level?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "dialogue_turns_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "dialogue_sessions"
            referencedColumns: ["session_id"]
          },
        ]
      }
      dialogue_voice_outputs: {
        Row: {
          allow_interruption: boolean | null
          audio_duration_ms: number | null
          audio_url: string | null
          autoplay: boolean | null
          created_at: string | null
          fallback_reason: string | null
          fallback_used: boolean | null
          first_byte_latency_ms: number | null
          id: string
          output_id: string
          owner: string
          priority: string | null
          provider: string
          synthesis_time_ms: number | null
          text: string
          total_playback_duration_ms: number | null
          turn_id: string
          voice_profile: string
        }
        Insert: {
          allow_interruption?: boolean | null
          audio_duration_ms?: number | null
          audio_url?: string | null
          autoplay?: boolean | null
          created_at?: string | null
          fallback_reason?: string | null
          fallback_used?: boolean | null
          first_byte_latency_ms?: number | null
          id?: string
          output_id: string
          owner: string
          priority?: string | null
          provider: string
          synthesis_time_ms?: number | null
          text: string
          total_playback_duration_ms?: number | null
          turn_id: string
          voice_profile: string
        }
        Update: {
          allow_interruption?: boolean | null
          audio_duration_ms?: number | null
          audio_url?: string | null
          autoplay?: boolean | null
          created_at?: string | null
          fallback_reason?: string | null
          fallback_used?: boolean | null
          first_byte_latency_ms?: number | null
          id?: string
          output_id?: string
          owner?: string
          priority?: string | null
          provider?: string
          synthesis_time_ms?: number | null
          text?: string
          total_playback_duration_ms?: number | null
          turn_id?: string
          voice_profile?: string
        }
        Relationships: [
          {
            foreignKeyName: "dialogue_voice_outputs_turn_id_fkey"
            columns: ["turn_id"]
            isOneToOne: false
            referencedRelation: "dialogue_turns"
            referencedColumns: ["turn_id"]
          },
        ]
      }
      disaster_mode_activations: {
        Row: {
          activated_at: string
          activated_by: string
          deactivated_at: string | null
          deactivated_by: string | null
          id: string
          is_active: boolean | null
          reason: string
          restrictions: Json
          scope: string
          scope_identifier: string | null
        }
        Insert: {
          activated_at?: string
          activated_by: string
          deactivated_at?: string | null
          deactivated_by?: string | null
          id?: string
          is_active?: boolean | null
          reason: string
          restrictions?: Json
          scope: string
          scope_identifier?: string | null
        }
        Update: {
          activated_at?: string
          activated_by?: string
          deactivated_at?: string | null
          deactivated_by?: string | null
          id?: string
          is_active?: boolean | null
          reason?: string
          restrictions?: Json
          scope?: string
          scope_identifier?: string | null
        }
        Relationships: []
      }
      disaster_mode_operations: {
        Row: {
          activation_id: string | null
          created_at: string
          id: string
          operation_type: string
          restriction_reason: string | null
          was_restricted: boolean
        }
        Insert: {
          activation_id?: string | null
          created_at?: string
          id?: string
          operation_type: string
          restriction_reason?: string | null
          was_restricted: boolean
        }
        Update: {
          activation_id?: string | null
          created_at?: string
          id?: string
          operation_type?: string
          restriction_reason?: string | null
          was_restricted?: boolean
        }
        Relationships: [
          {
            foreignKeyName: "disaster_mode_operations_activation_id_fkey"
            columns: ["activation_id"]
            isOneToOne: false
            referencedRelation: "disaster_mode_activations"
            referencedColumns: ["id"]
          },
        ]
      }
      documentation_tasks: {
        Row: {
          created_at: string | null
          doc_type: string
          generated_at: string | null
          id: string
          metadata: Json | null
          org_id: string | null
          status: string
          verified: boolean
        }
        Insert: {
          created_at?: string | null
          doc_type: string
          generated_at?: string | null
          id?: string
          metadata?: Json | null
          org_id?: string | null
          status?: string
          verified?: boolean
        }
        Update: {
          created_at?: string | null
          doc_type?: string
          generated_at?: string | null
          id?: string
          metadata?: Json | null
          org_id?: string | null
          status?: string
          verified?: boolean
        }
        Relationships: [
          {
            foreignKeyName: "documentation_tasks_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      drip_campaigns: {
        Row: {
          created_at: string | null
          description: string | null
          goal: string | null
          id: string
          is_template: boolean | null
          metrics: Json | null
          name: string
          sequence_type: string
          status: string
          tags: string[] | null
          template_category: string | null
          total_steps: number | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          goal?: string | null
          id?: string
          is_template?: boolean | null
          metrics?: Json | null
          name: string
          sequence_type?: string
          status?: string
          tags?: string[] | null
          template_category?: string | null
          total_steps?: number | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          goal?: string | null
          id?: string
          is_template?: boolean | null
          metrics?: Json | null
          name?: string
          sequence_type?: string
          status?: string
          tags?: string[] | null
          template_category?: string | null
          total_steps?: number | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "drip_campaigns_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      dynamic_questionnaires: {
        Row: {
          completed_at: string | null
          contact_id: string | null
          created_at: string | null
          created_from: string | null
          description: string | null
          id: string
          questions: Json
          sent_at: string | null
          status: string | null
          title: string
          updated_at: string | null
          workspace_id: string | null
        }
        Insert: {
          completed_at?: string | null
          contact_id?: string | null
          created_at?: string | null
          created_from?: string | null
          description?: string | null
          id?: string
          questions: Json
          sent_at?: string | null
          status?: string | null
          title: string
          updated_at?: string | null
          workspace_id?: string | null
        }
        Update: {
          completed_at?: string | null
          contact_id?: string | null
          created_at?: string | null
          created_from?: string | null
          description?: string | null
          id?: string
          questions?: Json
          sent_at?: string | null
          status?: string | null
          title?: string
          updated_at?: string | null
          workspace_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "dynamic_questionnaires_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "dynamic_questionnaires_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      early_warning_events: {
        Row: {
          client_id: string | null
          confidence: number
          created_at: string
          description_markdown: string
          id: string
          resolved_at: string | null
          resolved_by_user_id: string | null
          severity: string
          source_signals: Json
          status: string
          tenant_id: string | null
          timeframe_end: string | null
          timeframe_start: string | null
          title: string
          warning_type: string
        }
        Insert: {
          client_id?: string | null
          confidence: number
          created_at?: string
          description_markdown: string
          id?: string
          resolved_at?: string | null
          resolved_by_user_id?: string | null
          severity: string
          source_signals?: Json
          status?: string
          tenant_id?: string | null
          timeframe_end?: string | null
          timeframe_start?: string | null
          title: string
          warning_type: string
        }
        Update: {
          client_id?: string | null
          confidence?: number
          created_at?: string
          description_markdown?: string
          id?: string
          resolved_at?: string | null
          resolved_by_user_id?: string | null
          severity?: string
          source_signals?: Json
          status?: string
          tenant_id?: string | null
          timeframe_end?: string | null
          timeframe_start?: string | null
          title?: string
          warning_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "early_warning_events_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "early_warning_events_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      early_warning_factors: {
        Row: {
          active: boolean
          created_at: string
          factor_name: string
          id: string
          metadata: Json
          threshold: number
          updated_at: string
          weight: number
        }
        Insert: {
          active?: boolean
          created_at?: string
          factor_name: string
          id?: string
          metadata?: Json
          threshold: number
          updated_at?: string
          weight: number
        }
        Update: {
          active?: boolean
          created_at?: string
          factor_name?: string
          id?: string
          metadata?: Json
          threshold?: number
          updated_at?: string
          weight?: number
        }
        Relationships: []
      }
      egcbi_board_reports: {
        Row: {
          compliance_snapshot: Json | null
          created_at: string | null
          executive_summary: string | null
          id: string
          kpi_snapshot: Json | null
          report_period: string
          risk_snapshot: Json | null
          strategic_alignment: Json | null
          tenant_id: string
        }
        Insert: {
          compliance_snapshot?: Json | null
          created_at?: string | null
          executive_summary?: string | null
          id?: string
          kpi_snapshot?: Json | null
          report_period: string
          risk_snapshot?: Json | null
          strategic_alignment?: Json | null
          tenant_id: string
        }
        Update: {
          compliance_snapshot?: Json | null
          created_at?: string | null
          executive_summary?: string | null
          id?: string
          kpi_snapshot?: Json | null
          report_period?: string
          risk_snapshot?: Json | null
          strategic_alignment?: Json | null
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "egcbi_board_reports_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      egcbi_compliance_register: {
        Row: {
          compliance_type: string
          created_at: string | null
          due_date: string | null
          id: string
          obligation: string
          region: string
          severity: string
          status: string
          tenant_id: string
          updated_at: string | null
        }
        Insert: {
          compliance_type: string
          created_at?: string | null
          due_date?: string | null
          id?: string
          obligation: string
          region?: string
          severity?: string
          status?: string
          tenant_id: string
          updated_at?: string | null
        }
        Update: {
          compliance_type?: string
          created_at?: string | null
          due_date?: string | null
          id?: string
          obligation?: string
          region?: string
          severity?: string
          status?: string
          tenant_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "egcbi_compliance_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      egcbi_governance_signals: {
        Row: {
          id: string
          metadata: Json | null
          severity: string
          signal_type: string
          source: string
          tenant_id: string
          timestamp: string | null
        }
        Insert: {
          id?: string
          metadata?: Json | null
          severity?: string
          signal_type: string
          source: string
          tenant_id: string
          timestamp?: string | null
        }
        Update: {
          id?: string
          metadata?: Json | null
          severity?: string
          signal_type?: string
          source?: string
          tenant_id?: string
          timestamp?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "egcbi_governance_signals_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      email_clicks: {
        Row: {
          clicked_at: string | null
          id: string
          ip_address: string | null
          link_url: string
          sent_email_id: string
          user_agent: string | null
        }
        Insert: {
          clicked_at?: string | null
          id?: string
          ip_address?: string | null
          link_url: string
          sent_email_id: string
          user_agent?: string | null
        }
        Update: {
          clicked_at?: string | null
          id?: string
          ip_address?: string | null
          link_url?: string
          sent_email_id?: string
          user_agent?: string | null
        }
        Relationships: []
      }
      email_delivery_log: {
        Row: {
          created_at: string | null
          error_message: string | null
          event: string
          external_message_id: string | null
          id: string
          metadata: Json | null
          provider: string | null
          queue_id: string
          status: string
        }
        Insert: {
          created_at?: string | null
          error_message?: string | null
          event: string
          external_message_id?: string | null
          id?: string
          metadata?: Json | null
          provider?: string | null
          queue_id: string
          status: string
        }
        Update: {
          created_at?: string | null
          error_message?: string | null
          event?: string
          external_message_id?: string | null
          id?: string
          metadata?: Json | null
          provider?: string | null
          queue_id?: string
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_delivery_log_queue_id_fkey"
            columns: ["queue_id"]
            isOneToOne: false
            referencedRelation: "email_queue"
            referencedColumns: ["id"]
          },
        ]
      }
      email_ideas: {
        Row: {
          acknowledged_at: string | null
          acknowledged_by: string | null
          ai_model: string | null
          client_id: string | null
          completed_at: string | null
          confidence_score: number
          created_at: string | null
          description: string | null
          due_date: string | null
          due_date_confidence: number | null
          extracted_text: string | null
          id: string
          idea_type: string
          message_id: string | null
          priority: string | null
          processing_time_ms: number | null
          source_context: Json | null
          status: string | null
          thread_id: string | null
          title: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          ai_model?: string | null
          client_id?: string | null
          completed_at?: string | null
          confidence_score: number
          created_at?: string | null
          description?: string | null
          due_date?: string | null
          due_date_confidence?: number | null
          extracted_text?: string | null
          id?: string
          idea_type: string
          message_id?: string | null
          priority?: string | null
          processing_time_ms?: number | null
          source_context?: Json | null
          status?: string | null
          thread_id?: string | null
          title: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          ai_model?: string | null
          client_id?: string | null
          completed_at?: string | null
          confidence_score?: number
          created_at?: string | null
          description?: string | null
          due_date?: string | null
          due_date_confidence?: number | null
          extracted_text?: string | null
          id?: string
          idea_type?: string
          message_id?: string | null
          priority?: string | null
          processing_time_ms?: number | null
          source_context?: Json | null
          status?: string | null
          thread_id?: string | null
          title?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_ideas_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_ideas_message_id_fkey"
            columns: ["message_id"]
            isOneToOne: false
            referencedRelation: "email_messages"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_ideas_thread_id_fkey"
            columns: ["thread_id"]
            isOneToOne: false
            referencedRelation: "email_threads"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_ideas_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      email_integrations: {
        Row: {
          access_token: string | null
          created_at: string
          email_address: string
          id: string
          org_id: string
          provider: string
          refresh_token: string | null
          status: string
          updated_at: string
          user_id: string
          workspace_id: string
        }
        Insert: {
          access_token?: string | null
          created_at?: string
          email_address: string
          id?: string
          org_id: string
          provider: string
          refresh_token?: string | null
          status?: string
          updated_at?: string
          user_id: string
          workspace_id: string
        }
        Update: {
          access_token?: string | null
          created_at?: string
          email_address?: string
          id?: string
          org_id?: string
          provider?: string
          refresh_token?: string | null
          status?: string
          updated_at?: string
          user_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_email_integrations_org"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_integrations_workspace"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      email_intelligence: {
        Row: {
          ai_model: string | null
          analyzed_at: string | null
          business_goals: Json | null
          confidence_score: number | null
          contact_id: string | null
          created_at: string | null
          decision_readiness: number | null
          decisions_made: string[] | null
          email_id: string | null
          energy_level: number | null
          id: string
          ideas: Json | null
          pain_points: Json | null
          questions_asked: string[] | null
          requirements: Json | null
          sentiment: string | null
          updated_at: string | null
          workspace_id: string | null
        }
        Insert: {
          ai_model?: string | null
          analyzed_at?: string | null
          business_goals?: Json | null
          confidence_score?: number | null
          contact_id?: string | null
          created_at?: string | null
          decision_readiness?: number | null
          decisions_made?: string[] | null
          email_id?: string | null
          energy_level?: number | null
          id?: string
          ideas?: Json | null
          pain_points?: Json | null
          questions_asked?: string[] | null
          requirements?: Json | null
          sentiment?: string | null
          updated_at?: string | null
          workspace_id?: string | null
        }
        Update: {
          ai_model?: string | null
          analyzed_at?: string | null
          business_goals?: Json | null
          confidence_score?: number | null
          contact_id?: string | null
          created_at?: string | null
          decision_readiness?: number | null
          decisions_made?: string[] | null
          email_id?: string | null
          energy_level?: number | null
          id?: string
          ideas?: Json | null
          pain_points?: Json | null
          questions_asked?: string[] | null
          requirements?: Json | null
          sentiment?: string | null
          updated_at?: string | null
          workspace_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "email_intelligence_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_intelligence_email_id_fkey"
            columns: ["email_id"]
            isOneToOne: false
            referencedRelation: "client_emails"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_intelligence_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      email_messages: {
        Row: {
          attachment_count: number | null
          attachments: Json | null
          bcc_emails: string[] | null
          body_html: string | null
          body_text: string | null
          cc_emails: string[] | null
          connected_app_id: string
          created_at: string | null
          external_message_id: string
          external_thread_id: string
          from_email: string
          from_name: string | null
          has_attachments: boolean | null
          id: string
          importance: string | null
          in_reply_to: string | null
          intent_classification: string | null
          intent_confidence: number | null
          is_draft: boolean | null
          is_encrypted: boolean | null
          is_incoming: boolean | null
          is_read: boolean | null
          is_starred: boolean | null
          labels: string[] | null
          message_date: string
          message_references: string[] | null
          reply_to: string | null
          sentiment_score: number | null
          snippet: string | null
          spam_score: number | null
          subject: string | null
          thread_id: string
          to_emails: string[] | null
          to_names: string[] | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          attachment_count?: number | null
          attachments?: Json | null
          bcc_emails?: string[] | null
          body_html?: string | null
          body_text?: string | null
          cc_emails?: string[] | null
          connected_app_id: string
          created_at?: string | null
          external_message_id: string
          external_thread_id: string
          from_email: string
          from_name?: string | null
          has_attachments?: boolean | null
          id?: string
          importance?: string | null
          in_reply_to?: string | null
          intent_classification?: string | null
          intent_confidence?: number | null
          is_draft?: boolean | null
          is_encrypted?: boolean | null
          is_incoming?: boolean | null
          is_read?: boolean | null
          is_starred?: boolean | null
          labels?: string[] | null
          message_date: string
          message_references?: string[] | null
          reply_to?: string | null
          sentiment_score?: number | null
          snippet?: string | null
          spam_score?: number | null
          subject?: string | null
          thread_id: string
          to_emails?: string[] | null
          to_names?: string[] | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          attachment_count?: number | null
          attachments?: Json | null
          bcc_emails?: string[] | null
          body_html?: string | null
          body_text?: string | null
          cc_emails?: string[] | null
          connected_app_id?: string
          created_at?: string | null
          external_message_id?: string
          external_thread_id?: string
          from_email?: string
          from_name?: string | null
          has_attachments?: boolean | null
          id?: string
          importance?: string | null
          in_reply_to?: string | null
          intent_classification?: string | null
          intent_confidence?: number | null
          is_draft?: boolean | null
          is_encrypted?: boolean | null
          is_incoming?: boolean | null
          is_read?: boolean | null
          is_starred?: boolean | null
          labels?: string[] | null
          message_date?: string
          message_references?: string[] | null
          reply_to?: string | null
          sentiment_score?: number | null
          snippet?: string | null
          spam_score?: number | null
          subject?: string | null
          thread_id?: string
          to_emails?: string[] | null
          to_names?: string[] | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_messages_connected_app_id_fkey"
            columns: ["connected_app_id"]
            isOneToOne: false
            referencedRelation: "connected_apps"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_messages_thread_id_fkey"
            columns: ["thread_id"]
            isOneToOne: false
            referencedRelation: "email_threads"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_messages_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      email_opens: {
        Row: {
          id: string
          ip_address: string | null
          location: string | null
          opened_at: string | null
          sent_email_id: string
          user_agent: string | null
        }
        Insert: {
          id?: string
          ip_address?: string | null
          location?: string | null
          opened_at?: string | null
          sent_email_id: string
          user_agent?: string | null
        }
        Update: {
          id?: string
          ip_address?: string | null
          location?: string | null
          opened_at?: string | null
          sent_email_id?: string
          user_agent?: string | null
        }
        Relationships: []
      }
      email_queue: {
        Row: {
          alignment_issues: string[] | null
          approval_id: string | null
          approval_status: string
          body: string
          bounce_reason: string | null
          bounced: boolean | null
          brand_aligned: boolean
          brand_id: string
          created_at: string | null
          id: string
          metadata: Json | null
          ready_to_send: boolean
          recipient: string
          recipient_name: string | null
          risk_level: string
          risk_score: number
          sent_at: string | null
          subject: string
        }
        Insert: {
          alignment_issues?: string[] | null
          approval_id?: string | null
          approval_status: string
          body: string
          bounce_reason?: string | null
          bounced?: boolean | null
          brand_aligned: boolean
          brand_id: string
          created_at?: string | null
          id?: string
          metadata?: Json | null
          ready_to_send?: boolean
          recipient: string
          recipient_name?: string | null
          risk_level: string
          risk_score: number
          sent_at?: string | null
          subject: string
        }
        Update: {
          alignment_issues?: string[] | null
          approval_id?: string | null
          approval_status?: string
          body?: string
          bounce_reason?: string | null
          bounced?: boolean | null
          brand_aligned?: boolean
          brand_id?: string
          created_at?: string | null
          id?: string
          metadata?: Json | null
          ready_to_send?: boolean
          recipient?: string
          recipient_name?: string | null
          risk_level?: string
          risk_score?: number
          sent_at?: string | null
          subject?: string
        }
        Relationships: [
          {
            foreignKeyName: "valid_brand"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brand_metadata"
            referencedColumns: ["brand_id"]
          },
        ]
      }
      email_replies: {
        Row: {
          ai_summary: string | null
          created_at: string | null
          id: string
          received_at: string | null
          reply_body: string | null
          reply_subject: string | null
          sender_email: string | null
          sent_email_id: string
          sentiment: string | null
        }
        Insert: {
          ai_summary?: string | null
          created_at?: string | null
          id?: string
          received_at?: string | null
          reply_body?: string | null
          reply_subject?: string | null
          sender_email?: string | null
          sent_email_id: string
          sentiment?: string | null
        }
        Update: {
          ai_summary?: string | null
          created_at?: string | null
          id?: string
          received_at?: string | null
          reply_body?: string | null
          reply_subject?: string | null
          sender_email?: string | null
          sent_email_id?: string
          sentiment?: string | null
        }
        Relationships: []
      }
      email_sync_logs: {
        Row: {
          clients_mapped: number | null
          completed_at: string | null
          connected_app_id: string
          duration_ms: number | null
          error_details: Json | null
          error_message: string | null
          history_id: string | null
          id: string
          ideas_extracted: number | null
          messages_synced: number | null
          next_page_token: string | null
          started_at: string | null
          sync_from: string | null
          sync_status: string
          sync_to: string | null
          sync_type: string
          threads_synced: number | null
          workspace_id: string
        }
        Insert: {
          clients_mapped?: number | null
          completed_at?: string | null
          connected_app_id: string
          duration_ms?: number | null
          error_details?: Json | null
          error_message?: string | null
          history_id?: string | null
          id?: string
          ideas_extracted?: number | null
          messages_synced?: number | null
          next_page_token?: string | null
          started_at?: string | null
          sync_from?: string | null
          sync_status: string
          sync_to?: string | null
          sync_type: string
          threads_synced?: number | null
          workspace_id: string
        }
        Update: {
          clients_mapped?: number | null
          completed_at?: string | null
          connected_app_id?: string
          duration_ms?: number | null
          error_details?: Json | null
          error_message?: string | null
          history_id?: string | null
          id?: string
          ideas_extracted?: number | null
          messages_synced?: number | null
          next_page_token?: string | null
          started_at?: string | null
          sync_from?: string | null
          sync_status?: string
          sync_to?: string | null
          sync_type?: string
          threads_synced?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_sync_logs_connected_app_id_fkey"
            columns: ["connected_app_id"]
            isOneToOne: false
            referencedRelation: "connected_apps"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_sync_logs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      email_threads: {
        Row: {
          ai_summary: string | null
          cc_addresses: string[] | null
          client_id: string | null
          client_mapping_confidence: number | null
          client_mapping_method: string | null
          connected_app_id: string
          created_at: string | null
          external_thread_id: string
          first_message_at: string | null
          from_addresses: string[] | null
          has_attachments: boolean | null
          id: string
          is_read: boolean | null
          is_starred: boolean | null
          labels: string[] | null
          last_message_at: string | null
          last_sync_error: string | null
          message_count: number | null
          priority_score: number | null
          sentiment_score: number | null
          snippet: string | null
          subject: string | null
          sync_status: string | null
          to_addresses: string[] | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          ai_summary?: string | null
          cc_addresses?: string[] | null
          client_id?: string | null
          client_mapping_confidence?: number | null
          client_mapping_method?: string | null
          connected_app_id: string
          created_at?: string | null
          external_thread_id: string
          first_message_at?: string | null
          from_addresses?: string[] | null
          has_attachments?: boolean | null
          id?: string
          is_read?: boolean | null
          is_starred?: boolean | null
          labels?: string[] | null
          last_message_at?: string | null
          last_sync_error?: string | null
          message_count?: number | null
          priority_score?: number | null
          sentiment_score?: number | null
          snippet?: string | null
          subject?: string | null
          sync_status?: string | null
          to_addresses?: string[] | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          ai_summary?: string | null
          cc_addresses?: string[] | null
          client_id?: string | null
          client_mapping_confidence?: number | null
          client_mapping_method?: string | null
          connected_app_id?: string
          created_at?: string | null
          external_thread_id?: string
          first_message_at?: string | null
          from_addresses?: string[] | null
          has_attachments?: boolean | null
          id?: string
          is_read?: boolean | null
          is_starred?: boolean | null
          labels?: string[] | null
          last_message_at?: string | null
          last_sync_error?: string | null
          message_count?: number | null
          priority_score?: number | null
          sentiment_score?: number | null
          snippet?: string | null
          subject?: string | null
          sync_status?: string | null
          to_addresses?: string[] | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_threads_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_threads_connected_app_id_fkey"
            columns: ["connected_app_id"]
            isOneToOne: false
            referencedRelation: "connected_apps"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_threads_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      email_variants: {
        Row: {
          body: string
          click_count: number | null
          content_id: string
          created_at: string | null
          id: string
          open_count: number | null
          reply_count: number | null
          sent_count: number | null
          subject_line: string
          variant_letter: string
        }
        Insert: {
          body: string
          click_count?: number | null
          content_id: string
          created_at?: string | null
          id?: string
          open_count?: number | null
          reply_count?: number | null
          sent_count?: number | null
          subject_line: string
          variant_letter: string
        }
        Update: {
          body?: string
          click_count?: number | null
          content_id?: string
          created_at?: string | null
          id?: string
          open_count?: number | null
          reply_count?: number | null
          sent_count?: number | null
          subject_line?: string
          variant_letter?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_variants_content_id_fkey"
            columns: ["content_id"]
            isOneToOne: false
            referencedRelation: "generated_content"
            referencedColumns: ["id"]
          },
        ]
      }
      emails: {
        Row: {
          body: string | null
          contact_email_id: string | null
          contact_id: string | null
          created_at: string | null
          engagement_value: number | null
          from_email: string | null
          id: string
          intent_keywords: string[] | null
          is_processed: boolean | null
          is_reply: boolean | null
          received_at: string | null
          sentiment: string | null
          subject: string | null
          to_email: string | null
          workspace_id: string
        }
        Insert: {
          body?: string | null
          contact_email_id?: string | null
          contact_id?: string | null
          created_at?: string | null
          engagement_value?: number | null
          from_email?: string | null
          id?: string
          intent_keywords?: string[] | null
          is_processed?: boolean | null
          is_reply?: boolean | null
          received_at?: string | null
          sentiment?: string | null
          subject?: string | null
          to_email?: string | null
          workspace_id: string
        }
        Update: {
          body?: string | null
          contact_email_id?: string | null
          contact_id?: string | null
          created_at?: string | null
          engagement_value?: number | null
          from_email?: string | null
          id?: string
          intent_keywords?: string[] | null
          is_processed?: boolean | null
          is_reply?: boolean | null
          received_at?: string | null
          sentiment?: string | null
          subject?: string | null
          to_email?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "emails_contact_email_id_fkey"
            columns: ["contact_email_id"]
            isOneToOne: false
            referencedRelation: "contact_emails"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "emails_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "emails_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      engine_circuits: {
        Row: {
          circuit_state: string
          created_at: string
          engine_name: string
          failure_count: number
          id: string
          last_failure_at: string | null
          last_state_change: string
          recovery_timeout_ms: number
          success_count: number
          threshold_failures: number
        }
        Insert: {
          circuit_state?: string
          created_at?: string
          engine_name: string
          failure_count?: number
          id?: string
          last_failure_at?: string | null
          last_state_change?: string
          recovery_timeout_ms?: number
          success_count?: number
          threshold_failures?: number
        }
        Update: {
          circuit_state?: string
          created_at?: string
          engine_name?: string
          failure_count?: number
          id?: string
          last_failure_at?: string | null
          last_state_change?: string
          recovery_timeout_ms?: number
          success_count?: number
          threshold_failures?: number
        }
        Relationships: []
      }
      engine_health_snapshots: {
        Row: {
          anomaly_flags: Json
          confidence: number
          created_at: string
          engine_name: string
          health_status: string
          id: string
          metrics: Json
          uncertainty_notes: string | null
        }
        Insert: {
          anomaly_flags?: Json
          confidence: number
          created_at?: string
          engine_name: string
          health_status: string
          id?: string
          metrics: Json
          uncertainty_notes?: string | null
        }
        Update: {
          anomaly_flags?: Json
          confidence?: number
          created_at?: string
          engine_name?: string
          health_status?: string
          id?: string
          metrics?: Json
          uncertainty_notes?: string | null
        }
        Relationships: []
      }
      environment_profiles: {
        Row: {
          approximate_address: string | null
          average_session_duration_ms: number | null
          communication_optimal: boolean
          confidence_score: number
          created_at: string
          creative_optimal: boolean
          deep_work_optimal: boolean
          display_name: string
          distraction_factors: string[]
          environment_signature: string
          focus_consistency: number
          focus_factors: string[]
          focus_quality_average: number
          focus_quality_best_time_end: string | null
          focus_quality_best_time_start: string | null
          frequent_day_type: string[]
          frequent_time_of_day: string[]
          id: string
          ideal_weather: string[]
          last_updated: string
          location_confidence: number | null
          owner_id: string
          place_type: string
          profile_id: string
          recommended_activities: Json
          rest_optimal: boolean
          sample_size: number
          visit_frequency: number | null
          workspace_id: string
        }
        Insert: {
          approximate_address?: string | null
          average_session_duration_ms?: number | null
          communication_optimal?: boolean
          confidence_score?: number
          created_at?: string
          creative_optimal?: boolean
          deep_work_optimal?: boolean
          display_name: string
          distraction_factors?: string[]
          environment_signature: string
          focus_consistency?: number
          focus_factors?: string[]
          focus_quality_average?: number
          focus_quality_best_time_end?: string | null
          focus_quality_best_time_start?: string | null
          frequent_day_type?: string[]
          frequent_time_of_day?: string[]
          id?: string
          ideal_weather?: string[]
          last_updated?: string
          location_confidence?: number | null
          owner_id: string
          place_type: string
          profile_id: string
          recommended_activities?: Json
          rest_optimal?: boolean
          sample_size?: number
          visit_frequency?: number | null
          workspace_id: string
        }
        Update: {
          approximate_address?: string | null
          average_session_duration_ms?: number | null
          communication_optimal?: boolean
          confidence_score?: number
          created_at?: string
          creative_optimal?: boolean
          deep_work_optimal?: boolean
          display_name?: string
          distraction_factors?: string[]
          environment_signature?: string
          focus_consistency?: number
          focus_factors?: string[]
          focus_quality_average?: number
          focus_quality_best_time_end?: string | null
          focus_quality_best_time_start?: string | null
          frequent_day_type?: string[]
          frequent_time_of_day?: string[]
          id?: string
          ideal_weather?: string[]
          last_updated?: string
          location_confidence?: number | null
          owner_id?: string
          place_type?: string
          profile_id?: string
          recommended_activities?: Json
          rest_optimal?: boolean
          sample_size?: number
          visit_frequency?: number | null
          workspace_id?: string
        }
        Relationships: []
      }
      evolution_kernel_runs: {
        Row: {
          confidence: number
          created_at: string
          id: string
          run_duration_ms: number | null
          signals_processed: number
          tasks_generated: number
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          confidence: number
          created_at?: string
          id?: string
          run_duration_ms?: number | null
          signals_processed?: number
          tasks_generated?: number
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number
          created_at?: string
          id?: string
          run_duration_ms?: number | null
          signals_processed?: number
          tasks_generated?: number
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "evolution_kernel_runs_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      evolution_mesh_edges: {
        Row: {
          confidence: number
          created_at: string
          edge_type: string
          id: string
          is_feedback_loop: boolean | null
          source_node_id: string | null
          target_node_id: string | null
          tenant_id: string | null
          weight: number
        }
        Insert: {
          confidence: number
          created_at?: string
          edge_type: string
          id?: string
          is_feedback_loop?: boolean | null
          source_node_id?: string | null
          target_node_id?: string | null
          tenant_id?: string | null
          weight?: number
        }
        Update: {
          confidence?: number
          created_at?: string
          edge_type?: string
          id?: string
          is_feedback_loop?: boolean | null
          source_node_id?: string | null
          target_node_id?: string | null
          tenant_id?: string | null
          weight?: number
        }
        Relationships: [
          {
            foreignKeyName: "evolution_mesh_edges_source_node_id_fkey"
            columns: ["source_node_id"]
            isOneToOne: false
            referencedRelation: "evolution_mesh_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "evolution_mesh_edges_target_node_id_fkey"
            columns: ["target_node_id"]
            isOneToOne: false
            referencedRelation: "evolution_mesh_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "evolution_mesh_edges_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      evolution_mesh_nodes: {
        Row: {
          created_at: string
          id: string
          influence_weight: number
          node_data: Json
          node_label: string
          node_type: string
          temporal_decay_factor: number | null
          tenant_id: string | null
          updated_at: string
        }
        Insert: {
          created_at?: string
          id?: string
          influence_weight?: number
          node_data?: Json
          node_label: string
          node_type: string
          temporal_decay_factor?: number | null
          tenant_id?: string | null
          updated_at?: string
        }
        Update: {
          created_at?: string
          id?: string
          influence_weight?: number
          node_data?: Json
          node_label?: string
          node_type?: string
          temporal_decay_factor?: number | null
          tenant_id?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "evolution_mesh_nodes_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      evolution_mesh_snapshots: {
        Row: {
          created_at: string
          edge_count: number
          feedback_loops_detected: number | null
          id: string
          mesh_health_score: number | null
          node_count: number
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          created_at?: string
          edge_count: number
          feedback_loops_detected?: number | null
          id?: string
          mesh_health_score?: number | null
          node_count: number
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          created_at?: string
          edge_count?: number
          feedback_loops_detected?: number | null
          id?: string
          mesh_health_score?: number | null
          node_count?: number
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "evolution_mesh_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      evolution_proposals: {
        Row: {
          created_at: string | null
          description: string
          effort_estimate: string | null
          id: string
          impact_area: string
          metadata: Json | null
          proposal_type: string
          status: string
          suggested_by: string
        }
        Insert: {
          created_at?: string | null
          description: string
          effort_estimate?: string | null
          id?: string
          impact_area: string
          metadata?: Json | null
          proposal_type: string
          status?: string
          suggested_by?: string
        }
        Update: {
          created_at?: string | null
          description?: string
          effort_estimate?: string | null
          id?: string
          impact_area?: string
          metadata?: Json | null
          proposal_type?: string
          status?: string
          suggested_by?: string
        }
        Relationships: []
      }
      evolution_regression_checks: {
        Row: {
          baseline_metrics: Json
          block_reason: string | null
          blocked: boolean | null
          check_type: string
          confidence: number
          core_kpis_impacted: boolean | null
          created_at: string
          current_metrics: Json
          id: string
          regressions_detected: Json | null
          task_id: string | null
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          baseline_metrics: Json
          block_reason?: string | null
          blocked?: boolean | null
          check_type: string
          confidence: number
          core_kpis_impacted?: boolean | null
          created_at?: string
          current_metrics: Json
          id?: string
          regressions_detected?: Json | null
          task_id?: string | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          baseline_metrics?: Json
          block_reason?: string | null
          blocked?: boolean | null
          check_type?: string
          confidence?: number
          core_kpis_impacted?: boolean | null
          created_at?: string
          current_metrics?: Json
          id?: string
          regressions_detected?: Json | null
          task_id?: string | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "evolution_regression_checks_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      evolution_review_queue: {
        Row: {
          confidence_band: Json
          created_at: string
          decision: string | null
          deviation_alerts: Json | null
          id: string
          review_notes: string | null
          review_priority: string
          reviewed_at: string | null
          reviewer_id: string | null
          source_trace: Json
          task_id: string | null
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          confidence_band: Json
          created_at?: string
          decision?: string | null
          deviation_alerts?: Json | null
          id?: string
          review_notes?: string | null
          review_priority?: string
          reviewed_at?: string | null
          reviewer_id?: string | null
          source_trace: Json
          task_id?: string | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          confidence_band?: Json
          created_at?: string
          decision?: string | null
          deviation_alerts?: Json | null
          id?: string
          review_notes?: string | null
          review_priority?: string
          reviewed_at?: string | null
          reviewer_id?: string | null
          source_trace?: Json
          task_id?: string | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "evolution_review_queue_task_id_fkey"
            columns: ["task_id"]
            isOneToOne: false
            referencedRelation: "evolution_tasks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "evolution_review_queue_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      evolution_schedules: {
        Row: {
          completed_tasks: number
          confidence: number
          created_at: string
          cycle_end: string
          cycle_start: string
          id: string
          load_aware_adjustments: Json | null
          priority_breakdown: Json
          status: string
          task_ids: string[]
          tenant_id: string | null
          total_tasks: number
          uncertainty_notes: string | null
        }
        Insert: {
          completed_tasks?: number
          confidence: number
          created_at?: string
          cycle_end: string
          cycle_start: string
          id?: string
          load_aware_adjustments?: Json | null
          priority_breakdown?: Json
          status?: string
          task_ids?: string[]
          tenant_id?: string | null
          total_tasks?: number
          uncertainty_notes?: string | null
        }
        Update: {
          completed_tasks?: number
          confidence?: number
          created_at?: string
          cycle_end?: string
          cycle_start?: string
          id?: string
          load_aware_adjustments?: Json | null
          priority_breakdown?: Json
          status?: string
          task_ids?: string[]
          tenant_id?: string | null
          total_tasks?: number
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "evolution_schedules_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      evolution_tasks: {
        Row: {
          confidence: number
          created_at: string
          description: string
          executed_at: string | null
          id: string
          priority: string
          recommended_action: string | null
          requires_approval: boolean
          source_signal: Json
          status: string
          task_type: string
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          confidence: number
          created_at?: string
          description: string
          executed_at?: string | null
          id?: string
          priority?: string
          recommended_action?: string | null
          requires_approval?: boolean
          source_signal: Json
          status?: string
          task_type: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number
          created_at?: string
          description?: string
          executed_at?: string | null
          id?: string
          priority?: string
          recommended_action?: string | null
          requires_approval?: boolean
          source_signal?: Json
          status?: string
          task_type?: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "evolution_tasks_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      execution_events: {
        Row: {
          event_data: Json | null
          event_type: string
          execution_id: string
          id: number
          timestamp: string
          workspace_id: string
        }
        Insert: {
          event_data?: Json | null
          event_type: string
          execution_id: string
          id?: number
          timestamp?: string
          workspace_id: string
        }
        Update: {
          event_data?: Json | null
          event_type?: string
          execution_id?: string
          id?: number
          timestamp?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "execution_events_execution_id_fkey"
            columns: ["execution_id"]
            isOneToOne: false
            referencedRelation: "strategy_executions"
            referencedColumns: ["id"]
          },
        ]
      }
      execution_health_snapshots: {
        Row: {
          avg_task_duration: number | null
          completion_rate: number | null
          created_at: string
          error_rate: number | null
          execution_id: string
          health_score: number
          id: number
          issues: string[] | null
          workspace_id: string
        }
        Insert: {
          avg_task_duration?: number | null
          completion_rate?: number | null
          created_at?: string
          error_rate?: number | null
          execution_id: string
          health_score: number
          id?: number
          issues?: string[] | null
          workspace_id: string
        }
        Update: {
          avg_task_duration?: number | null
          completion_rate?: number | null
          created_at?: string
          error_rate?: number | null
          execution_id?: string
          health_score?: number
          id?: number
          issues?: string[] | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "execution_health_snapshots_execution_id_fkey"
            columns: ["execution_id"]
            isOneToOne: false
            referencedRelation: "strategy_executions"
            referencedColumns: ["id"]
          },
        ]
      }
      execution_logs: {
        Row: {
          action: string
          content_id: string | null
          created_at: string
          id: string
          message: string
          metadata: Json | null
          platform: string | null
          status: string
          workspace_id: string
        }
        Insert: {
          action: string
          content_id?: string | null
          created_at?: string
          id?: string
          message: string
          metadata?: Json | null
          platform?: string | null
          status?: string
          workspace_id: string
        }
        Update: {
          action?: string
          content_id?: string | null
          created_at?: string
          id?: string
          message?: string
          metadata?: Json | null
          platform?: string | null
          status?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "execution_logs_content_id_fkey"
            columns: ["content_id"]
            isOneToOne: false
            referencedRelation: "generated_content"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "execution_logs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      experiment_sandboxes: {
        Row: {
          cloned_from: Json | null
          completed_at: string | null
          confidence: number | null
          created_at: string
          description: string | null
          id: string
          is_active: boolean | null
          name: string
          results: Json | null
          sandbox_config: Json
          status: string
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          cloned_from?: Json | null
          completed_at?: string | null
          confidence?: number | null
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean | null
          name: string
          results?: Json | null
          sandbox_config?: Json
          status?: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          cloned_from?: Json | null
          completed_at?: string | null
          confidence?: number | null
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean | null
          name?: string
          results?: Json | null
          sandbox_config?: Json
          status?: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "experiment_sandboxes_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      extended_thinking_operations: {
        Row: {
          agent_name: string | null
          cache_creation_tokens: number
          cache_read_tokens: number
          complexity_level: string
          created_at: string
          duration_ms: number
          id: string
          input_text: string | null
          input_tokens: number
          operation_type: string
          output_tokens: number
          result_content: string
          thinking_content: string | null
          thinking_cost: number
          thinking_tokens: number
          timestamp: string
          total_cost: number
          user_id: string
          workspace_id: string
        }
        Insert: {
          agent_name?: string | null
          cache_creation_tokens?: number
          cache_read_tokens?: number
          complexity_level: string
          created_at?: string
          duration_ms?: number
          id?: string
          input_text?: string | null
          input_tokens?: number
          operation_type: string
          output_tokens?: number
          result_content: string
          thinking_content?: string | null
          thinking_cost?: number
          thinking_tokens?: number
          timestamp?: string
          total_cost?: number
          user_id: string
          workspace_id: string
        }
        Update: {
          agent_name?: string | null
          cache_creation_tokens?: number
          cache_read_tokens?: number
          complexity_level?: string
          created_at?: string
          duration_ms?: number
          id?: string
          input_text?: string | null
          input_tokens?: number
          operation_type?: string
          output_tokens?: number
          result_content?: string
          thinking_content?: string | null
          thinking_cost?: number
          thinking_tokens?: number
          timestamp?: string
          total_cost?: number
          user_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "extended_thinking_operations_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      failover_events: {
        Row: {
          compliance_preserved: boolean
          confidence: number
          created_at: string
          id: string
          is_degraded_mode: boolean | null
          policy_id: string | null
          reason: string
          source_region: string
          target_region: string
        }
        Insert: {
          compliance_preserved: boolean
          confidence?: number
          created_at?: string
          id?: string
          is_degraded_mode?: boolean | null
          policy_id?: string | null
          reason: string
          source_region: string
          target_region: string
        }
        Update: {
          compliance_preserved?: boolean
          confidence?: number
          created_at?: string
          id?: string
          is_degraded_mode?: boolean | null
          policy_id?: string | null
          reason?: string
          source_region?: string
          target_region?: string
        }
        Relationships: [
          {
            foreignKeyName: "failover_events_policy_id_fkey"
            columns: ["policy_id"]
            isOneToOne: false
            referencedRelation: "failover_routing_policies"
            referencedColumns: ["id"]
          },
        ]
      }
      failover_routing_policies: {
        Row: {
          conditions: Json
          created_at: string
          fallback_regions: Json
          id: string
          is_active: boolean | null
          policy_name: string
          source_region: string
        }
        Insert: {
          conditions?: Json
          created_at?: string
          fallback_regions?: Json
          id?: string
          is_active?: boolean | null
          policy_name: string
          source_region: string
        }
        Update: {
          conditions?: Json
          created_at?: string
          fallback_regions?: Json
          id?: string
          is_active?: boolean | null
          policy_name?: string
          source_region?: string
        }
        Relationships: []
      }
      fairness_audit_reports: {
        Row: {
          audit_scope: string
          audit_type: string
          bias_flags: Json | null
          confidence: number
          created_at: string
          findings: Json
          id: string
          is_suppressed: boolean
          recommendations: Json | null
          risk_level: string
          uncertainty_notes: string | null
        }
        Insert: {
          audit_scope: string
          audit_type: string
          bias_flags?: Json | null
          confidence: number
          created_at?: string
          findings: Json
          id?: string
          is_suppressed?: boolean
          recommendations?: Json | null
          risk_level?: string
          uncertainty_notes?: string | null
        }
        Update: {
          audit_scope?: string
          audit_type?: string
          bias_flags?: Json | null
          confidence?: number
          created_at?: string
          findings?: Json
          id?: string
          is_suppressed?: boolean
          recommendations?: Json | null
          risk_level?: string
          uncertainty_notes?: string | null
        }
        Relationships: []
      }
      fault_domains: {
        Row: {
          created_at: string
          domain_identifier: string
          domain_type: string
          id: string
          isolated_at: string | null
          isolation_reason: string | null
          recovered_at: string | null
          status: string
        }
        Insert: {
          created_at?: string
          domain_identifier: string
          domain_type: string
          id?: string
          isolated_at?: string | null
          isolation_reason?: string | null
          recovered_at?: string | null
          status?: string
        }
        Update: {
          created_at?: string
          domain_identifier?: string
          domain_type?: string
          id?: string
          isolated_at?: string | null
          isolation_reason?: string | null
          recovered_at?: string | null
          status?: string
        }
        Relationships: []
      }
      fault_isolation_events: {
        Row: {
          cascading_risk: Json | null
          cause: string
          confidence: number
          created_at: string
          event_type: string
          fault_domain_id: string | null
          id: string
          scope: Json
        }
        Insert: {
          cascading_risk?: Json | null
          cause: string
          confidence?: number
          created_at?: string
          event_type: string
          fault_domain_id?: string | null
          id?: string
          scope?: Json
        }
        Update: {
          cascading_risk?: Json | null
          cause?: string
          confidence?: number
          created_at?: string
          event_type?: string
          fault_domain_id?: string | null
          id?: string
          scope?: Json
        }
        Relationships: [
          {
            foreignKeyName: "fault_isolation_events_fault_domain_id_fkey"
            columns: ["fault_domain_id"]
            isOneToOne: false
            referencedRelation: "fault_domains"
            referencedColumns: ["id"]
          },
        ]
      }
      feature_flags: {
        Row: {
          created_at: string | null
          description: string | null
          enabled: boolean
          feature_key: string
          id: string
          org_id: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          enabled?: boolean
          feature_key: string
          id?: string
          org_id: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          description?: string | null
          enabled?: boolean
          feature_key?: string
          id?: string
          org_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "feature_flags_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      federated_queues: {
        Row: {
          created_at: string
          federation_group: string
          health_status: string
          id: string
          is_primary: boolean | null
          ordering_guaranteed: boolean | null
          priority: number
          queue_name: string
        }
        Insert: {
          created_at?: string
          federation_group: string
          health_status?: string
          id?: string
          is_primary?: boolean | null
          ordering_guaranteed?: boolean | null
          priority?: number
          queue_name: string
        }
        Update: {
          created_at?: string
          federation_group?: string
          health_status?: string
          id?: string
          is_primary?: boolean | null
          ordering_guaranteed?: boolean | null
          priority?: number
          queue_name?: string
        }
        Relationships: []
      }
      financial_reports: {
        Row: {
          created_at: string | null
          finalized_at: string | null
          generated_at: string | null
          generated_by: string | null
          id: string
          metadata: Json | null
          org_id: string
          overage_revenue: number | null
          period_end: string
          period_start: string
          report_name: string
          report_type: string
          status: string | null
          subscription_revenue: number | null
          total_cost: number | null
          total_revenue: number | null
          updated_at: string | null
          usage_summary: Json | null
          workspace_breakdown: Json | null
        }
        Insert: {
          created_at?: string | null
          finalized_at?: string | null
          generated_at?: string | null
          generated_by?: string | null
          id?: string
          metadata?: Json | null
          org_id: string
          overage_revenue?: number | null
          period_end: string
          period_start: string
          report_name: string
          report_type: string
          status?: string | null
          subscription_revenue?: number | null
          total_cost?: number | null
          total_revenue?: number | null
          updated_at?: string | null
          usage_summary?: Json | null
          workspace_breakdown?: Json | null
        }
        Update: {
          created_at?: string | null
          finalized_at?: string | null
          generated_at?: string | null
          generated_by?: string | null
          id?: string
          metadata?: Json | null
          org_id?: string
          overage_revenue?: number | null
          period_end?: string
          period_start?: string
          report_name?: string
          report_type?: string
          status?: string | null
          subscription_revenue?: number | null
          total_cost?: number | null
          total_revenue?: number | null
          updated_at?: string | null
          usage_summary?: Json | null
          workspace_breakdown?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "financial_reports_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      flight_deck_layouts: {
        Row: {
          created_at: string
          id: string
          layout_config: Json
          tenant_id: string | null
          updated_at: string
          user_id: string | null
          widget_states: Json
        }
        Insert: {
          created_at?: string
          id?: string
          layout_config?: Json
          tenant_id?: string | null
          updated_at?: string
          user_id?: string | null
          widget_states?: Json
        }
        Update: {
          created_at?: string
          id?: string
          layout_config?: Json
          tenant_id?: string | null
          updated_at?: string
          user_id?: string | null
          widget_states?: Json
        }
        Relationships: [
          {
            foreignKeyName: "flight_deck_layouts_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      forecast_accuracy: {
        Row: {
          accuracy_status: string | null
          actual_report_id: string | null
          actual_value: number | null
          created_at: string | null
          forecast_report_id: string
          forecast_value: number
          id: string
          metric_name: string
          variance_percentage: number | null
        }
        Insert: {
          accuracy_status?: string | null
          actual_report_id?: string | null
          actual_value?: number | null
          created_at?: string | null
          forecast_report_id: string
          forecast_value: number
          id?: string
          metric_name: string
          variance_percentage?: number | null
        }
        Update: {
          accuracy_status?: string | null
          actual_report_id?: string | null
          actual_value?: number | null
          created_at?: string | null
          forecast_report_id?: string
          forecast_value?: number
          id?: string
          metric_name?: string
          variance_percentage?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "forecast_accuracy_actual_report_id_fkey"
            columns: ["actual_report_id"]
            isOneToOne: false
            referencedRelation: "analysis_reports"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "forecast_accuracy_forecast_report_id_fkey"
            columns: ["forecast_report_id"]
            isOneToOne: false
            referencedRelation: "analysis_reports"
            referencedColumns: ["id"]
          },
        ]
      }
      forecast_inputs: {
        Row: {
          created_at: string | null
          id: string
          input_type: string
          org_id: string
          period: string
          value: Json | null
        }
        Insert: {
          created_at?: string | null
          id?: string
          input_type: string
          org_id: string
          period: string
          value?: Json | null
        }
        Update: {
          created_at?: string | null
          id?: string
          input_type?: string
          org_id?: string
          period?: string
          value?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "forecast_inputs_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_approvals: {
        Row: {
          agent: string
          approved: boolean | null
          brand_id: string
          created_at: string | null
          decision_at: string | null
          decision_by: string | null
          decision_reason: string | null
          details: Json
          id: string
          item_type: string
          risk_level: string
          summary: string
        }
        Insert: {
          agent: string
          approved?: boolean | null
          brand_id: string
          created_at?: string | null
          decision_at?: string | null
          decision_by?: string | null
          decision_reason?: string | null
          details: Json
          id?: string
          item_type: string
          risk_level: string
          summary: string
        }
        Update: {
          agent?: string
          approved?: boolean | null
          brand_id?: string
          created_at?: string | null
          decision_at?: string | null
          decision_by?: string | null
          decision_reason?: string | null
          details?: Json
          id?: string
          item_type?: string
          risk_level?: string
          summary?: string
        }
        Relationships: [
          {
            foreignKeyName: "valid_brand"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brand_metadata"
            referencedColumns: ["brand_id"]
          },
        ]
      }
      founder_briefings: {
        Row: {
          action_items: Json | null
          ai_insights: Json | null
          alerts: Json | null
          briefing_date: string
          briefing_type: string | null
          client_updates: Json | null
          created_at: string | null
          executive_summary: string | null
          financial_summary: Json | null
          founder_id: string
          id: string
          is_read: boolean | null
          key_metrics: Json | null
          organization_id: string
          read_at: string | null
          recommendations: Json | null
          staff_activity: Json | null
          upcoming_events: Json | null
        }
        Insert: {
          action_items?: Json | null
          ai_insights?: Json | null
          alerts?: Json | null
          briefing_date: string
          briefing_type?: string | null
          client_updates?: Json | null
          created_at?: string | null
          executive_summary?: string | null
          financial_summary?: Json | null
          founder_id: string
          id?: string
          is_read?: boolean | null
          key_metrics?: Json | null
          organization_id: string
          read_at?: string | null
          recommendations?: Json | null
          staff_activity?: Json | null
          upcoming_events?: Json | null
        }
        Update: {
          action_items?: Json | null
          ai_insights?: Json | null
          alerts?: Json | null
          briefing_date?: string
          briefing_type?: string | null
          client_updates?: Json | null
          created_at?: string | null
          executive_summary?: string | null
          financial_summary?: Json | null
          founder_id?: string
          id?: string
          is_read?: boolean | null
          key_metrics?: Json | null
          organization_id?: string
          read_at?: string | null
          recommendations?: Json | null
          staff_activity?: Json | null
          upcoming_events?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "founder_briefings_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_business_links: {
        Row: {
          created_at: string | null
          founder_business_id: string
          id: string
          label: string
          link_type: string
          metadata: Json | null
          url: string
        }
        Insert: {
          created_at?: string | null
          founder_business_id: string
          id?: string
          label: string
          link_type: string
          metadata?: Json | null
          url: string
        }
        Update: {
          created_at?: string | null
          founder_business_id?: string
          id?: string
          label?: string
          link_type?: string
          metadata?: Json | null
          url?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_business_links_founder_business_id_fkey"
            columns: ["founder_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_business_signals: {
        Row: {
          founder_business_id: string
          id: string
          observed_at: string | null
          payload: Json | null
          signal_family: string
          signal_key: string
          source: string
          value_numeric: number | null
          value_text: string | null
        }
        Insert: {
          founder_business_id: string
          id?: string
          observed_at?: string | null
          payload?: Json | null
          signal_family: string
          signal_key: string
          source: string
          value_numeric?: number | null
          value_text?: string | null
        }
        Update: {
          founder_business_id?: string
          id?: string
          observed_at?: string | null
          payload?: Json | null
          signal_family?: string
          signal_key?: string
          source?: string
          value_numeric?: number | null
          value_text?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "founder_business_signals_founder_business_id_fkey"
            columns: ["founder_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_business_vault_secrets: {
        Row: {
          created_at: string | null
          founder_business_id: string
          id: string
          metadata: Json | null
          secret_label: string
          secret_payload: string
          secret_type: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          founder_business_id: string
          id?: string
          metadata?: Json | null
          secret_label: string
          secret_payload: string
          secret_type: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          founder_business_id?: string
          id?: string
          metadata?: Json | null
          secret_label?: string
          secret_payload?: string
          secret_type?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "founder_business_vault_secrets_founder_business_id_fkey"
            columns: ["founder_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_businesses: {
        Row: {
          code: string
          created_at: string | null
          description: string | null
          display_name: string
          id: string
          industry: string | null
          owner_user_id: string
          primary_domain: string | null
          region: string | null
          status: string | null
          updated_at: string | null
        }
        Insert: {
          code: string
          created_at?: string | null
          description?: string | null
          display_name: string
          id?: string
          industry?: string | null
          owner_user_id: string
          primary_domain?: string | null
          region?: string | null
          status?: string | null
          updated_at?: string | null
        }
        Update: {
          code?: string
          created_at?: string | null
          description?: string | null
          display_name?: string
          id?: string
          industry?: string | null
          owner_user_id?: string
          primary_domain?: string | null
          region?: string | null
          status?: string | null
          updated_at?: string | null
        }
        Relationships: []
      }
      founder_cognitive_snapshots: {
        Row: {
          confidence: number
          created_at: string
          id: string
          map: Json
          opportunity_clusters: Json
          risk_zones: Json
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          confidence?: number
          created_at?: string
          id?: string
          map: Json
          opportunity_clusters?: Json
          risk_zones?: Json
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number
          created_at?: string
          id?: string
          map?: Json
          opportunity_clusters?: Json
          risk_zones?: Json
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "founder_cognitive_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_decision_scenarios: {
        Row: {
          adopted_at: string | null
          adoption_notes: string | null
          created_at: string | null
          description: string | null
          founder_id: string
          id: string
          input_assumptions_json: Json
          name: string
          scenario_type: string | null
          simulated_outcomes_json: Json | null
          simulation_model_version: string | null
          status: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          adopted_at?: string | null
          adoption_notes?: string | null
          created_at?: string | null
          description?: string | null
          founder_id: string
          id?: string
          input_assumptions_json?: Json
          name: string
          scenario_type?: string | null
          simulated_outcomes_json?: Json | null
          simulation_model_version?: string | null
          status?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          adopted_at?: string | null
          adoption_notes?: string | null
          created_at?: string | null
          description?: string | null
          founder_id?: string
          id?: string
          input_assumptions_json?: Json
          name?: string
          scenario_type?: string | null
          simulated_outcomes_json?: Json | null
          simulation_model_version?: string | null
          status?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_decision_scenarios_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_email_intelligence: {
        Row: {
          action_items: Json | null
          ai_summary: string | null
          category: string | null
          created_at: string | null
          email_id: string | null
          extracted_amount: number | null
          extracted_client_id: string | null
          extracted_currency: string | null
          extracted_due_date: string | null
          extracted_invoice_number: string | null
          founder_id: string
          id: string
          key_points: Json | null
          message_id: string | null
          organization_id: string
          priority: string | null
          processed: boolean | null
          processed_at: string | null
          received_at: string | null
          sender: string
          sender_domain: string | null
          sentiment: string | null
          subject: string | null
          thread_id: string | null
        }
        Insert: {
          action_items?: Json | null
          ai_summary?: string | null
          category?: string | null
          created_at?: string | null
          email_id?: string | null
          extracted_amount?: number | null
          extracted_client_id?: string | null
          extracted_currency?: string | null
          extracted_due_date?: string | null
          extracted_invoice_number?: string | null
          founder_id: string
          id?: string
          key_points?: Json | null
          message_id?: string | null
          organization_id: string
          priority?: string | null
          processed?: boolean | null
          processed_at?: string | null
          received_at?: string | null
          sender: string
          sender_domain?: string | null
          sentiment?: string | null
          subject?: string | null
          thread_id?: string | null
        }
        Update: {
          action_items?: Json | null
          ai_summary?: string | null
          category?: string | null
          created_at?: string | null
          email_id?: string | null
          extracted_amount?: number | null
          extracted_client_id?: string | null
          extracted_currency?: string | null
          extracted_due_date?: string | null
          extracted_invoice_number?: string | null
          founder_id?: string
          id?: string
          key_points?: Json | null
          message_id?: string | null
          organization_id?: string
          priority?: string | null
          processed?: boolean | null
          processed_at?: string | null
          received_at?: string | null
          sender?: string
          sender_domain?: string | null
          sentiment?: string | null
          subject?: string | null
          thread_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "founder_email_intelligence_extracted_client_id_fkey"
            columns: ["extracted_client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "founder_email_intelligence_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_email_receipts: {
        Row: {
          amount: number | null
          attachment_urls: string[] | null
          category: string | null
          created_at: string | null
          currency: string | null
          due_date: string | null
          email_id: string | null
          extracted_data: Json | null
          id: string
          invoice_number: string | null
          is_processed: boolean | null
          received_at: string | null
          sender: string | null
          subject: string | null
          transaction_id: string | null
          vendor: string | null
        }
        Insert: {
          amount?: number | null
          attachment_urls?: string[] | null
          category?: string | null
          created_at?: string | null
          currency?: string | null
          due_date?: string | null
          email_id?: string | null
          extracted_data?: Json | null
          id?: string
          invoice_number?: string | null
          is_processed?: boolean | null
          received_at?: string | null
          sender?: string | null
          subject?: string | null
          transaction_id?: string | null
          vendor?: string | null
        }
        Update: {
          amount?: number | null
          attachment_urls?: string[] | null
          category?: string | null
          created_at?: string | null
          currency?: string | null
          due_date?: string | null
          email_id?: string | null
          extracted_data?: Json | null
          id?: string
          invoice_number?: string | null
          is_processed?: boolean | null
          received_at?: string | null
          sender?: string | null
          subject?: string | null
          transaction_id?: string | null
          vendor?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "founder_email_receipts_transaction_id_fkey"
            columns: ["transaction_id"]
            isOneToOne: false
            referencedRelation: "founder_financial_transactions"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_event_log: {
        Row: {
          actor: string
          brand_id: string | null
          created_at: string | null
          data: Json
          event: string
          id: string
          item_id: string | null
          severity: string
        }
        Insert: {
          actor: string
          brand_id?: string | null
          created_at?: string | null
          data: Json
          event: string
          id?: string
          item_id?: string | null
          severity?: string
        }
        Update: {
          actor?: string
          brand_id?: string | null
          created_at?: string | null
          data?: Json
          event?: string
          id?: string
          item_id?: string | null
          severity?: string
        }
        Relationships: [
          {
            foreignKeyName: "valid_brand_log"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brand_metadata"
            referencedColumns: ["brand_id"]
          },
        ]
      }
      founder_financial_accounts: {
        Row: {
          account_name: string
          account_type: string
          balance: number | null
          created_at: string | null
          currency: string | null
          id: string
          is_active: boolean | null
          last_synced_at: string | null
          metadata: Json | null
          updated_at: string | null
          xero_account_id: string | null
          xero_org_id: string | null
        }
        Insert: {
          account_name: string
          account_type: string
          balance?: number | null
          created_at?: string | null
          currency?: string | null
          id?: string
          is_active?: boolean | null
          last_synced_at?: string | null
          metadata?: Json | null
          updated_at?: string | null
          xero_account_id?: string | null
          xero_org_id?: string | null
        }
        Update: {
          account_name?: string
          account_type?: string
          balance?: number | null
          created_at?: string | null
          currency?: string | null
          id?: string
          is_active?: boolean | null
          last_synced_at?: string | null
          metadata?: Json | null
          updated_at?: string | null
          xero_account_id?: string | null
          xero_org_id?: string | null
        }
        Relationships: []
      }
      founder_financial_anomalies: {
        Row: {
          anomaly_type: string
          created_at: string | null
          description: string | null
          id: string
          is_resolved: boolean | null
          resolved_at: string | null
          severity: string | null
          suggested_action: string | null
          transaction_id: string | null
        }
        Insert: {
          anomaly_type: string
          created_at?: string | null
          description?: string | null
          id?: string
          is_resolved?: boolean | null
          resolved_at?: string | null
          severity?: string | null
          suggested_action?: string | null
          transaction_id?: string | null
        }
        Update: {
          anomaly_type?: string
          created_at?: string | null
          description?: string | null
          id?: string
          is_resolved?: boolean | null
          resolved_at?: string | null
          severity?: string | null
          suggested_action?: string | null
          transaction_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "founder_financial_anomalies_transaction_id_fkey"
            columns: ["transaction_id"]
            isOneToOne: false
            referencedRelation: "founder_financial_transactions"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_financial_extractions: {
        Row: {
          category: string | null
          client_name: string | null
          created_at: string | null
          currency: string | null
          document_date: string | null
          document_number: string | null
          document_type: string
          due_date: string | null
          file_url: string | null
          founder_id: string
          id: string
          line_items: Json | null
          organization_id: string
          source_id: string | null
          source_type: string
          subtotal: number | null
          synced_at: string | null
          synced_to_xero: boolean | null
          tags: Json | null
          tax_amount: number | null
          thumbnail_url: string | null
          total_amount: number
          updated_at: string | null
          vendor_name: string | null
          verified: boolean | null
          verified_at: string | null
          verified_by: string | null
          xero_id: string | null
        }
        Insert: {
          category?: string | null
          client_name?: string | null
          created_at?: string | null
          currency?: string | null
          document_date?: string | null
          document_number?: string | null
          document_type: string
          due_date?: string | null
          file_url?: string | null
          founder_id: string
          id?: string
          line_items?: Json | null
          organization_id: string
          source_id?: string | null
          source_type: string
          subtotal?: number | null
          synced_at?: string | null
          synced_to_xero?: boolean | null
          tags?: Json | null
          tax_amount?: number | null
          thumbnail_url?: string | null
          total_amount: number
          updated_at?: string | null
          vendor_name?: string | null
          verified?: boolean | null
          verified_at?: string | null
          verified_by?: string | null
          xero_id?: string | null
        }
        Update: {
          category?: string | null
          client_name?: string | null
          created_at?: string | null
          currency?: string | null
          document_date?: string | null
          document_number?: string | null
          document_type?: string
          due_date?: string | null
          file_url?: string | null
          founder_id?: string
          id?: string
          line_items?: Json | null
          organization_id?: string
          source_id?: string | null
          source_type?: string
          subtotal?: number | null
          synced_at?: string | null
          synced_to_xero?: boolean | null
          tags?: Json | null
          tax_amount?: number | null
          thumbnail_url?: string | null
          total_amount?: number
          updated_at?: string | null
          vendor_name?: string | null
          verified?: boolean | null
          verified_at?: string | null
          verified_by?: string | null
          xero_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "founder_financial_extractions_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_financial_forecasts: {
        Row: {
          assumptions: Json | null
          confidence_level: number | null
          created_at: string | null
          data_sources: string[] | null
          end_date: string
          forecast_type: string
          id: string
          period: string
          projection: Json
          scenario: string | null
          start_date: string
        }
        Insert: {
          assumptions?: Json | null
          confidence_level?: number | null
          created_at?: string | null
          data_sources?: string[] | null
          end_date: string
          forecast_type: string
          id?: string
          period: string
          projection?: Json
          scenario?: string | null
          start_date: string
        }
        Update: {
          assumptions?: Json | null
          confidence_level?: number | null
          created_at?: string | null
          data_sources?: string[] | null
          end_date?: string
          forecast_type?: string
          id?: string
          period?: string
          projection?: Json
          scenario?: string | null
          start_date?: string
        }
        Relationships: []
      }
      founder_financial_transactions: {
        Row: {
          account_id: string | null
          amount: number
          anomaly_reason: string | null
          category: string | null
          created_at: string | null
          date: string
          description: string
          id: string
          invoice_number: string | null
          is_anomaly: boolean | null
          is_duplicate: boolean | null
          is_reconciled: boolean | null
          metadata: Json | null
          source: string
          transaction_type: string
          vendor: string | null
          xero_transaction_id: string | null
        }
        Insert: {
          account_id?: string | null
          amount: number
          anomaly_reason?: string | null
          category?: string | null
          created_at?: string | null
          date: string
          description: string
          id?: string
          invoice_number?: string | null
          is_anomaly?: boolean | null
          is_duplicate?: boolean | null
          is_reconciled?: boolean | null
          metadata?: Json | null
          source: string
          transaction_type: string
          vendor?: string | null
          xero_transaction_id?: string | null
        }
        Update: {
          account_id?: string | null
          amount?: number
          anomaly_reason?: string | null
          category?: string | null
          created_at?: string | null
          date?: string
          description?: string
          id?: string
          invoice_number?: string | null
          is_anomaly?: boolean | null
          is_duplicate?: boolean | null
          is_reconciled?: boolean | null
          metadata?: Json | null
          source?: string
          transaction_type?: string
          vendor?: string | null
          xero_transaction_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "founder_financial_transactions_account_id_fkey"
            columns: ["account_id"]
            isOneToOne: false
            referencedRelation: "founder_financial_accounts"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_focus_areas: {
        Row: {
          category: string
          confidence: number | null
          created_at: string | null
          evidence_json: Json | null
          founder_id: string
          id: string
          label: string
          last_evaluated_at: string | null
          priority_score: number
          reason: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          category: string
          confidence?: number | null
          created_at?: string | null
          evidence_json?: Json | null
          founder_id: string
          id?: string
          label: string
          last_evaluated_at?: string | null
          priority_score?: number
          reason?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          category?: string
          confidence?: number | null
          created_at?: string | null
          evidence_json?: Json | null
          founder_id?: string
          id?: string
          label?: string
          last_evaluated_at?: string | null
          priority_score?: number
          reason?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_focus_areas_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_intel_alerts: {
        Row: {
          alert_type: string
          client_id: string | null
          created_at: string
          description_markdown: string
          id: string
          metadata: Json
          resolved_at: string | null
          resolved_by_user_id: string | null
          severity: string
          source_engine: string
          status: string
          title: string
        }
        Insert: {
          alert_type: string
          client_id?: string | null
          created_at?: string
          description_markdown: string
          id?: string
          metadata?: Json
          resolved_at?: string | null
          resolved_by_user_id?: string | null
          severity: string
          source_engine: string
          status?: string
          title: string
        }
        Update: {
          alert_type?: string
          client_id?: string | null
          created_at?: string
          description_markdown?: string
          id?: string
          metadata?: Json
          resolved_at?: string | null
          resolved_by_user_id?: string | null
          severity?: string
          source_engine?: string
          status?: string
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_intel_alerts_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_intel_preferences: {
        Row: {
          briefing_schedule: Json
          created_at: string
          id: string
          mute_rules: Json
          opportunity_preferences: Json
          risk_thresholds: Json
          updated_at: string
          user_id: string
        }
        Insert: {
          briefing_schedule?: Json
          created_at?: string
          id?: string
          mute_rules?: Json
          opportunity_preferences?: Json
          risk_thresholds?: Json
          updated_at?: string
          user_id: string
        }
        Update: {
          briefing_schedule?: Json
          created_at?: string
          id?: string
          mute_rules?: Json
          opportunity_preferences?: Json
          risk_thresholds?: Json
          updated_at?: string
          user_id?: string
        }
        Relationships: []
      }
      founder_intel_snapshots: {
        Row: {
          client_id: string | null
          confidence_score: number
          created_at: string
          created_by_user_id: string | null
          data_completeness_score: number
          id: string
          intelligence_json: Json
          opportunity_level: string
          risk_level: string
          scope: string
          summary_markdown: string
          tenant_id: string | null
          timeframe_end: string | null
          timeframe_start: string | null
          title: string
        }
        Insert: {
          client_id?: string | null
          confidence_score: number
          created_at?: string
          created_by_user_id?: string | null
          data_completeness_score: number
          id?: string
          intelligence_json?: Json
          opportunity_level: string
          risk_level: string
          scope: string
          summary_markdown: string
          tenant_id?: string | null
          timeframe_end?: string | null
          timeframe_start?: string | null
          title: string
        }
        Update: {
          client_id?: string | null
          confidence_score?: number
          created_at?: string
          created_by_user_id?: string | null
          data_completeness_score?: number
          id?: string
          intelligence_json?: Json
          opportunity_level?: string
          risk_level?: string
          scope?: string
          summary_markdown?: string
          tenant_id?: string | null
          timeframe_end?: string | null
          timeframe_start?: string | null
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_intel_snapshots_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "founder_intel_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_memory_nodes: {
        Row: {
          context_data: Json | null
          created_at: string | null
          entity_id: string
          founder_id: string
          id: string
          importance_score: number | null
          last_accessed: string | null
          node_type: string
          organization_id: string
          related_nodes: Json | null
          summary: string | null
          title: string
          updated_at: string | null
        }
        Insert: {
          context_data?: Json | null
          created_at?: string | null
          entity_id: string
          founder_id: string
          id?: string
          importance_score?: number | null
          last_accessed?: string | null
          node_type: string
          organization_id: string
          related_nodes?: Json | null
          summary?: string | null
          title: string
          updated_at?: string | null
        }
        Update: {
          context_data?: Json | null
          created_at?: string | null
          entity_id?: string
          founder_id?: string
          id?: string
          importance_score?: number | null
          last_accessed?: string | null
          node_type?: string
          organization_id?: string
          related_nodes?: Json | null
          summary?: string | null
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "founder_memory_nodes_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_memory_snapshots: {
        Row: {
          confidence_score: number | null
          created_at: string | null
          data_sources_included: string[] | null
          founder_id: string
          id: string
          snapshot_at: string
          summary_json: Json
          time_range_end: string
          time_range_start: string
          workspace_id: string
        }
        Insert: {
          confidence_score?: number | null
          created_at?: string | null
          data_sources_included?: string[] | null
          founder_id: string
          id?: string
          snapshot_at?: string
          summary_json?: Json
          time_range_end: string
          time_range_start: string
          workspace_id: string
        }
        Update: {
          confidence_score?: number | null
          created_at?: string | null
          data_sources_included?: string[] | null
          founder_id?: string
          id?: string
          snapshot_at?: string
          summary_json?: Json
          time_range_end?: string
          time_range_start?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_memory_snapshots_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_momentum_scores: {
        Row: {
          clients_score: number | null
          clients_trend: number | null
          created_at: string | null
          delivery_score: number | null
          delivery_trend: number | null
          engineering_score: number | null
          engineering_trend: number | null
          finance_score: number | null
          finance_trend: number | null
          founder_id: string
          id: string
          input_signals_json: Json | null
          marketing_score: number | null
          marketing_trend: number | null
          notes_json: Json | null
          overall_score: number | null
          period_end: string
          period_start: string
          product_score: number | null
          product_trend: number | null
          sales_score: number | null
          sales_trend: number | null
          workspace_id: string
        }
        Insert: {
          clients_score?: number | null
          clients_trend?: number | null
          created_at?: string | null
          delivery_score?: number | null
          delivery_trend?: number | null
          engineering_score?: number | null
          engineering_trend?: number | null
          finance_score?: number | null
          finance_trend?: number | null
          founder_id: string
          id?: string
          input_signals_json?: Json | null
          marketing_score?: number | null
          marketing_trend?: number | null
          notes_json?: Json | null
          overall_score?: number | null
          period_end: string
          period_start: string
          product_score?: number | null
          product_trend?: number | null
          sales_score?: number | null
          sales_trend?: number | null
          workspace_id: string
        }
        Update: {
          clients_score?: number | null
          clients_trend?: number | null
          created_at?: string | null
          delivery_score?: number | null
          delivery_trend?: number | null
          engineering_score?: number | null
          engineering_trend?: number | null
          finance_score?: number | null
          finance_trend?: number | null
          founder_id?: string
          id?: string
          input_signals_json?: Json | null
          marketing_score?: number | null
          marketing_trend?: number | null
          notes_json?: Json | null
          overall_score?: number | null
          period_end?: string
          period_start?: string
          product_score?: number | null
          product_trend?: number | null
          sales_score?: number | null
          sales_trend?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_momentum_scores_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_next_actions: {
        Row: {
          action_description: string | null
          action_title: string
          category: string
          completed_at: string | null
          context_json: Json | null
          created_at: string | null
          expires_at: string | null
          founder_id: string
          generated_at: string | null
          id: string
          priority_score: number
          related_entity_id: string | null
          related_entity_type: string | null
          status: string | null
          updated_at: string | null
          urgency: string | null
          workspace_id: string
        }
        Insert: {
          action_description?: string | null
          action_title: string
          category: string
          completed_at?: string | null
          context_json?: Json | null
          created_at?: string | null
          expires_at?: string | null
          founder_id: string
          generated_at?: string | null
          id?: string
          priority_score?: number
          related_entity_id?: string | null
          related_entity_type?: string | null
          status?: string | null
          updated_at?: string | null
          urgency?: string | null
          workspace_id: string
        }
        Update: {
          action_description?: string | null
          action_title?: string
          category?: string
          completed_at?: string | null
          context_json?: Json | null
          created_at?: string | null
          expires_at?: string | null
          founder_id?: string
          generated_at?: string | null
          id?: string
          priority_score?: number
          related_entity_id?: string | null
          related_entity_type?: string | null
          status?: string | null
          updated_at?: string | null
          urgency?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_next_actions_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_opportunity_backlog: {
        Row: {
          category: string | null
          created_at: string | null
          description: string | null
          effort_score: number | null
          estimated_value_score: number | null
          founder_id: string
          id: string
          notes: string | null
          priority_rank: number | null
          related_client_id: string | null
          related_pre_client_id: string | null
          source_id: string | null
          source_type: string
          status: string | null
          tags: string[] | null
          time_horizon_weeks: number | null
          title: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          category?: string | null
          created_at?: string | null
          description?: string | null
          effort_score?: number | null
          estimated_value_score?: number | null
          founder_id: string
          id?: string
          notes?: string | null
          priority_rank?: number | null
          related_client_id?: string | null
          related_pre_client_id?: string | null
          source_id?: string | null
          source_type: string
          status?: string | null
          tags?: string[] | null
          time_horizon_weeks?: number | null
          title: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          category?: string | null
          created_at?: string | null
          description?: string | null
          effort_score?: number | null
          estimated_value_score?: number | null
          founder_id?: string
          id?: string
          notes?: string | null
          priority_rank?: number | null
          related_client_id?: string | null
          related_pre_client_id?: string | null
          source_id?: string | null
          source_type?: string
          status?: string | null
          tags?: string[] | null
          time_horizon_weeks?: number | null
          title?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_opportunity_backlog_related_client_id_fkey"
            columns: ["related_client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "founder_opportunity_backlog_related_pre_client_id_fkey"
            columns: ["related_pre_client_id"]
            isOneToOne: false
            referencedRelation: "pre_clients"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "founder_opportunity_backlog_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_optimization_actions: {
        Row: {
          action: string
          created_at: string | null
          decided_at: string | null
          details: Json | null
          id: string
          reason: string | null
          target_id: string | null
          target_type: string | null
        }
        Insert: {
          action: string
          created_at?: string | null
          decided_at?: string | null
          details?: Json | null
          id?: string
          reason?: string | null
          target_id?: string | null
          target_type?: string | null
        }
        Update: {
          action?: string
          created_at?: string | null
          decided_at?: string | null
          details?: Json | null
          id?: string
          reason?: string | null
          target_id?: string | null
          target_type?: string | null
        }
        Relationships: []
      }
      founder_os_snapshots: {
        Row: {
          created_at: string | null
          id: string
          owner_user_id: string
          scope: string
          scope_id: string | null
          score: number | null
          snapshot_type: string
          summary: Json
        }
        Insert: {
          created_at?: string | null
          id?: string
          owner_user_id: string
          scope: string
          scope_id?: string | null
          score?: number | null
          snapshot_type: string
          summary: Json
        }
        Update: {
          created_at?: string | null
          id?: string
          owner_user_id?: string
          scope?: string
          scope_id?: string | null
          score?: number | null
          snapshot_type?: string
          summary?: Json
        }
        Relationships: []
      }
      founder_overrides: {
        Row: {
          approval_id: string
          created_at: string | null
          decision: string
          id: string
          metadata: Json | null
          override_type: string
          reason: string
        }
        Insert: {
          approval_id: string
          created_at?: string | null
          decision: string
          id?: string
          metadata?: Json | null
          override_type: string
          reason: string
        }
        Update: {
          approval_id?: string
          created_at?: string | null
          decision?: string
          id?: string
          metadata?: Json | null
          override_type?: string
          reason?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_overrides_approval_id_fkey"
            columns: ["approval_id"]
            isOneToOne: false
            referencedRelation: "founder_approvals"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_risk_register: {
        Row: {
          category: string | null
          created_at: string | null
          description: string | null
          detected_at: string | null
          due_date: string | null
          founder_id: string
          id: string
          impact_score: number
          likelihood_score: number
          mitigation_plan: string | null
          mitigation_status: string | null
          owner_user_id: string | null
          related_client_id: string | null
          related_pre_client_id: string | null
          resolved_at: string | null
          risk_score: number | null
          source_id: string | null
          source_type: string
          title: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          category?: string | null
          created_at?: string | null
          description?: string | null
          detected_at?: string | null
          due_date?: string | null
          founder_id: string
          id?: string
          impact_score?: number
          likelihood_score?: number
          mitigation_plan?: string | null
          mitigation_status?: string | null
          owner_user_id?: string | null
          related_client_id?: string | null
          related_pre_client_id?: string | null
          resolved_at?: string | null
          risk_score?: number | null
          source_id?: string | null
          source_type: string
          title: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          category?: string | null
          created_at?: string | null
          description?: string | null
          detected_at?: string | null
          due_date?: string | null
          founder_id?: string
          id?: string
          impact_score?: number
          likelihood_score?: number
          mitigation_plan?: string | null
          mitigation_status?: string | null
          owner_user_id?: string | null
          related_client_id?: string | null
          related_pre_client_id?: string | null
          resolved_at?: string | null
          risk_score?: number | null
          source_id?: string | null
          source_type?: string
          title?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_risk_register_related_client_id_fkey"
            columns: ["related_client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "founder_risk_register_related_pre_client_id_fkey"
            columns: ["related_pre_client_id"]
            isOneToOne: false
            referencedRelation: "pre_clients"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "founder_risk_register_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_staff_insights: {
        Row: {
          ai_insights: Json | null
          client_interactions: number | null
          content_generated: number | null
          created_at: string | null
          engagement_score: number | null
          founder_id: string
          hours_logged: number | null
          id: string
          organization_id: string
          period_end: string
          period_start: string
          productivity_score: number | null
          staff_id: string
          tasks_completed: number | null
          tasks_in_progress: number | null
        }
        Insert: {
          ai_insights?: Json | null
          client_interactions?: number | null
          content_generated?: number | null
          created_at?: string | null
          engagement_score?: number | null
          founder_id: string
          hours_logged?: number | null
          id?: string
          organization_id: string
          period_end: string
          period_start: string
          productivity_score?: number | null
          staff_id: string
          tasks_completed?: number | null
          tasks_in_progress?: number | null
        }
        Update: {
          ai_insights?: Json | null
          client_interactions?: number | null
          content_generated?: number | null
          created_at?: string | null
          engagement_score?: number | null
          founder_id?: string
          hours_logged?: number | null
          id?: string
          organization_id?: string
          period_end?: string
          period_start?: string
          productivity_score?: number | null
          staff_id?: string
          tasks_completed?: number | null
          tasks_in_progress?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "founder_staff_insights_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_time_entries: {
        Row: {
          category: string
          created_at: string | null
          duration_minutes: number | null
          end_time: string | null
          id: string
          is_running: boolean | null
          notes: string | null
          start_time: string
          updated_at: string | null
        }
        Insert: {
          category: string
          created_at?: string | null
          duration_minutes?: number | null
          end_time?: string | null
          id?: string
          is_running?: boolean | null
          notes?: string | null
          start_time: string
          updated_at?: string | null
        }
        Update: {
          category?: string
          created_at?: string | null
          duration_minutes?: number | null
          end_time?: string | null
          id?: string
          is_running?: boolean | null
          notes?: string | null
          start_time?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      founder_voice_commands: {
        Row: {
          command_text: string
          command_type: string
          context_data: Json | null
          created_at: string | null
          error_message: string | null
          executed: boolean | null
          executed_at: string | null
          execution_result: Json | null
          founder_id: string
          id: string
          organization_id: string
        }
        Insert: {
          command_text: string
          command_type: string
          context_data?: Json | null
          created_at?: string | null
          error_message?: string | null
          executed?: boolean | null
          executed_at?: string | null
          execution_result?: Json | null
          founder_id: string
          id?: string
          organization_id: string
        }
        Update: {
          command_text?: string
          command_type?: string
          context_data?: Json | null
          created_at?: string | null
          error_message?: string | null
          executed?: boolean | null
          executed_at?: string | null
          execution_result?: Json | null
          founder_id?: string
          id?: string
          organization_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_voice_commands_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      founder_weekly_digests: {
        Row: {
          created_at: string | null
          delivered_at: string | null
          delivery_method: string | null
          focus_recommendations_json: Json | null
          founder_id: string
          headline_summary: string
          id: string
          key_metrics_json: Json | null
          momentum_snapshot_json: Json | null
          opportunities_json: Json | null
          patterns_detected_json: Json | null
          read_at: string | null
          risks_json: Json | null
          week_end: string
          week_start: string
          wins_json: Json | null
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          delivered_at?: string | null
          delivery_method?: string | null
          focus_recommendations_json?: Json | null
          founder_id: string
          headline_summary: string
          id?: string
          key_metrics_json?: Json | null
          momentum_snapshot_json?: Json | null
          opportunities_json?: Json | null
          patterns_detected_json?: Json | null
          read_at?: string | null
          risks_json?: Json | null
          week_end: string
          week_start: string
          wins_json?: Json | null
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          delivered_at?: string | null
          delivery_method?: string | null
          focus_recommendations_json?: Json | null
          founder_id?: string
          headline_summary?: string
          id?: string
          key_metrics_json?: Json | null
          momentum_snapshot_json?: Json | null
          opportunities_json?: Json | null
          patterns_detected_json?: Json | null
          read_at?: string | null
          risks_json?: Json | null
          week_end?: string
          week_start?: string
          wins_json?: Json | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "founder_weekly_digests_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      franchise_metrics: {
        Row: {
          active_clients: number
          agency_id: string
          avg_campaign_performance: number | null
          avg_client_health: number | null
          churned_clients: number
          created_at: string
          gross_revenue: number
          id: string
          metadata: Json
          mrr: number
          net_revenue: number
          new_clients: number
          period_end: string
          period_start: string
          total_clients: number
          total_engagements: number
          total_posts: number
        }
        Insert: {
          active_clients?: number
          agency_id: string
          avg_campaign_performance?: number | null
          avg_client_health?: number | null
          churned_clients?: number
          created_at?: string
          gross_revenue?: number
          id?: string
          metadata?: Json
          mrr?: number
          net_revenue?: number
          new_clients?: number
          period_end: string
          period_start: string
          total_clients?: number
          total_engagements?: number
          total_posts?: number
        }
        Update: {
          active_clients?: number
          agency_id?: string
          avg_campaign_performance?: number | null
          avg_client_health?: number | null
          churned_clients?: number
          created_at?: string
          gross_revenue?: number
          id?: string
          metadata?: Json
          mrr?: number
          net_revenue?: number
          new_clients?: number
          period_end?: string
          period_start?: string
          total_clients?: number
          total_engagements?: number
          total_posts?: number
        }
        Relationships: [
          {
            foreignKeyName: "franchise_metrics_agency_id_fkey"
            columns: ["agency_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      franchise_opportunity_windows: {
        Row: {
          confidence: number
          created_at: string
          id: string
          opportunity_payload: Json
          parent_agency_id: string
          propagated_at: string | null
          scope: string
          target_agencies: Json
          target_regions: Json
          uncertainty_notes: string | null
        }
        Insert: {
          confidence: number
          created_at?: string
          id?: string
          opportunity_payload: Json
          parent_agency_id: string
          propagated_at?: string | null
          scope: string
          target_agencies?: Json
          target_regions?: Json
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number
          created_at?: string
          id?: string
          opportunity_payload?: Json
          parent_agency_id?: string
          propagated_at?: string | null
          scope?: string
          target_agencies?: Json
          target_regions?: Json
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "franchise_opportunity_windows_parent_agency_id_fkey"
            columns: ["parent_agency_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      franchise_regions: {
        Row: {
          created_at: string | null
          franchise_id: string
          id: string
          locked: boolean
          postal_codes: Json | null
          territory_name: string
        }
        Insert: {
          created_at?: string | null
          franchise_id: string
          id?: string
          locked?: boolean
          postal_codes?: Json | null
          territory_name: string
        }
        Update: {
          created_at?: string | null
          franchise_id?: string
          id?: string
          locked?: boolean
          postal_codes?: Json | null
          territory_name?: string
        }
        Relationships: [
          {
            foreignKeyName: "franchise_regions_franchise_fk"
            columns: ["franchise_id"]
            isOneToOne: false
            referencedRelation: "franchises"
            referencedColumns: ["id"]
          },
        ]
      }
      franchise_revenue_shares: {
        Row: {
          created_at: string | null
          effective_date: string
          franchise_id: string
          id: string
          percentage: number
          rules: Json | null
        }
        Insert: {
          created_at?: string | null
          effective_date: string
          franchise_id: string
          id?: string
          percentage: number
          rules?: Json | null
        }
        Update: {
          created_at?: string | null
          effective_date?: string
          franchise_id?: string
          id?: string
          percentage?: number
          rules?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "franchise_revenue_shares_franchise_fk"
            columns: ["franchise_id"]
            isOneToOne: false
            referencedRelation: "franchises"
            referencedColumns: ["id"]
          },
        ]
      }
      franchise_tiers: {
        Row: {
          ai_budget_monthly: number
          created_at: string
          description: string | null
          features: Json
          id: number
          max_clients: number
          max_sub_agencies: number
          max_users: number
          metadata: Json
          monthly_fee: number
          name: string
          posting_rate_limit_hour: number
          revenue_share_percent: number
        }
        Insert: {
          ai_budget_monthly?: number
          created_at?: string
          description?: string | null
          features?: Json
          id?: number
          max_clients?: number
          max_sub_agencies?: number
          max_users?: number
          metadata?: Json
          monthly_fee?: number
          name: string
          posting_rate_limit_hour?: number
          revenue_share_percent?: number
        }
        Update: {
          ai_budget_monthly?: number
          created_at?: string
          description?: string | null
          features?: Json
          id?: number
          max_clients?: number
          max_sub_agencies?: number
          max_users?: number
          metadata?: Json
          monthly_fee?: number
          name?: string
          posting_rate_limit_hour?: number
          revenue_share_percent?: number
        }
        Relationships: []
      }
      franchises: {
        Row: {
          created_at: string | null
          id: string
          name: string
          org_id: string
          owner_user_id: string
          status: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          name: string
          org_id: string
          owner_user_id: string
          status?: string
        }
        Update: {
          created_at?: string | null
          id?: string
          name?: string
          org_id?: string
          owner_user_id?: string
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "franchises_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      generated_content: {
        Row: {
          ai_model: string | null
          ai_prompt: string | null
          contact_id: string | null
          content_type: string | null
          created_at: string | null
          cta: string | null
          full_content: Json | null
          generated_text: string | null
          id: string
          industry_context: Json | null
          key_talking_points: string[] | null
          personalization_score: number | null
          role_context: Json | null
          social_proof: string[] | null
          status: string | null
          subject_lines: string[] | null
          title: string | null
          tone: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          ai_model?: string | null
          ai_prompt?: string | null
          contact_id?: string | null
          content_type?: string | null
          created_at?: string | null
          cta?: string | null
          full_content?: Json | null
          generated_text?: string | null
          id?: string
          industry_context?: Json | null
          key_talking_points?: string[] | null
          personalization_score?: number | null
          role_context?: Json | null
          social_proof?: string[] | null
          status?: string | null
          subject_lines?: string[] | null
          title?: string | null
          tone?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          ai_model?: string | null
          ai_prompt?: string | null
          contact_id?: string | null
          content_type?: string | null
          created_at?: string | null
          cta?: string | null
          full_content?: Json | null
          generated_text?: string | null
          id?: string
          industry_context?: Json | null
          key_talking_points?: string[] | null
          personalization_score?: number | null
          role_context?: Json | null
          social_proof?: string[] | null
          status?: string | null
          subject_lines?: string[] | null
          title?: string | null
          tone?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "generated_content_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "generated_content_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      generated_images: {
        Row: {
          additional_params: Json | null
          brand_colors: string[] | null
          calendar_post_id: string | null
          contact_id: string | null
          created_at: string | null
          error_message: string | null
          generation_cost: number | null
          id: string
          image_url: string
          model: string | null
          parent_image_id: string | null
          prompt: string
          provider: string | null
          quality: string | null
          revision_number: number | null
          size: string | null
          status: string | null
          style: string | null
          thumbnail_url: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          additional_params?: Json | null
          brand_colors?: string[] | null
          calendar_post_id?: string | null
          contact_id?: string | null
          created_at?: string | null
          error_message?: string | null
          generation_cost?: number | null
          id?: string
          image_url: string
          model?: string | null
          parent_image_id?: string | null
          prompt: string
          provider?: string | null
          quality?: string | null
          revision_number?: number | null
          size?: string | null
          status?: string | null
          style?: string | null
          thumbnail_url?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          additional_params?: Json | null
          brand_colors?: string[] | null
          calendar_post_id?: string | null
          contact_id?: string | null
          created_at?: string | null
          error_message?: string | null
          generation_cost?: number | null
          id?: string
          image_url?: string
          model?: string | null
          parent_image_id?: string | null
          prompt?: string
          provider?: string | null
          quality?: string | null
          revision_number?: number | null
          size?: string | null
          status?: string | null
          style?: string | null
          thumbnail_url?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "generated_images_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "generated_images_parent_image_id_fkey"
            columns: ["parent_image_id"]
            isOneToOne: false
            referencedRelation: "generated_images"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "generated_images_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      generated_schemas: {
        Row: {
          approved_at: string | null
          created_at: string
          deployed_at: string | null
          founder_business_id: string | null
          id: string
          is_deployed: boolean | null
          schema_body: Json | null
          schema_json: Json
          schema_type: string
          status: string | null
          template_id: string | null
          updated_at: string
          url: string
          validation_errors: Json | null
          validation_status: string | null
          validation_warnings: Json | null
          workspace_id: string
        }
        Insert: {
          approved_at?: string | null
          created_at?: string
          deployed_at?: string | null
          founder_business_id?: string | null
          id?: string
          is_deployed?: boolean | null
          schema_body?: Json | null
          schema_json: Json
          schema_type: string
          status?: string | null
          template_id?: string | null
          updated_at?: string
          url: string
          validation_errors?: Json | null
          validation_status?: string | null
          validation_warnings?: Json | null
          workspace_id: string
        }
        Update: {
          approved_at?: string | null
          created_at?: string
          deployed_at?: string | null
          founder_business_id?: string | null
          id?: string
          is_deployed?: boolean | null
          schema_body?: Json | null
          schema_json?: Json
          schema_type?: string
          status?: string | null
          template_id?: string | null
          updated_at?: string
          url?: string
          validation_errors?: Json | null
          validation_status?: string | null
          validation_warnings?: Json | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "generated_schemas_template_id_fkey"
            columns: ["template_id"]
            isOneToOne: false
            referencedRelation: "schema_templates"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "generated_schemas_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      global_autonomy_events: {
        Row: {
          agent: string | null
          created_at: string
          event_type: string
          id: string
          payload: Json | null
          run_id: string
          severity: number | null
          source_id: string | null
          source_type: string | null
        }
        Insert: {
          agent?: string | null
          created_at?: string
          event_type: string
          id?: string
          payload?: Json | null
          run_id: string
          severity?: number | null
          source_id?: string | null
          source_type?: string | null
        }
        Update: {
          agent?: string | null
          created_at?: string
          event_type?: string
          id?: string
          payload?: Json | null
          run_id?: string
          severity?: number | null
          source_id?: string | null
          source_type?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "global_autonomy_events_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "global_autonomy_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      global_autonomy_links: {
        Row: {
          agent: string
          confidence: number | null
          created_at: string
          id: string
          link_type: string
          memory_id: string | null
          orchestrator_step_id: string | null
          reasoning_run_id: string | null
          run_id: string
        }
        Insert: {
          agent: string
          confidence?: number | null
          created_at?: string
          id?: string
          link_type: string
          memory_id?: string | null
          orchestrator_step_id?: string | null
          reasoning_run_id?: string | null
          run_id: string
        }
        Update: {
          agent?: string
          confidence?: number | null
          created_at?: string
          id?: string
          link_type?: string
          memory_id?: string | null
          orchestrator_step_id?: string | null
          reasoning_run_id?: string | null
          run_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "global_autonomy_links_memory_id_fkey"
            columns: ["memory_id"]
            isOneToOne: false
            referencedRelation: "ai_memory"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "global_autonomy_links_orchestrator_step_id_fkey"
            columns: ["orchestrator_step_id"]
            isOneToOne: false
            referencedRelation: "orchestrator_steps"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "global_autonomy_links_reasoning_run_id_fkey"
            columns: ["reasoning_run_id"]
            isOneToOne: false
            referencedRelation: "reasoning_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "global_autonomy_links_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "global_autonomy_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      global_autonomy_runs: {
        Row: {
          active_agents: string[] | null
          autonomy_score: number | null
          completed_at: string | null
          completed_steps: number | null
          confidence_score: number | null
          consistency_score: number | null
          created_at: string
          created_by: string | null
          description: string | null
          failed_steps: number | null
          global_context: Json | null
          id: string
          objective: string
          paused_at: string | null
          readiness_score: number | null
          risk_score: number | null
          started_at: string | null
          status: string
          total_steps: number | null
          uncertainty_score: number | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          active_agents?: string[] | null
          autonomy_score?: number | null
          completed_at?: string | null
          completed_steps?: number | null
          confidence_score?: number | null
          consistency_score?: number | null
          created_at?: string
          created_by?: string | null
          description?: string | null
          failed_steps?: number | null
          global_context?: Json | null
          id?: string
          objective: string
          paused_at?: string | null
          readiness_score?: number | null
          risk_score?: number | null
          started_at?: string | null
          status?: string
          total_steps?: number | null
          uncertainty_score?: number | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          active_agents?: string[] | null
          autonomy_score?: number | null
          completed_at?: string | null
          completed_steps?: number | null
          confidence_score?: number | null
          consistency_score?: number | null
          created_at?: string
          created_by?: string | null
          description?: string | null
          failed_steps?: number | null
          global_context?: Json | null
          id?: string
          objective?: string
          paused_at?: string | null
          readiness_score?: number | null
          risk_score?: number | null
          started_at?: string | null
          status?: string
          total_steps?: number | null
          uncertainty_score?: number | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "global_autonomy_runs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      global_governance_charter: {
        Row: {
          activated_at: string | null
          autonomy_rules: Json
          charter_document: Json
          created_at: string
          created_by: string
          cross_tenant_rules: Json
          emergency_stop_conditions: Json
          id: string
          is_active: boolean | null
          version: string
        }
        Insert: {
          activated_at?: string | null
          autonomy_rules: Json
          charter_document: Json
          created_at?: string
          created_by: string
          cross_tenant_rules: Json
          emergency_stop_conditions: Json
          id?: string
          is_active?: boolean | null
          version: string
        }
        Update: {
          activated_at?: string | null
          autonomy_rules?: Json
          charter_document?: Json
          created_at?: string
          created_by?: string
          cross_tenant_rules?: Json
          emergency_stop_conditions?: Json
          id?: string
          is_active?: boolean | null
          version?: string
        }
        Relationships: []
      }
      global_insights: {
        Row: {
          action_items: string[] | null
          confidence: number
          created_at: string | null
          details: string
          id: string
          severity: string
          source_agents: string[]
          summary: string
          theme: string
          timeframe: string
        }
        Insert: {
          action_items?: string[] | null
          confidence: number
          created_at?: string | null
          details: string
          id?: string
          severity: string
          source_agents: string[]
          summary: string
          theme: string
          timeframe: string
        }
        Update: {
          action_items?: string[] | null
          confidence?: number
          created_at?: string | null
          details?: string
          id?: string
          severity?: string
          source_agents?: string[]
          summary?: string
          theme?: string
          timeframe?: string
        }
        Relationships: []
      }
      global_learning_snapshots: {
        Row: {
          benchmark_count: number
          cohort_count: number
          confidence: number
          created_at: string
          id: string
          pattern_count: number
          run_id: string | null
          snapshot_data: Json
          uncertainty_notes: string | null
        }
        Insert: {
          benchmark_count: number
          cohort_count: number
          confidence: number
          created_at?: string
          id?: string
          pattern_count: number
          run_id?: string | null
          snapshot_data: Json
          uncertainty_notes?: string | null
        }
        Update: {
          benchmark_count?: number
          cohort_count?: number
          confidence?: number
          created_at?: string
          id?: string
          pattern_count?: number
          run_id?: string | null
          snapshot_data?: Json
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "global_learning_snapshots_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "learning_loop_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      global_pattern_catalog: {
        Row: {
          anonymised_context: Json
          category: string
          confidence: number
          created_at: string
          description: string
          id: string
          is_published: boolean | null
          pattern_hash: string
          similarity_tags: Json | null
          submission_count: number
          uncertainty_notes: string | null
          updated_at: string
        }
        Insert: {
          anonymised_context: Json
          category: string
          confidence: number
          created_at?: string
          description: string
          id?: string
          is_published?: boolean | null
          pattern_hash: string
          similarity_tags?: Json | null
          submission_count?: number
          uncertainty_notes?: string | null
          updated_at?: string
        }
        Update: {
          anonymised_context?: Json
          category?: string
          confidence?: number
          created_at?: string
          description?: string
          id?: string
          is_published?: boolean | null
          pattern_hash?: string
          similarity_tags?: Json | null
          submission_count?: number
          uncertainty_notes?: string | null
          updated_at?: string
        }
        Relationships: []
      }
      global_settings: {
        Row: {
          environment: string
          id: string
          key: string
          updated_at: string | null
          updated_by: string | null
          value: Json
        }
        Insert: {
          environment?: string
          id?: string
          key: string
          updated_at?: string | null
          updated_by?: string | null
          value: Json
        }
        Update: {
          environment?: string
          id?: string
          key?: string
          updated_at?: string | null
          updated_by?: string | null
          value?: Json
        }
        Relationships: []
      }
      governance_audit: {
        Row: {
          action: string
          agent_id: string
          created_at: string | null
          decision_id: string
          founder_override: Json | null
          id: string
          notes: string | null
          policy_id: string
          violations: Json | null
        }
        Insert: {
          action: string
          agent_id: string
          created_at?: string | null
          decision_id: string
          founder_override?: Json | null
          id?: string
          notes?: string | null
          policy_id: string
          violations?: Json | null
        }
        Update: {
          action?: string
          agent_id?: string
          created_at?: string | null
          decision_id?: string
          founder_override?: Json | null
          id?: string
          notes?: string | null
          policy_id?: string
          violations?: Json | null
        }
        Relationships: []
      }
      governance_change_logs: {
        Row: {
          change_type: string
          changed_by: string
          created_at: string
          id: string
          new_value: Json | null
          previous_value: Json | null
          reason: string | null
          tenant_id: string | null
        }
        Insert: {
          change_type: string
          changed_by: string
          created_at?: string
          id?: string
          new_value?: Json | null
          previous_value?: Json | null
          reason?: string | null
          tenant_id?: string | null
        }
        Update: {
          change_type?: string
          changed_by?: string
          created_at?: string
          id?: string
          new_value?: Json | null
          previous_value?: Json | null
          reason?: string | null
          tenant_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "governance_change_logs_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      governance_events: {
        Row: {
          details: Json | null
          engine: string
          event_type: string
          id: string
          occurred_at: string | null
          severity: string
        }
        Insert: {
          details?: Json | null
          engine: string
          event_type: string
          id?: string
          occurred_at?: string | null
          severity?: string
        }
        Update: {
          details?: Json | null
          engine?: string
          event_type?: string
          id?: string
          occurred_at?: string | null
          severity?: string
        }
        Relationships: []
      }
      governance_policies: {
        Row: {
          approved_at: string | null
          approved_by: string | null
          constraints: Json
          created_at: string | null
          description: string | null
          enabled: boolean | null
          id: string
          name: string
          requires_founder_approval: boolean | null
          risk_level: string
          updated_at: string | null
        }
        Insert: {
          approved_at?: string | null
          approved_by?: string | null
          constraints: Json
          created_at?: string | null
          description?: string | null
          enabled?: boolean | null
          id?: string
          name: string
          requires_founder_approval?: boolean | null
          risk_level: string
          updated_at?: string | null
        }
        Update: {
          approved_at?: string | null
          approved_by?: string | null
          constraints?: Json
          created_at?: string | null
          description?: string | null
          enabled?: boolean | null
          id?: string
          name?: string
          requires_founder_approval?: boolean | null
          risk_level?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      governance_profiles: {
        Row: {
          automation_level: string
          created_at: string
          description: string | null
          evolution_aggressiveness: string
          id: string
          is_active: boolean | null
          name: string
          safety_threshold: number
          tenant_id: string | null
          truth_layer_strictness: string
          updated_at: string
        }
        Insert: {
          automation_level?: string
          created_at?: string
          description?: string | null
          evolution_aggressiveness?: string
          id?: string
          is_active?: boolean | null
          name: string
          safety_threshold?: number
          tenant_id?: string | null
          truth_layer_strictness?: string
          updated_at?: string
        }
        Update: {
          automation_level?: string
          created_at?: string
          description?: string | null
          evolution_aggressiveness?: string
          id?: string
          is_active?: boolean | null
          name?: string
          safety_threshold?: number
          tenant_id?: string | null
          truth_layer_strictness?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "governance_profiles_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      governance_reports: {
        Row: {
          generated_at: string | null
          id: string
          recommendations: Json | null
          report_period: string
          risk_score: number
          summary: Json
        }
        Insert: {
          generated_at?: string | null
          id?: string
          recommendations?: Json | null
          report_period: string
          risk_score?: number
          summary: Json
        }
        Update: {
          generated_at?: string | null
          id?: string
          recommendations?: Json | null
          report_period?: string
          risk_score?: number
          summary?: Json
        }
        Relationships: []
      }
      grh_frameworks: {
        Row: {
          created_at: string | null
          framework: string
          id: string
          mapped_internal_control: string | null
          region: string
          requirement: string
          severity: string
        }
        Insert: {
          created_at?: string | null
          framework: string
          id?: string
          mapped_internal_control?: string | null
          region: string
          requirement: string
          severity?: string
        }
        Update: {
          created_at?: string | null
          framework?: string
          id?: string
          mapped_internal_control?: string | null
          region?: string
          requirement?: string
          severity?: string
        }
        Relationships: []
      }
      grh_global_posture: {
        Row: {
          compliance_score: number
          framework: string
          id: string
          last_evaluated: string | null
          region: string
          risk_factors: Json | null
          tenant_id: string
        }
        Insert: {
          compliance_score?: number
          framework: string
          id?: string
          last_evaluated?: string | null
          region: string
          risk_factors?: Json | null
          tenant_id: string
        }
        Update: {
          compliance_score?: number
          framework?: string
          id?: string
          last_evaluated?: string | null
          region?: string
          risk_factors?: Json | null
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "grh_global_posture_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      grh_region_policies: {
        Row: {
          created_at: string | null
          effective_date: string
          generated_from_frameworks: Json | null
          id: string
          policy_body: Json | null
          policy_type: string
          region: string
          tenant_id: string
        }
        Insert: {
          created_at?: string | null
          effective_date: string
          generated_from_frameworks?: Json | null
          id?: string
          policy_body?: Json | null
          policy_type: string
          region: string
          tenant_id: string
        }
        Update: {
          created_at?: string | null
          effective_date?: string
          generated_from_frameworks?: Json | null
          id?: string
          policy_body?: Json | null
          policy_type?: string
          region?: string
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "grh_region_policies_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      gsite_pages: {
        Row: {
          created_at: string | null
          deployment_id: string | null
          edit_url: string | null
          embedded_urls: string[] | null
          external_page_id: string | null
          external_site_id: string | null
          id: string
          metadata: Json | null
          org_id: string
          page_title: string
          page_url: string | null
          seed: number | null
          site_name: string
          site_url: string | null
          status: string | null
          updated_at: string | null
          variant_index: number | null
          wrapper_content: string | null
        }
        Insert: {
          created_at?: string | null
          deployment_id?: string | null
          edit_url?: string | null
          embedded_urls?: string[] | null
          external_page_id?: string | null
          external_site_id?: string | null
          id?: string
          metadata?: Json | null
          org_id: string
          page_title: string
          page_url?: string | null
          seed?: number | null
          site_name: string
          site_url?: string | null
          status?: string | null
          updated_at?: string | null
          variant_index?: number | null
          wrapper_content?: string | null
        }
        Update: {
          created_at?: string | null
          deployment_id?: string | null
          edit_url?: string | null
          embedded_urls?: string[] | null
          external_page_id?: string | null
          external_site_id?: string | null
          id?: string
          metadata?: Json | null
          org_id?: string
          page_title?: string
          page_url?: string | null
          seed?: number | null
          site_name?: string
          site_url?: string | null
          status?: string | null
          updated_at?: string | null
          variant_index?: number | null
          wrapper_content?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "gsite_pages_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      gslpie_performance_history: {
        Row: {
          captured_at: string | null
          error_rate: number
          id: string
          latency_ms: number
          region: string
          snapshot_period: string
          throughput: number
          uptime: number
        }
        Insert: {
          captured_at?: string | null
          error_rate?: number
          id?: string
          latency_ms: number
          region: string
          snapshot_period: string
          throughput?: number
          uptime?: number
        }
        Update: {
          captured_at?: string | null
          error_rate?: number
          id?: string
          latency_ms?: number
          region?: string
          snapshot_period?: string
          throughput?: number
          uptime?: number
        }
        Relationships: []
      }
      gslpie_region_metrics: {
        Row: {
          captured_at: string | null
          error_rate: number
          id: string
          latency_ms: number
          region: string
          signal_source: string
          throughput: number
        }
        Insert: {
          captured_at?: string | null
          error_rate?: number
          id?: string
          latency_ms: number
          region: string
          signal_source: string
          throughput?: number
        }
        Update: {
          captured_at?: string | null
          error_rate?: number
          id?: string
          latency_ms?: number
          region?: string
          signal_source?: string
          throughput?: number
        }
        Relationships: []
      }
      gslpie_sla_profiles: {
        Row: {
          created_at: string | null
          id: string
          latency_threshold_ms: number
          max_error_rate: number
          region: string
          sla_type: string
          tenant_id: string
          updated_at: string | null
          uptime_target: number
        }
        Insert: {
          created_at?: string | null
          id?: string
          latency_threshold_ms: number
          max_error_rate?: number
          region: string
          sla_type?: string
          tenant_id: string
          updated_at?: string | null
          uptime_target?: number
        }
        Update: {
          created_at?: string | null
          id?: string
          latency_threshold_ms?: number
          max_error_rate?: number
          region?: string
          sla_type?: string
          tenant_id?: string
          updated_at?: string | null
          uptime_target?: number
        }
        Relationships: [
          {
            foreignKeyName: "gslpie_sla_profiles_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      hsoe_approvals: {
        Row: {
          approval_level: string
          approver_id: string
          created_at: string | null
          decision: string
          id: string
          notes: string | null
          request_id: string
        }
        Insert: {
          approval_level: string
          approver_id: string
          created_at?: string | null
          decision: string
          id?: string
          notes?: string | null
          request_id: string
        }
        Update: {
          approval_level?: string
          approver_id?: string
          created_at?: string | null
          decision?: string
          id?: string
          notes?: string | null
          request_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "hsoe_approvals_request_fk"
            columns: ["request_id"]
            isOneToOne: false
            referencedRelation: "hsoe_requests"
            referencedColumns: ["id"]
          },
        ]
      }
      hsoe_audit_log: {
        Row: {
          actor_id: string | null
          event_type: string
          id: string
          metadata: Json | null
          request_id: string
          timestamp: string | null
        }
        Insert: {
          actor_id?: string | null
          event_type: string
          id?: string
          metadata?: Json | null
          request_id: string
          timestamp?: string | null
        }
        Update: {
          actor_id?: string | null
          event_type?: string
          id?: string
          metadata?: Json | null
          request_id?: string
          timestamp?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "hsoe_audit_log_request_fk"
            columns: ["request_id"]
            isOneToOne: false
            referencedRelation: "hsoe_requests"
            referencedColumns: ["id"]
          },
        ]
      }
      hsoe_requests: {
        Row: {
          action_type: string
          created_at: string | null
          created_by: string | null
          id: string
          payload: Json | null
          risk_level: string
          status: string
          tenant_id: string
          trigger_source: string
          updated_at: string | null
        }
        Insert: {
          action_type: string
          created_at?: string | null
          created_by?: string | null
          id?: string
          payload?: Json | null
          risk_level?: string
          status?: string
          tenant_id: string
          trigger_source: string
          updated_at?: string | null
        }
        Update: {
          action_type?: string
          created_at?: string | null
          created_by?: string | null
          id?: string
          payload?: Json | null
          risk_level?: string
          status?: string
          tenant_id?: string
          trigger_source?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "hsoe_requests_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      ilcie_improvement_log: {
        Row: {
          applied_by: string
          change_summary: Json | null
          created_at: string | null
          id: string
          recommendation_id: string
          result: Json | null
          tenant_id: string
        }
        Insert: {
          applied_by: string
          change_summary?: Json | null
          created_at?: string | null
          id?: string
          recommendation_id: string
          result?: Json | null
          tenant_id: string
        }
        Update: {
          applied_by?: string
          change_summary?: Json | null
          created_at?: string | null
          id?: string
          recommendation_id?: string
          result?: Json | null
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ilcie_improvement_log_recommendation_fk"
            columns: ["recommendation_id"]
            isOneToOne: false
            referencedRelation: "ilcie_recommendations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ilcie_improvement_log_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      ilcie_learning_events: {
        Row: {
          created_at: string | null
          id: string
          impact_assessment: string | null
          improvement_suggestion: Json | null
          incident_id: string | null
          linked_event_id: string | null
          pattern: Json | null
          source: string
          tenant_id: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          impact_assessment?: string | null
          improvement_suggestion?: Json | null
          incident_id?: string | null
          linked_event_id?: string | null
          pattern?: Json | null
          source: string
          tenant_id: string
        }
        Update: {
          created_at?: string | null
          id?: string
          impact_assessment?: string | null
          improvement_suggestion?: Json | null
          incident_id?: string | null
          linked_event_id?: string | null
          pattern?: Json | null
          source?: string
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ilcie_learning_events_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      ilcie_recommendations: {
        Row: {
          created_at: string | null
          id: string
          recommendation: string
          requires_hsoe: boolean
          severity: string
          status: string
          target_id: string | null
          target_type: string
          tenant_id: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          id?: string
          recommendation: string
          requires_hsoe?: boolean
          severity?: string
          status?: string
          target_id?: string | null
          target_type: string
          tenant_id: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          id?: string
          recommendation?: string
          requires_hsoe?: boolean
          severity?: string
          status?: string
          target_id?: string | null
          target_type?: string
          tenant_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ilcie_recommendations_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      image_approvals: {
        Row: {
          category: string
          contact_id: string | null
          created_at: string | null
          file_name: string
          file_path: string
          id: string
          notes: string | null
          org_id: string
          platform: string | null
          requested_by: string
          reviewed_by: string | null
          status: string
          tags: Json | null
          updated_at: string | null
          use_case: string | null
        }
        Insert: {
          category: string
          contact_id?: string | null
          created_at?: string | null
          file_name: string
          file_path: string
          id?: string
          notes?: string | null
          org_id: string
          platform?: string | null
          requested_by: string
          reviewed_by?: string | null
          status?: string
          tags?: Json | null
          updated_at?: string | null
          use_case?: string | null
        }
        Update: {
          category?: string
          contact_id?: string | null
          created_at?: string | null
          file_name?: string
          file_path?: string
          id?: string
          notes?: string | null
          org_id?: string
          platform?: string | null
          requested_by?: string
          reviewed_by?: string | null
          status?: string
          tags?: Json | null
          updated_at?: string | null
          use_case?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "image_approvals_contact_fk"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "image_approvals_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      image_approvals_audit: {
        Row: {
          approval_id: string
          changed_at: string | null
          changed_by: string | null
          id: string
          new_status: string
          previous_status: string | null
        }
        Insert: {
          approval_id: string
          changed_at?: string | null
          changed_by?: string | null
          id?: string
          new_status: string
          previous_status?: string | null
        }
        Update: {
          approval_id?: string
          changed_at?: string | null
          changed_by?: string | null
          id?: string
          new_status?: string
          previous_status?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "image_approvals_audit_approval_id_fkey"
            columns: ["approval_id"]
            isOneToOne: false
            referencedRelation: "image_approvals"
            referencedColumns: ["id"]
          },
        ]
      }
      image_safety_labels: {
        Row: {
          created_at: string | null
          id: string
          image_approval_id: string
          label: string
          score: number
        }
        Insert: {
          created_at?: string | null
          id?: string
          image_approval_id: string
          label: string
          score: number
        }
        Update: {
          created_at?: string | null
          id?: string
          image_approval_id?: string
          label?: string
          score?: number
        }
        Relationships: [
          {
            foreignKeyName: "image_safety_labels_approval_fk"
            columns: ["image_approval_id"]
            isOneToOne: false
            referencedRelation: "image_approvals"
            referencedColumns: ["id"]
          },
        ]
      }
      image_usage_analytics: {
        Row: {
          by_agent: Json | null
          by_category: Json | null
          created_at: string | null
          id: string
          org_id: string
          period_end: string
          period_start: string
          total_cost_usd: number
          total_images_approved: number
          total_images_generated: number
          total_images_rejected: number
        }
        Insert: {
          by_agent?: Json | null
          by_category?: Json | null
          created_at?: string | null
          id?: string
          org_id: string
          period_end: string
          period_start: string
          total_cost_usd?: number
          total_images_approved?: number
          total_images_generated?: number
          total_images_rejected?: number
        }
        Update: {
          by_agent?: Json | null
          by_category?: Json | null
          created_at?: string | null
          id?: string
          org_id?: string
          period_end?: string
          period_start?: string
          total_cost_usd?: number
          total_images_approved?: number
          total_images_generated?: number
          total_images_rejected?: number
        }
        Relationships: [
          {
            foreignKeyName: "image_usage_analytics_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      incident_postmortems: {
        Row: {
          confidence: number
          created_at: string
          facts: Json
          hypotheses: Json | null
          id: string
          incident_type: string
          lessons: Json | null
          linked_patterns: Json | null
          linked_training: Json | null
          published_at: string | null
          root_causes: Json | null
          status: string
          summary: string
          tenant_id: string | null
          title: string
          uncertainty_notes: string | null
        }
        Insert: {
          confidence: number
          created_at?: string
          facts?: Json
          hypotheses?: Json | null
          id?: string
          incident_type: string
          lessons?: Json | null
          linked_patterns?: Json | null
          linked_training?: Json | null
          published_at?: string | null
          root_causes?: Json | null
          status?: string
          summary: string
          tenant_id?: string | null
          title: string
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number
          created_at?: string
          facts?: Json
          hypotheses?: Json | null
          id?: string
          incident_type?: string
          lessons?: Json | null
          linked_patterns?: Json | null
          linked_training?: Json | null
          published_at?: string | null
          root_causes?: Json | null
          status?: string
          summary?: string
          tenant_id?: string | null
          title?: string
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "incident_postmortems_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      indexing_health_checks: {
        Row: {
          cache_date: string | null
          checked_at: string | null
          created_at: string | null
          has_og_image: boolean | null
          has_schema: boolean | null
          health_score: number | null
          id: string
          indexed_at: string | null
          is_indexed: boolean | null
          load_time_ms: number | null
          metadata: Json | null
          mobile_friendly: boolean | null
          og_image_hash: string | null
          org_id: string
          page_size_bytes: number | null
          run_id: string | null
          schema_errors: string[] | null
          schema_valid: boolean | null
          url: string
          url_type: string
        }
        Insert: {
          cache_date?: string | null
          checked_at?: string | null
          created_at?: string | null
          has_og_image?: boolean | null
          has_schema?: boolean | null
          health_score?: number | null
          id?: string
          indexed_at?: string | null
          is_indexed?: boolean | null
          load_time_ms?: number | null
          metadata?: Json | null
          mobile_friendly?: boolean | null
          og_image_hash?: string | null
          org_id: string
          page_size_bytes?: number | null
          run_id?: string | null
          schema_errors?: string[] | null
          schema_valid?: boolean | null
          url: string
          url_type: string
        }
        Update: {
          cache_date?: string | null
          checked_at?: string | null
          created_at?: string | null
          has_og_image?: boolean | null
          has_schema?: boolean | null
          health_score?: number | null
          id?: string
          indexed_at?: string | null
          is_indexed?: boolean | null
          load_time_ms?: number | null
          metadata?: Json | null
          mobile_friendly?: boolean | null
          og_image_hash?: string | null
          org_id?: string
          page_size_bytes?: number | null
          run_id?: string | null
          schema_errors?: string[] | null
          schema_valid?: boolean | null
          url?: string
          url_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "indexing_health_checks_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "indexing_health_checks_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "leviathan_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      insights_log: {
        Row: {
          action_items: Json
          assigned_to: string | null
          category: string
          completed_at: string | null
          created_at: string | null
          description: string
          evidence: Json
          id: string
          insight_title: string
          priority: string
          report_id: string
          status: string | null
          target_completion_date: string | null
        }
        Insert: {
          action_items: Json
          assigned_to?: string | null
          category: string
          completed_at?: string | null
          created_at?: string | null
          description: string
          evidence: Json
          id?: string
          insight_title: string
          priority: string
          report_id: string
          status?: string | null
          target_completion_date?: string | null
        }
        Update: {
          action_items?: Json
          assigned_to?: string | null
          category?: string
          completed_at?: string | null
          created_at?: string | null
          description?: string
          evidence?: Json
          id?: string
          insight_title?: string
          priority?: string
          report_id?: string
          status?: string | null
          target_completion_date?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "insights_log_report_id_fkey"
            columns: ["report_id"]
            isOneToOne: false
            referencedRelation: "analysis_reports"
            referencedColumns: ["id"]
          },
        ]
      }
      intake_submissions: {
        Row: {
          company: string | null
          created_at: string | null
          email: string
          id: string
          message: string
          name: string
          org_id: string
          status: string
        }
        Insert: {
          company?: string | null
          created_at?: string | null
          email: string
          id?: string
          message: string
          name: string
          org_id: string
          status?: string
        }
        Update: {
          company?: string | null
          created_at?: string | null
          email?: string
          id?: string
          message?: string
          name?: string
          org_id?: string
          status?: string
        }
        Relationships: []
      }
      integrations: {
        Row: {
          access_token: string | null
          created_at: string
          id: string
          is_active: boolean
          last_sync_at: string | null
          metadata: Json | null
          provider: string
          provider_user_id: string | null
          refresh_token: string | null
          scopes: string[] | null
          token_expires_at: string | null
          updated_at: string
          user_id: string
          workspace_id: string
        }
        Insert: {
          access_token?: string | null
          created_at?: string
          id?: string
          is_active?: boolean
          last_sync_at?: string | null
          metadata?: Json | null
          provider: string
          provider_user_id?: string | null
          refresh_token?: string | null
          scopes?: string[] | null
          token_expires_at?: string | null
          updated_at?: string
          user_id: string
          workspace_id: string
        }
        Update: {
          access_token?: string | null
          created_at?: string
          id?: string
          is_active?: boolean
          last_sync_at?: string | null
          metadata?: Json | null
          provider?: string
          provider_user_id?: string | null
          refresh_token?: string | null
          scopes?: string[] | null
          token_expires_at?: string | null
          updated_at?: string
          user_id?: string
          workspace_id?: string
        }
        Relationships: []
      }
      intelligence_boundary_policies: {
        Row: {
          anonymisation_rules: Json | null
          classification: string
          created_at: string
          id: string
          intel_type: string
          is_active: boolean | null
          tenant_id: string | null
          updated_at: string
        }
        Insert: {
          anonymisation_rules?: Json | null
          classification: string
          created_at?: string
          id?: string
          intel_type: string
          is_active?: boolean | null
          tenant_id?: string | null
          updated_at?: string
        }
        Update: {
          anonymisation_rules?: Json | null
          classification?: string
          created_at?: string
          id?: string
          intel_type?: string
          is_active?: boolean | null
          tenant_id?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "intelligence_boundary_policies_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      intelligence_edges: {
        Row: {
          confidence: number
          created_at: string
          from_node_id: string
          id: string
          is_bidirectional: boolean
          metadata: Json
          relationship: string
          strength: number
          to_node_id: string
        }
        Insert: {
          confidence: number
          created_at?: string
          from_node_id: string
          id?: string
          is_bidirectional?: boolean
          metadata?: Json
          relationship: string
          strength: number
          to_node_id: string
        }
        Update: {
          confidence?: number
          created_at?: string
          from_node_id?: string
          id?: string
          is_bidirectional?: boolean
          metadata?: Json
          relationship?: string
          strength?: number
          to_node_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "intelligence_edges_from_node_id_fkey"
            columns: ["from_node_id"]
            isOneToOne: false
            referencedRelation: "intelligence_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "intelligence_edges_to_node_id_fkey"
            columns: ["to_node_id"]
            isOneToOne: false
            referencedRelation: "intelligence_nodes"
            referencedColumns: ["id"]
          },
        ]
      }
      intelligence_exchange_messages: {
        Row: {
          confidence: number
          consumer_engine: string
          created_at: string
          id: string
          payload: Json
          producer_engine: string
          tenant_id: string | null
        }
        Insert: {
          confidence: number
          consumer_engine: string
          created_at?: string
          id?: string
          payload: Json
          producer_engine: string
          tenant_id?: string | null
        }
        Update: {
          confidence?: number
          consumer_engine?: string
          created_at?: string
          id?: string
          payload?: Json
          producer_engine?: string
          tenant_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "intelligence_exchange_messages_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      intelligence_mesh_snapshots: {
        Row: {
          avg_confidence: number | null
          created_at: string
          edge_count: number | null
          id: string
          metadata: Json
          node_count: number | null
          snapshot: Json
          snapshot_type: string
        }
        Insert: {
          avg_confidence?: number | null
          created_at?: string
          edge_count?: number | null
          id?: string
          metadata?: Json
          node_count?: number | null
          snapshot: Json
          snapshot_type?: string
        }
        Update: {
          avg_confidence?: number | null
          created_at?: string
          edge_count?: number | null
          id?: string
          metadata?: Json
          node_count?: number | null
          snapshot?: Json
          snapshot_type?: string
        }
        Relationships: []
      }
      intelligence_metrics: {
        Row: {
          agent: string
          id: string
          meta: Json | null
          metric: string
          timestamp: string | null
          unit: string | null
          value: number
        }
        Insert: {
          agent: string
          id?: string
          meta?: Json | null
          metric: string
          timestamp?: string | null
          unit?: string | null
          value: number
        }
        Update: {
          agent?: string
          id?: string
          meta?: Json | null
          metric?: string
          timestamp?: string | null
          unit?: string | null
          value?: number
        }
        Relationships: []
      }
      intelligence_nodes: {
        Row: {
          confidence: number
          created_at: string
          id: string
          label: string | null
          metadata: Json
          node_type: string
          payload: Json
          region_id: string | null
          source_id: string | null
          source_table: string | null
          tags: string[] | null
          tenant_id: string | null
          weight: number
        }
        Insert: {
          confidence?: number
          created_at?: string
          id?: string
          label?: string | null
          metadata?: Json
          node_type: string
          payload?: Json
          region_id?: string | null
          source_id?: string | null
          source_table?: string | null
          tags?: string[] | null
          tenant_id?: string | null
          weight?: number
        }
        Update: {
          confidence?: number
          created_at?: string
          id?: string
          label?: string | null
          metadata?: Json
          node_type?: string
          payload?: Json
          region_id?: string | null
          source_id?: string | null
          source_table?: string | null
          tags?: string[] | null
          tenant_id?: string | null
          weight?: number
        }
        Relationships: [
          {
            foreignKeyName: "intelligence_nodes_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "intelligence_nodes_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      intelligence_playbooks: {
        Row: {
          confidence: number
          created_at: string
          id: string
          playbook_steps: Json
          scope: string
          status: string
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          confidence: number
          created_at?: string
          id?: string
          playbook_steps: Json
          scope: string
          status?: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number
          created_at?: string
          id?: string
          playbook_steps?: Json
          scope?: string
          status?: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "intelligence_playbooks_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      intelligence_snapshots: {
        Row: {
          completed_at: string | null
          created_at: string
          id: string
          is_encrypted: boolean | null
          manifest: Json
          size_bytes: number
          snapshot_type: string
          source_region: string
          status: string
          target_regions: Json
          tenant_id: string | null
        }
        Insert: {
          completed_at?: string | null
          created_at?: string
          id?: string
          is_encrypted?: boolean | null
          manifest: Json
          size_bytes?: number
          snapshot_type: string
          source_region: string
          status?: string
          target_regions?: Json
          tenant_id?: string | null
        }
        Update: {
          completed_at?: string | null
          created_at?: string
          id?: string
          is_encrypted?: boolean | null
          manifest?: Json
          size_bytes?: number
          snapshot_type?: string
          source_region?: string
          status?: string
          target_regions?: Json
          tenant_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "intelligence_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      intent_clusters: {
        Row: {
          alignment_score: number | null
          business_impact_score: number | null
          client_id: string
          created_at: string | null
          desired_outcomes: string[] | null
          difficulty_score: number | null
          example_queries: string[] | null
          follow_up_questions: string[] | null
          id: string
          last_refreshed_at: string | null
          local_modifiers: string[] | null
          pain_points: string[] | null
          primary_intent: string
          purchase_stage: string | null
          risk_concerns: string[] | null
          searcher_mindset: string | null
          secondary_intents: string[] | null
          topic_id: string
          workspace_id: string
        }
        Insert: {
          alignment_score?: number | null
          business_impact_score?: number | null
          client_id: string
          created_at?: string | null
          desired_outcomes?: string[] | null
          difficulty_score?: number | null
          example_queries?: string[] | null
          follow_up_questions?: string[] | null
          id?: string
          last_refreshed_at?: string | null
          local_modifiers?: string[] | null
          pain_points?: string[] | null
          primary_intent: string
          purchase_stage?: string | null
          risk_concerns?: string[] | null
          searcher_mindset?: string | null
          secondary_intents?: string[] | null
          topic_id: string
          workspace_id: string
        }
        Update: {
          alignment_score?: number | null
          business_impact_score?: number | null
          client_id?: string
          created_at?: string | null
          desired_outcomes?: string[] | null
          difficulty_score?: number | null
          example_queries?: string[] | null
          follow_up_questions?: string[] | null
          id?: string
          last_refreshed_at?: string | null
          local_modifiers?: string[] | null
          pain_points?: string[] | null
          primary_intent?: string
          purchase_stage?: string | null
          risk_concerns?: string[] | null
          searcher_mindset?: string | null
          secondary_intents?: string[] | null
          topic_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "intent_clusters_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "client_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "intent_clusters_topic_id_fkey"
            columns: ["topic_id"]
            isOneToOne: false
            referencedRelation: "topics"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "intent_clusters_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      interactions: {
        Row: {
          contact_id: string
          created_at: string | null
          created_by: string | null
          details: Json
          id: string
          interaction_date: string
          interaction_type: string
          subject: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          contact_id: string
          created_at?: string | null
          created_by?: string | null
          details?: Json
          id?: string
          interaction_date?: string
          interaction_type: string
          subject?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          contact_id?: string
          created_at?: string | null
          created_by?: string | null
          details?: Json
          id?: string
          interaction_date?: string
          interaction_type?: string
          subject?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "interactions_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "interactions_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      international_expansion_profiles: {
        Row: {
          competition_profile: Json | null
          created_at: string | null
          expansion_score: number
          id: string
          localisation_instructions: Json | null
          market_summary: Json | null
          org_id: string
          pricing_model: Json | null
          recommended_services: Json | null
          region_code: string
          regulation_factors: Json | null
          updated_at: string | null
        }
        Insert: {
          competition_profile?: Json | null
          created_at?: string | null
          expansion_score?: number
          id?: string
          localisation_instructions?: Json | null
          market_summary?: Json | null
          org_id: string
          pricing_model?: Json | null
          recommended_services?: Json | null
          region_code: string
          regulation_factors?: Json | null
          updated_at?: string | null
        }
        Update: {
          competition_profile?: Json | null
          created_at?: string | null
          expansion_score?: number
          id?: string
          localisation_instructions?: Json | null
          market_summary?: Json | null
          org_id?: string
          pricing_model?: Json | null
          recommended_services?: Json | null
          region_code?: string
          regulation_factors?: Json | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "international_expansion_profiles_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      international_expansion_tasks: {
        Row: {
          assigned_to: string | null
          created_at: string | null
          due_date: string | null
          id: string
          org_id: string
          profile_id: string
          status: string
          task_description: string | null
          task_title: string
          updated_at: string | null
        }
        Insert: {
          assigned_to?: string | null
          created_at?: string | null
          due_date?: string | null
          id?: string
          org_id: string
          profile_id: string
          status?: string
          task_description?: string | null
          task_title: string
          updated_at?: string | null
        }
        Update: {
          assigned_to?: string | null
          created_at?: string | null
          due_date?: string | null
          id?: string
          org_id?: string
          profile_id?: string
          status?: string
          task_description?: string | null
          task_title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "international_expansion_tasks_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "international_expansion_tasks_profile_fk"
            columns: ["profile_id"]
            isOneToOne: false
            referencedRelation: "international_expansion_profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      investor_relations: {
        Row: {
          created_at: string | null
          documents: Json | null
          id: string
          investment_amount: number
          investor_user_id: string
          org_id: string
          stake_percentage: number
        }
        Insert: {
          created_at?: string | null
          documents?: Json | null
          id?: string
          investment_amount: number
          investor_user_id: string
          org_id: string
          stake_percentage: number
        }
        Update: {
          created_at?: string | null
          documents?: Json | null
          id?: string
          investment_amount?: number
          investor_user_id?: string
          org_id?: string
          stake_percentage?: number
        }
        Relationships: [
          {
            foreignKeyName: "investor_relations_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      invoices: {
        Row: {
          amount_due: number
          amount_paid: number | null
          amount_remaining: number | null
          created_at: string | null
          currency: string | null
          description: string | null
          due_date: string | null
          hosted_invoice_url: string | null
          id: string
          invoice_date: string | null
          invoice_pdf: string | null
          metadata: Json | null
          number: string | null
          org_id: string
          paid_at: string | null
          status: string
          stripe_customer_id: string | null
          stripe_invoice_id: string
          subscription_id: string | null
          subtotal: number | null
          tax: number | null
          total: number | null
          updated_at: string | null
        }
        Insert: {
          amount_due: number
          amount_paid?: number | null
          amount_remaining?: number | null
          created_at?: string | null
          currency?: string | null
          description?: string | null
          due_date?: string | null
          hosted_invoice_url?: string | null
          id?: string
          invoice_date?: string | null
          invoice_pdf?: string | null
          metadata?: Json | null
          number?: string | null
          org_id: string
          paid_at?: string | null
          status: string
          stripe_customer_id?: string | null
          stripe_invoice_id: string
          subscription_id?: string | null
          subtotal?: number | null
          tax?: number | null
          total?: number | null
          updated_at?: string | null
        }
        Update: {
          amount_due?: number
          amount_paid?: number | null
          amount_remaining?: number | null
          created_at?: string | null
          currency?: string | null
          description?: string | null
          due_date?: string | null
          hosted_invoice_url?: string | null
          id?: string
          invoice_date?: string | null
          invoice_pdf?: string | null
          metadata?: Json | null
          number?: string | null
          org_id?: string
          paid_at?: string | null
          status?: string
          stripe_customer_id?: string | null
          stripe_invoice_id?: string
          subscription_id?: string | null
          subtotal?: number | null
          tax?: number | null
          total?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "invoices_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoices_subscription_id_fkey"
            columns: ["subscription_id"]
            isOneToOne: false
            referencedRelation: "subscriptions"
            referencedColumns: ["id"]
          },
        ]
      }
      job_positions: {
        Row: {
          created_at: string | null
          department: string | null
          experience_required: number | null
          id: string
          org_id: string
          required_skills: Json | null
          status: string
          title: string
        }
        Insert: {
          created_at?: string | null
          department?: string | null
          experience_required?: number | null
          id?: string
          org_id: string
          required_skills?: Json | null
          status?: string
          title: string
        }
        Update: {
          created_at?: string | null
          department?: string | null
          experience_required?: number | null
          id?: string
          org_id?: string
          required_skills?: Json | null
          status?: string
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_positions_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      keyword_gap_analysis: {
        Row: {
          analyzed_at: string
          client_domain: string
          client_unique_keywords: number | null
          competitor_domain: string | null
          competitor_unique_keywords: number | null
          created_at: string
          founder_business_id: string | null
          gap_type: string | null
          gaps: Json | null
          id: string
          missing_keywords: Json | null
          opportunity_keywords: Json | null
          quick_wins: Json | null
          shared_keywords: number | null
          strategic_targets: Json | null
          strong_keywords: Json | null
          total_client_keywords: number | null
          total_competitor_keywords: number | null
          weak_keywords: Json | null
          workspace_id: string
        }
        Insert: {
          analyzed_at?: string
          client_domain: string
          client_unique_keywords?: number | null
          competitor_domain?: string | null
          competitor_unique_keywords?: number | null
          created_at?: string
          founder_business_id?: string | null
          gap_type?: string | null
          gaps?: Json | null
          id?: string
          missing_keywords?: Json | null
          opportunity_keywords?: Json | null
          quick_wins?: Json | null
          shared_keywords?: number | null
          strategic_targets?: Json | null
          strong_keywords?: Json | null
          total_client_keywords?: number | null
          total_competitor_keywords?: number | null
          weak_keywords?: Json | null
          workspace_id: string
        }
        Update: {
          analyzed_at?: string
          client_domain?: string
          client_unique_keywords?: number | null
          competitor_domain?: string | null
          competitor_unique_keywords?: number | null
          created_at?: string
          founder_business_id?: string | null
          gap_type?: string | null
          gaps?: Json | null
          id?: string
          missing_keywords?: Json | null
          opportunity_keywords?: Json | null
          quick_wins?: Json | null
          shared_keywords?: number | null
          strategic_targets?: Json | null
          strong_keywords?: Json | null
          total_client_keywords?: number | null
          total_competitor_keywords?: number | null
          weak_keywords?: Json | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "keyword_gap_analysis_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      knowledge_artifacts: {
        Row: {
          artifact_type: string
          confidence: number
          content: string
          created_at: string
          id: string
          is_example: boolean | null
          source_systems: Json
          tags: Json | null
          tenant_id: string | null
          title: string
          uncertainty_notes: string | null
          updated_at: string
          version: number | null
        }
        Insert: {
          artifact_type: string
          confidence: number
          content: string
          created_at?: string
          id?: string
          is_example?: boolean | null
          source_systems?: Json
          tags?: Json | null
          tenant_id?: string | null
          title: string
          uncertainty_notes?: string | null
          updated_at?: string
          version?: number | null
        }
        Update: {
          artifact_type?: string
          confidence?: number
          content?: string
          created_at?: string
          id?: string
          is_example?: boolean | null
          source_systems?: Json
          tags?: Json | null
          tenant_id?: string | null
          title?: string
          uncertainty_notes?: string | null
          updated_at?: string
          version?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "knowledge_artifacts_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      knowledge_graph_edges: {
        Row: {
          confidence: number
          created_at: string | null
          from_node_id: string
          id: string
          relationship: string
          to_node_id: string
        }
        Insert: {
          confidence?: number
          created_at?: string | null
          from_node_id: string
          id?: string
          relationship: string
          to_node_id: string
        }
        Update: {
          confidence?: number
          created_at?: string | null
          from_node_id?: string
          id?: string
          relationship?: string
          to_node_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "knowledge_graph_edges_from_fk"
            columns: ["from_node_id"]
            isOneToOne: false
            referencedRelation: "knowledge_graph_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "knowledge_graph_edges_to_fk"
            columns: ["to_node_id"]
            isOneToOne: false
            referencedRelation: "knowledge_graph_nodes"
            referencedColumns: ["id"]
          },
        ]
      }
      knowledge_graph_nodes: {
        Row: {
          created_at: string | null
          id: string
          metadata: Json | null
          name: string
          node_type: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          metadata?: Json | null
          name: string
          node_type: string
        }
        Update: {
          created_at?: string | null
          id?: string
          metadata?: Json | null
          name?: string
          node_type?: string
        }
        Relationships: []
      }
      kpi_history: {
        Row: {
          auto_approved_percentage: number
          content_generated: number
          created_at: string | null
          email_bounce_rate: number
          email_click_rate: number
          email_engagement: number
          email_open_rate: number
          high_threat_insights: number
          id: string
          profit_margin: number
          report_id: string
          research_insights: number
          scheduling_conflicts: number
          scheduling_efficiency: number
          staff_overload_count: number
          staff_utilization: number
        }
        Insert: {
          auto_approved_percentage: number
          content_generated: number
          created_at?: string | null
          email_bounce_rate: number
          email_click_rate: number
          email_engagement: number
          email_open_rate: number
          high_threat_insights: number
          id?: string
          profit_margin: number
          report_id: string
          research_insights: number
          scheduling_conflicts: number
          scheduling_efficiency: number
          staff_overload_count: number
          staff_utilization: number
        }
        Update: {
          auto_approved_percentage?: number
          content_generated?: number
          created_at?: string | null
          email_bounce_rate?: number
          email_click_rate?: number
          email_engagement?: number
          email_open_rate?: number
          high_threat_insights?: number
          id?: string
          profit_margin?: number
          report_id?: string
          research_insights?: number
          scheduling_conflicts?: number
          scheduling_efficiency?: number
          staff_overload_count?: number
          staff_utilization?: number
        }
        Relationships: [
          {
            foreignKeyName: "kpi_history_report_id_fkey"
            columns: ["report_id"]
            isOneToOne: false
            referencedRelation: "analysis_reports"
            referencedColumns: ["id"]
          },
        ]
      }
      lead_scores: {
        Row: {
          behavioral_score: number | null
          contact_id: string
          created_at: string
          demographic_score: number | null
          engagement_score: number | null
          firmographic_score: number | null
          historical_accuracy: number | null
          id: string
          model_confidence: number | null
          next_review_date: string | null
          temporal_score: number | null
          tier: string
          total_score: number
          trend: string | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          behavioral_score?: number | null
          contact_id: string
          created_at?: string
          demographic_score?: number | null
          engagement_score?: number | null
          firmographic_score?: number | null
          historical_accuracy?: number | null
          id?: string
          model_confidence?: number | null
          next_review_date?: string | null
          temporal_score?: number | null
          tier: string
          total_score?: number
          trend?: string | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          behavioral_score?: number | null
          contact_id?: string
          created_at?: string
          demographic_score?: number | null
          engagement_score?: number | null
          firmographic_score?: number | null
          historical_accuracy?: number | null
          id?: string
          model_confidence?: number | null
          next_review_date?: string | null
          temporal_score?: number | null
          tier?: string
          total_score?: number
          trend?: string | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "lead_scores_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      leads: {
        Row: {
          company: string | null
          converted_to_contact_id: string | null
          created_at: string
          email: string
          id: string
          lead_status: string
          metadata: Json | null
          name: string | null
          notes: string | null
          phone: string | null
          score: number | null
          source: string | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          company?: string | null
          converted_to_contact_id?: string | null
          created_at?: string
          email: string
          id?: string
          lead_status?: string
          metadata?: Json | null
          name?: string | null
          notes?: string | null
          phone?: string | null
          score?: number | null
          source?: string | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          company?: string | null
          converted_to_contact_id?: string | null
          created_at?: string
          email?: string
          id?: string
          lead_status?: string
          metadata?: Json | null
          name?: string | null
          notes?: string | null
          phone?: string | null
          score?: number | null
          source?: string | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: []
      }
      learning_loop_runs: {
        Row: {
          benchmarks_updated: number
          cohorts_processed: number
          completed_at: string | null
          confidence: number
          id: string
          insights_distributed: number
          patterns_collected: number
          run_type: string
          started_at: string
          status: string
          tibe_validations_failed: number
          tibe_validations_passed: number
          uncertainty_notes: string | null
        }
        Insert: {
          benchmarks_updated?: number
          cohorts_processed?: number
          completed_at?: string | null
          confidence: number
          id?: string
          insights_distributed?: number
          patterns_collected?: number
          run_type: string
          started_at?: string
          status?: string
          tibe_validations_failed?: number
          tibe_validations_passed?: number
          uncertainty_notes?: string | null
        }
        Update: {
          benchmarks_updated?: number
          cohorts_processed?: number
          completed_at?: string | null
          confidence?: number
          id?: string
          insights_distributed?: number
          patterns_collected?: number
          run_type?: string
          started_at?: string
          status?: string
          tibe_validations_failed?: number
          tibe_validations_passed?: number
          uncertainty_notes?: string | null
        }
        Relationships: []
      }
      lesson_progress: {
        Row: {
          completed: boolean
          completed_at: string | null
          created_at: string | null
          id: string
          lesson_id: string
          user_id: string
        }
        Insert: {
          completed?: boolean
          completed_at?: string | null
          created_at?: string | null
          id?: string
          lesson_id: string
          user_id: string
        }
        Update: {
          completed?: boolean
          completed_at?: string | null
          created_at?: string | null
          id?: string
          lesson_id?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "lesson_progress_lesson_fk"
            columns: ["lesson_id"]
            isOneToOne: false
            referencedRelation: "lessons"
            referencedColumns: ["id"]
          },
        ]
      }
      lessons: {
        Row: {
          content: Json
          course_id: string
          created_at: string | null
          id: string
          order_index: number
          title: string
        }
        Insert: {
          content: Json
          course_id: string
          created_at?: string | null
          id?: string
          order_index?: number
          title: string
        }
        Update: {
          content?: Json
          course_id?: string
          created_at?: string | null
          id?: string
          order_index?: number
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "lessons_course_fk"
            columns: ["course_id"]
            isOneToOne: false
            referencedRelation: "courses"
            referencedColumns: ["id"]
          },
        ]
      }
      leviathan_hash_signatures: {
        Row: {
          content_type: string
          created_at: string | null
          hash_algorithm: string | null
          hash_value: string
          id: string
          metadata: Json | null
          run_id: string
          source_id: string | null
          source_url: string | null
          verified: boolean | null
          verified_at: string | null
        }
        Insert: {
          content_type: string
          created_at?: string | null
          hash_algorithm?: string | null
          hash_value: string
          id?: string
          metadata?: Json | null
          run_id: string
          source_id?: string | null
          source_url?: string | null
          verified?: boolean | null
          verified_at?: string | null
        }
        Update: {
          content_type?: string
          created_at?: string | null
          hash_algorithm?: string | null
          hash_value?: string
          id?: string
          metadata?: Json | null
          run_id?: string
          source_id?: string | null
          source_url?: string | null
          verified?: boolean | null
          verified_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "leviathan_hash_signatures_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "leviathan_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      leviathan_run_errors: {
        Row: {
          context: Json | null
          created_at: string | null
          error_code: string | null
          error_message: string
          error_type: string
          id: string
          resolution_notes: string | null
          resolved: boolean | null
          run_id: string
          severity: string | null
          stack_trace: string | null
          step_id: string | null
        }
        Insert: {
          context?: Json | null
          created_at?: string | null
          error_code?: string | null
          error_message: string
          error_type: string
          id?: string
          resolution_notes?: string | null
          resolved?: boolean | null
          run_id: string
          severity?: string | null
          stack_trace?: string | null
          step_id?: string | null
        }
        Update: {
          context?: Json | null
          created_at?: string | null
          error_code?: string | null
          error_message?: string
          error_type?: string
          id?: string
          resolution_notes?: string | null
          resolved?: boolean | null
          run_id?: string
          severity?: string | null
          stack_trace?: string | null
          step_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "leviathan_run_errors_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "leviathan_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "leviathan_run_errors_step_id_fkey"
            columns: ["step_id"]
            isOneToOne: false
            referencedRelation: "leviathan_run_steps"
            referencedColumns: ["id"]
          },
        ]
      }
      leviathan_run_steps: {
        Row: {
          can_rollback: boolean | null
          completed_at: string | null
          created_at: string | null
          duration_ms: number | null
          error_message: string | null
          id: string
          input_data: Json | null
          max_retries: number | null
          metadata: Json | null
          output_data: Json | null
          retry_count: number | null
          rollback_data: Json | null
          run_id: string
          started_at: string | null
          status: string | null
          step_name: string
          step_order: number
          step_type: string
        }
        Insert: {
          can_rollback?: boolean | null
          completed_at?: string | null
          created_at?: string | null
          duration_ms?: number | null
          error_message?: string | null
          id?: string
          input_data?: Json | null
          max_retries?: number | null
          metadata?: Json | null
          output_data?: Json | null
          retry_count?: number | null
          rollback_data?: Json | null
          run_id: string
          started_at?: string | null
          status?: string | null
          step_name: string
          step_order: number
          step_type: string
        }
        Update: {
          can_rollback?: boolean | null
          completed_at?: string | null
          created_at?: string | null
          duration_ms?: number | null
          error_message?: string | null
          id?: string
          input_data?: Json | null
          max_retries?: number | null
          metadata?: Json | null
          output_data?: Json | null
          retry_count?: number | null
          rollback_data?: Json | null
          run_id?: string
          started_at?: string | null
          status?: string | null
          step_name?: string
          step_order?: number
          step_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "leviathan_run_steps_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "leviathan_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      leviathan_runs: {
        Row: {
          completed_at: string | null
          config: Json | null
          created_at: string | null
          deployment_id: string | null
          description: string | null
          duration_ms: number | null
          error_message: string | null
          graph_id: string | null
          id: string
          metadata: Json | null
          name: string
          org_id: string
          result: Json | null
          run_type: string
          started_at: string | null
          status: string | null
          target_url: string | null
          updated_at: string | null
        }
        Insert: {
          completed_at?: string | null
          config?: Json | null
          created_at?: string | null
          deployment_id?: string | null
          description?: string | null
          duration_ms?: number | null
          error_message?: string | null
          graph_id?: string | null
          id?: string
          metadata?: Json | null
          name: string
          org_id: string
          result?: Json | null
          run_type: string
          started_at?: string | null
          status?: string | null
          target_url?: string | null
          updated_at?: string | null
        }
        Update: {
          completed_at?: string | null
          config?: Json | null
          created_at?: string | null
          deployment_id?: string | null
          description?: string | null
          duration_ms?: number | null
          error_message?: string | null
          graph_id?: string | null
          id?: string
          metadata?: Json | null
          name?: string
          org_id?: string
          result?: Json | null
          run_type?: string
          started_at?: string | null
          status?: string | null
          target_url?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "leviathan_runs_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      licensor_profiles: {
        Row: {
          brand_id: string | null
          compliance_requirements: Json | null
          created_at: string | null
          id: string
          licensor_name: string
          org_id: string
          royalty_rate: number
          royalty_type: string
          territory_rules: Json | null
          updated_at: string | null
        }
        Insert: {
          brand_id?: string | null
          compliance_requirements?: Json | null
          created_at?: string | null
          id?: string
          licensor_name: string
          org_id: string
          royalty_rate?: number
          royalty_type: string
          territory_rules?: Json | null
          updated_at?: string | null
        }
        Update: {
          brand_id?: string | null
          compliance_requirements?: Json | null
          created_at?: string | null
          id?: string
          licensor_name?: string
          org_id?: string
          royalty_rate?: number
          royalty_type?: string
          territory_rules?: Json | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "licensor_profiles_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      licensor_revenue_events: {
        Row: {
          amount: number
          calculated_royalty: number
          created_at: string | null
          id: string
          licensor_id: string
          org_id: string
          period_end: string
          period_start: string
          status: string
          stripe_payment_id: string | null
        }
        Insert: {
          amount?: number
          calculated_royalty?: number
          created_at?: string | null
          id?: string
          licensor_id: string
          org_id: string
          period_end: string
          period_start: string
          status?: string
          stripe_payment_id?: string | null
        }
        Update: {
          amount?: number
          calculated_royalty?: number
          created_at?: string | null
          id?: string
          licensor_id?: string
          org_id?: string
          period_end?: string
          period_start?: string
          status?: string
          stripe_payment_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "licensor_revenue_events_licensor_fk"
            columns: ["licensor_id"]
            isOneToOne: false
            referencedRelation: "licensor_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "licensor_revenue_events_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      licensor_territory_zones: {
        Row: {
          competitor_overlap_score: number
          coordinates_geojson: Json | null
          created_at: string | null
          id: string
          licensor_id: string
          org_id: string
          region_code: string
          territory_protection_level: string
        }
        Insert: {
          competitor_overlap_score?: number
          coordinates_geojson?: Json | null
          created_at?: string | null
          id?: string
          licensor_id: string
          org_id: string
          region_code: string
          territory_protection_level?: string
        }
        Update: {
          competitor_overlap_score?: number
          coordinates_geojson?: Json | null
          created_at?: string | null
          id?: string
          licensor_id?: string
          org_id?: string
          region_code?: string
          territory_protection_level?: string
        }
        Relationships: [
          {
            foreignKeyName: "licensor_territory_zones_licensor_fk"
            columns: ["licensor_id"]
            isOneToOne: false
            referencedRelation: "licensor_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "licensor_territory_zones_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      locale_profiles: {
        Row: {
          created_at: string
          holiday_calendar: Json
          id: string
          locale_code: string
          metadata: Json
          region_slug: string
          sensitivity_flags: Json
          spelling_variant: string
          tone_guidelines: Json
          updated_at: string
        }
        Insert: {
          created_at?: string
          holiday_calendar?: Json
          id?: string
          locale_code: string
          metadata?: Json
          region_slug: string
          sensitivity_flags?: Json
          spelling_variant: string
          tone_guidelines?: Json
          updated_at?: string
        }
        Update: {
          created_at?: string
          holiday_calendar?: Json
          id?: string
          locale_code?: string
          metadata?: Json
          region_slug?: string
          sensitivity_flags?: Json
          spelling_variant?: string
          tone_guidelines?: Json
          updated_at?: string
        }
        Relationships: []
      }
      long_horizon_roadmaps: {
        Row: {
          budget_limits: Json | null
          confidence: number
          constraints_applied: Json | null
          created_at: string
          end_date: string
          horizon_months: number
          id: string
          is_advisory: boolean
          milestones: Json
          name: string
          start_date: string
          status: string
          tenant_id: string | null
          trends_considered: Json | null
          uncertainty_notes: string | null
          updated_at: string
          workload_limits: Json | null
        }
        Insert: {
          budget_limits?: Json | null
          confidence: number
          constraints_applied?: Json | null
          created_at?: string
          end_date: string
          horizon_months: number
          id?: string
          is_advisory?: boolean
          milestones?: Json
          name: string
          start_date: string
          status?: string
          tenant_id?: string | null
          trends_considered?: Json | null
          uncertainty_notes?: string | null
          updated_at?: string
          workload_limits?: Json | null
        }
        Update: {
          budget_limits?: Json | null
          confidence?: number
          constraints_applied?: Json | null
          created_at?: string
          end_date?: string
          horizon_months?: number
          id?: string
          is_advisory?: boolean
          milestones?: Json
          name?: string
          start_date?: string
          status?: string
          tenant_id?: string | null
          trends_considered?: Json | null
          uncertainty_notes?: string | null
          updated_at?: string
          workload_limits?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "long_horizon_roadmaps_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      long_term_forecasts: {
        Row: {
          confidence_score: number
          exit_valuation: number | null
          forecast_type: string
          generated_at: string | null
          growth_curve: Json | null
          id: string
          org_id: string
          projection_years: number
          projections: Json | null
        }
        Insert: {
          confidence_score?: number
          exit_valuation?: number | null
          forecast_type: string
          generated_at?: string | null
          growth_curve?: Json | null
          id?: string
          org_id: string
          projection_years?: number
          projections?: Json | null
        }
        Update: {
          confidence_score?: number
          exit_valuation?: number | null
          forecast_type?: string
          generated_at?: string | null
          growth_curve?: Json | null
          id?: string
          org_id?: string
          projection_years?: number
          projections?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "long_term_forecasts_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      macro_evolution_proposals: {
        Row: {
          affected_engines: Json
          affected_regions: Json | null
          confidence: number
          created_at: string
          description: string
          id: string
          impact_estimate: Json
          reviewed_at: string | null
          reviewed_by: string | null
          risk_matrix: Json
          scope: string
          status: string
          tenant_id: string | null
          title: string
          truth_layer_validation: Json | null
          uncertainty_notes: string | null
        }
        Insert: {
          affected_engines?: Json
          affected_regions?: Json | null
          confidence: number
          created_at?: string
          description: string
          id?: string
          impact_estimate: Json
          reviewed_at?: string | null
          reviewed_by?: string | null
          risk_matrix: Json
          scope: string
          status?: string
          tenant_id?: string | null
          title: string
          truth_layer_validation?: Json | null
          uncertainty_notes?: string | null
        }
        Update: {
          affected_engines?: Json
          affected_regions?: Json | null
          confidence?: number
          created_at?: string
          description?: string
          id?: string
          impact_estimate?: Json
          reviewed_at?: string | null
          reviewed_by?: string | null
          risk_matrix?: Json
          scope?: string
          status?: string
          tenant_id?: string | null
          title?: string
          truth_layer_validation?: Json | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "macro_evolution_proposals_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      managed_service_contracts: {
        Row: {
          contract_type: string
          contract_version: number | null
          created_at: string | null
          deliverables: Json
          effective_date: string
          expiration_date: string
          id: string
          project_id: string
          scope_of_work: string
          signature_hash: string | null
          signed_at: string | null
          status: string
          success_metrics: Json
          terms_and_conditions: string | null
          updated_at: string | null
        }
        Insert: {
          contract_type: string
          contract_version?: number | null
          created_at?: string | null
          deliverables: Json
          effective_date: string
          expiration_date: string
          id?: string
          project_id: string
          scope_of_work: string
          signature_hash?: string | null
          signed_at?: string | null
          status?: string
          success_metrics: Json
          terms_and_conditions?: string | null
          updated_at?: string | null
        }
        Update: {
          contract_type?: string
          contract_version?: number | null
          created_at?: string | null
          deliverables?: Json
          effective_date?: string
          expiration_date?: string
          id?: string
          project_id?: string
          scope_of_work?: string
          signature_hash?: string | null
          signed_at?: string | null
          status?: string
          success_metrics?: Json
          terms_and_conditions?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "managed_service_contracts_project_id_fkey"
            columns: ["project_id"]
            isOneToOne: false
            referencedRelation: "managed_service_projects"
            referencedColumns: ["id"]
          },
        ]
      }
      managed_service_notifications: {
        Row: {
          created_at: string | null
          email_body_html: string
          email_body_text: string | null
          id: string
          message_id: string | null
          notification_type: string
          project_id: string
          provider: string | null
          recipient_email: string
          scheduled_for: string | null
          sent_at: string | null
          status: string
          subject: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          email_body_html: string
          email_body_text?: string | null
          id?: string
          message_id?: string | null
          notification_type: string
          project_id: string
          provider?: string | null
          recipient_email: string
          scheduled_for?: string | null
          sent_at?: string | null
          status?: string
          subject: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          email_body_html?: string
          email_body_text?: string | null
          id?: string
          message_id?: string | null
          notification_type?: string
          project_id?: string
          provider?: string | null
          recipient_email?: string
          scheduled_for?: string | null
          sent_at?: string | null
          status?: string
          subject?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "managed_service_notifications_project_id_fkey"
            columns: ["project_id"]
            isOneToOne: false
            referencedRelation: "managed_service_projects"
            referencedColumns: ["id"]
          },
        ]
      }
      managed_service_projects: {
        Row: {
          actual_end_date: string | null
          client_email: string
          client_name: string
          client_website: string | null
          created_at: string | null
          id: string
          metadata: Json | null
          monthly_cost_cents: number
          monthly_hours: number
          project_name: string
          projected_end_date: string | null
          service_tier: string
          service_type: string
          setup_cost_cents: number | null
          start_date: string
          status: string
          stripe_customer_id: string
          stripe_subscription_id: string
          tenant_id: string
          updated_at: string | null
        }
        Insert: {
          actual_end_date?: string | null
          client_email: string
          client_name: string
          client_website?: string | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          monthly_cost_cents: number
          monthly_hours: number
          project_name: string
          projected_end_date?: string | null
          service_tier: string
          service_type: string
          setup_cost_cents?: number | null
          start_date: string
          status?: string
          stripe_customer_id: string
          stripe_subscription_id: string
          tenant_id: string
          updated_at?: string | null
        }
        Update: {
          actual_end_date?: string | null
          client_email?: string
          client_name?: string
          client_website?: string | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          monthly_cost_cents?: number
          monthly_hours?: number
          project_name?: string
          projected_end_date?: string | null
          service_tier?: string
          service_type?: string
          setup_cost_cents?: number | null
          start_date?: string
          status?: string
          stripe_customer_id?: string
          stripe_subscription_id?: string
          tenant_id?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      managed_service_reports: {
        Row: {
          blockers: Json | null
          created_at: string | null
          executive_summary: string | null
          highlights: Json
          hours_remaining: number | null
          hours_utilized: number | null
          id: string
          kpi_tracking: Json
          period_end_date: string
          period_start_date: string
          project_id: string
          rank_data: Json | null
          recommendations: Json
          report_number: number
          report_type: string
          sent_at: string | null
          status: string
          traffic_data: Json | null
          updated_at: string | null
        }
        Insert: {
          blockers?: Json | null
          created_at?: string | null
          executive_summary?: string | null
          highlights: Json
          hours_remaining?: number | null
          hours_utilized?: number | null
          id?: string
          kpi_tracking: Json
          period_end_date: string
          period_start_date: string
          project_id: string
          rank_data?: Json | null
          recommendations: Json
          report_number: number
          report_type?: string
          sent_at?: string | null
          status?: string
          traffic_data?: Json | null
          updated_at?: string | null
        }
        Update: {
          blockers?: Json | null
          created_at?: string | null
          executive_summary?: string | null
          highlights?: Json
          hours_remaining?: number | null
          hours_utilized?: number | null
          id?: string
          kpi_tracking?: Json
          period_end_date?: string
          period_start_date?: string
          project_id?: string
          rank_data?: Json | null
          recommendations?: Json
          report_number?: number
          report_type?: string
          sent_at?: string | null
          status?: string
          traffic_data?: Json | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "managed_service_reports_project_id_fkey"
            columns: ["project_id"]
            isOneToOne: false
            referencedRelation: "managed_service_projects"
            referencedColumns: ["id"]
          },
        ]
      }
      managed_service_strategies: {
        Row: {
          business_name: string
          category_name: string | null
          created_at: string | null
          created_by: string | null
          defensibility_score: number | null
          full_strategy: Json
          id: string
          industry: string
          project_id: string | null
          strategy_type: string
          updated_at: string | null
        }
        Insert: {
          business_name: string
          category_name?: string | null
          created_at?: string | null
          created_by?: string | null
          defensibility_score?: number | null
          full_strategy: Json
          id?: string
          industry: string
          project_id?: string | null
          strategy_type?: string
          updated_at?: string | null
        }
        Update: {
          business_name?: string
          category_name?: string | null
          created_at?: string | null
          created_by?: string | null
          defensibility_score?: number | null
          full_strategy?: Json
          id?: string
          industry?: string
          project_id?: string | null
          strategy_type?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      managed_service_stripe_events: {
        Row: {
          event_data: Json
          event_type: string
          id: string
          processed: boolean | null
          processed_at: string | null
          processing_error: string | null
          project_id: string
          received_at: string
          stripe_event_id: string
        }
        Insert: {
          event_data: Json
          event_type: string
          id?: string
          processed?: boolean | null
          processed_at?: string | null
          processing_error?: string | null
          project_id: string
          received_at: string
          stripe_event_id: string
        }
        Update: {
          event_data?: Json
          event_type?: string
          id?: string
          processed?: boolean | null
          processed_at?: string | null
          processing_error?: string | null
          project_id?: string
          received_at?: string
          stripe_event_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "managed_service_stripe_events_project_id_fkey"
            columns: ["project_id"]
            isOneToOne: false
            referencedRelation: "managed_service_projects"
            referencedColumns: ["id"]
          },
        ]
      }
      managed_service_tasks: {
        Row: {
          assigned_agent_id: string | null
          completed_at: string | null
          created_at: string | null
          description: string
          due_date: string
          error_message: string | null
          execution_notes: string | null
          expected_outputs: Json | null
          id: string
          output_data: Json | null
          priority: string
          project_id: string
          required_inputs: Json | null
          started_at: string | null
          status: string
          task_name: string
          task_type: string
          timeline_id: string | null
          updated_at: string | null
        }
        Insert: {
          assigned_agent_id?: string | null
          completed_at?: string | null
          created_at?: string | null
          description: string
          due_date: string
          error_message?: string | null
          execution_notes?: string | null
          expected_outputs?: Json | null
          id?: string
          output_data?: Json | null
          priority?: string
          project_id: string
          required_inputs?: Json | null
          started_at?: string | null
          status?: string
          task_name: string
          task_type: string
          timeline_id?: string | null
          updated_at?: string | null
        }
        Update: {
          assigned_agent_id?: string | null
          completed_at?: string | null
          created_at?: string | null
          description?: string
          due_date?: string
          error_message?: string | null
          execution_notes?: string | null
          expected_outputs?: Json | null
          id?: string
          output_data?: Json | null
          priority?: string
          project_id?: string
          required_inputs?: Json | null
          started_at?: string | null
          status?: string
          task_name?: string
          task_type?: string
          timeline_id?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "managed_service_tasks_project_id_fkey"
            columns: ["project_id"]
            isOneToOne: false
            referencedRelation: "managed_service_projects"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "managed_service_tasks_timeline_id_fkey"
            columns: ["timeline_id"]
            isOneToOne: false
            referencedRelation: "managed_service_timelines"
            referencedColumns: ["id"]
          },
        ]
      }
      managed_service_timelines: {
        Row: {
          actual_end_date: string | null
          completion_percentage: number | null
          created_at: string | null
          deliverables: Json
          description: string
          id: string
          key_activities: Json
          notes: string | null
          phase_name: string
          phase_number: number
          planned_end_date: string
          project_id: string
          start_date: string
          status: string
          updated_at: string | null
        }
        Insert: {
          actual_end_date?: string | null
          completion_percentage?: number | null
          created_at?: string | null
          deliverables: Json
          description: string
          id?: string
          key_activities: Json
          notes?: string | null
          phase_name: string
          phase_number: number
          planned_end_date: string
          project_id: string
          start_date: string
          status?: string
          updated_at?: string | null
        }
        Update: {
          actual_end_date?: string | null
          completion_percentage?: number | null
          created_at?: string | null
          deliverables?: Json
          description?: string
          id?: string
          key_activities?: Json
          notes?: string | null
          phase_name?: string
          phase_number?: number
          planned_end_date?: string
          project_id?: string
          start_date?: string
          status?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "managed_service_timelines_project_id_fkey"
            columns: ["project_id"]
            isOneToOne: false
            referencedRelation: "managed_service_projects"
            referencedColumns: ["id"]
          },
        ]
      }
      mandate_change_logs: {
        Row: {
          change_type: string
          changed_by: string
          created_at: string
          id: string
          mandate_id: string | null
          new_value: Json | null
          previous_value: Json | null
          reason: string | null
          was_previewed: boolean | null
        }
        Insert: {
          change_type: string
          changed_by: string
          created_at?: string
          id?: string
          mandate_id?: string | null
          new_value?: Json | null
          previous_value?: Json | null
          reason?: string | null
          was_previewed?: boolean | null
        }
        Update: {
          change_type?: string
          changed_by?: string
          created_at?: string
          id?: string
          mandate_id?: string | null
          new_value?: Json | null
          previous_value?: Json | null
          reason?: string | null
          was_previewed?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "mandate_change_logs_mandate_id_fkey"
            columns: ["mandate_id"]
            isOneToOne: false
            referencedRelation: "agent_mandates"
            referencedColumns: ["id"]
          },
        ]
      }
      market_baselines: {
        Row: {
          aggregated_value: number
          confidence: number
          created_at: string
          id: string
          metadata: Json | null
          metric: string
          period_end: string
          period_start: string
          region_id: string | null
          sample_size: number
        }
        Insert: {
          aggregated_value: number
          confidence: number
          created_at?: string
          id?: string
          metadata?: Json | null
          metric: string
          period_end: string
          period_start: string
          region_id?: string | null
          sample_size: number
        }
        Update: {
          aggregated_value?: number
          confidence?: number
          created_at?: string
          id?: string
          metadata?: Json | null
          metric?: string
          period_end?: string
          period_start?: string
          region_id?: string | null
          sample_size?: number
        }
        Relationships: [
          {
            foreignKeyName: "market_baselines_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
        ]
      }
      market_trends: {
        Row: {
          confidence_band: string
          created_at: string
          direction: string
          id: string
          magnitude: number | null
          region_id: string | null
          trend_type: string
          trend_vector: Json
          uncertainty_notes: string | null
        }
        Insert: {
          confidence_band: string
          created_at?: string
          direction: string
          id?: string
          magnitude?: number | null
          region_id?: string | null
          trend_type: string
          trend_vector: Json
          uncertainty_notes?: string | null
        }
        Update: {
          confidence_band?: string
          created_at?: string
          direction?: string
          id?: string
          magnitude?: number | null
          region_id?: string | null
          trend_type?: string
          trend_vector?: Json
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "market_trends_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
        ]
      }
      marketing_assets: {
        Row: {
          asset_type: string
          campaign_id: string
          content: Json
          created_at: string | null
          id: string
          metadata: Json | null
        }
        Insert: {
          asset_type: string
          campaign_id: string
          content: Json
          created_at?: string | null
          id?: string
          metadata?: Json | null
        }
        Update: {
          asset_type?: string
          campaign_id?: string
          content?: Json
          created_at?: string | null
          id?: string
          metadata?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "marketing_assets_campaign_fk"
            columns: ["campaign_id"]
            isOneToOne: false
            referencedRelation: "marketing_campaigns"
            referencedColumns: ["id"]
          },
        ]
      }
      marketing_campaigns: {
        Row: {
          campaign_type: string
          created_at: string | null
          id: string
          objective: string
          org_id: string
          performance: Json | null
          status: string
        }
        Insert: {
          campaign_type: string
          created_at?: string | null
          id?: string
          objective: string
          org_id: string
          performance?: Json | null
          status?: string
        }
        Update: {
          campaign_type?: string
          created_at?: string | null
          id?: string
          objective?: string
          org_id?: string
          performance?: Json | null
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "marketing_campaigns_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      marketing_funnel_blueprints: {
        Row: {
          created_at: string
          description: string | null
          id: string
          industry: string | null
          is_template: boolean | null
          name: string
          persona: string | null
          stages: Json
          template_type: string
          updated_at: string
          workspace_id: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          industry?: string | null
          is_template?: boolean | null
          name: string
          persona?: string | null
          stages?: Json
          template_type: string
          updated_at?: string
          workspace_id: string
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          industry?: string | null
          is_template?: boolean | null
          name?: string
          persona?: string | null
          stages?: Json
          template_type?: string
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "marketing_funnel_blueprints_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      marketing_personas: {
        Row: {
          contact_id: string
          created_at: string | null
          demographics: Json | null
          description: string | null
          goals: string[] | null
          id: string
          is_active: boolean | null
          pain_points: string[] | null
          persona_name: string
          preferred_channels: string[] | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          contact_id: string
          created_at?: string | null
          demographics?: Json | null
          description?: string | null
          goals?: string[] | null
          id?: string
          is_active?: boolean | null
          pain_points?: string[] | null
          persona_name: string
          preferred_channels?: string[] | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          contact_id?: string
          created_at?: string | null
          demographics?: Json | null
          description?: string | null
          goals?: string[] | null
          id?: string
          is_active?: boolean | null
          pain_points?: string[] | null
          persona_name?: string
          preferred_channels?: string[] | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "marketing_personas_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "marketing_personas_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      marketing_strategies: {
        Row: {
          brand_positioning: Json | null
          budget_allocation: Json | null
          contact_id: string
          content_pillars: Json | null
          created_at: string | null
          full_strategy: Json | null
          id: string
          is_active: boolean | null
          kpis: Json | null
          objectives: string[] | null
          posting_frequency: Json | null
          risks: Json | null
          strategy_title: string
          target_platforms: string[] | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          brand_positioning?: Json | null
          budget_allocation?: Json | null
          contact_id: string
          content_pillars?: Json | null
          created_at?: string | null
          full_strategy?: Json | null
          id?: string
          is_active?: boolean | null
          kpis?: Json | null
          objectives?: string[] | null
          posting_frequency?: Json | null
          risks?: Json | null
          strategy_title: string
          target_platforms?: string[] | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          brand_positioning?: Json | null
          budget_allocation?: Json | null
          contact_id?: string
          content_pillars?: Json | null
          created_at?: string | null
          full_strategy?: Json | null
          id?: string
          is_active?: boolean | null
          kpis?: Json | null
          objectives?: string[] | null
          posting_frequency?: Json | null
          risks?: Json | null
          strategy_title?: string
          target_platforms?: string[] | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "marketing_strategies_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "marketing_strategies_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      mcse_cognitive_events: {
        Row: {
          created_at: string | null
          hallucination_score: number
          id: string
          logic_score: number
          original_plan: Json | null
          recommended_action: string
          risk_flags: Json | null
          sanitised_plan: Json | null
          source: string
          tenant_id: string
        }
        Insert: {
          created_at?: string | null
          hallucination_score?: number
          id?: string
          logic_score?: number
          original_plan?: Json | null
          recommended_action?: string
          risk_flags?: Json | null
          sanitised_plan?: Json | null
          source: string
          tenant_id: string
        }
        Update: {
          created_at?: string | null
          hallucination_score?: number
          id?: string
          logic_score?: number
          original_plan?: Json | null
          recommended_action?: string
          risk_flags?: Json | null
          sanitised_plan?: Json | null
          source?: string
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "mcse_cognitive_events_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      mcse_policy_rules: {
        Row: {
          created_at: string | null
          enabled: boolean
          id: string
          parameters: Json | null
          rule_name: string
          tenant_id: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          enabled?: boolean
          id?: string
          parameters?: Json | null
          rule_name: string
          tenant_id: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          enabled?: boolean
          id?: string
          parameters?: Json | null
          rule_name?: string
          tenant_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "mcse_policy_rules_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      media_files: {
        Row: {
          ai_analysis: Json | null
          ai_analyzed_at: string | null
          ai_model_used: string | null
          analyzed_at: string | null
          bitrate: number | null
          codec: string | null
          created_at: string
          deleted_at: string | null
          duration_seconds: number | null
          error_message: string | null
          file_size_bytes: number
          file_type: string
          filename: string
          fps: number | null
          full_text_search: unknown
          height: number | null
          id: string
          intelligence_analyzed: boolean | null
          mime_type: string
          org_id: string
          original_filename: string
          progress: number | null
          project_id: string | null
          public_url: string | null
          status: string
          storage_bucket: string
          storage_path: string
          tags: string[] | null
          transcribed_at: string | null
          transcript: Json | null
          transcript_confidence: number | null
          transcript_language: string | null
          updated_at: string
          uploaded_by: string
          width: number | null
          workspace_id: string
        }
        Insert: {
          ai_analysis?: Json | null
          ai_analyzed_at?: string | null
          ai_model_used?: string | null
          analyzed_at?: string | null
          bitrate?: number | null
          codec?: string | null
          created_at?: string
          deleted_at?: string | null
          duration_seconds?: number | null
          error_message?: string | null
          file_size_bytes: number
          file_type: string
          filename: string
          fps?: number | null
          full_text_search?: unknown
          height?: number | null
          id?: string
          intelligence_analyzed?: boolean | null
          mime_type: string
          org_id: string
          original_filename: string
          progress?: number | null
          project_id?: string | null
          public_url?: string | null
          status?: string
          storage_bucket?: string
          storage_path: string
          tags?: string[] | null
          transcribed_at?: string | null
          transcript?: Json | null
          transcript_confidence?: number | null
          transcript_language?: string | null
          updated_at?: string
          uploaded_by: string
          width?: number | null
          workspace_id: string
        }
        Update: {
          ai_analysis?: Json | null
          ai_analyzed_at?: string | null
          ai_model_used?: string | null
          analyzed_at?: string | null
          bitrate?: number | null
          codec?: string | null
          created_at?: string
          deleted_at?: string | null
          duration_seconds?: number | null
          error_message?: string | null
          file_size_bytes?: number
          file_type?: string
          filename?: string
          fps?: number | null
          full_text_search?: unknown
          height?: number | null
          id?: string
          intelligence_analyzed?: boolean | null
          mime_type?: string
          org_id?: string
          original_filename?: string
          progress?: number | null
          project_id?: string | null
          public_url?: string | null
          status?: string
          storage_bucket?: string
          storage_path?: string
          tags?: string[] | null
          transcribed_at?: string | null
          transcript?: Json | null
          transcript_confidence?: number | null
          transcript_language?: string | null
          updated_at?: string
          uploaded_by?: string
          width?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "media_files_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "media_files_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      media_transcriptions: {
        Row: {
          confidence_score: number | null
          created_at: string | null
          full_transcript: string
          id: string
          language: string | null
          media_upload_id: string
          processing_time_seconds: number | null
          segments: Json | null
          transcription_service: string | null
          updated_at: string | null
          word_count: number | null
        }
        Insert: {
          confidence_score?: number | null
          created_at?: string | null
          full_transcript: string
          id?: string
          language?: string | null
          media_upload_id: string
          processing_time_seconds?: number | null
          segments?: Json | null
          transcription_service?: string | null
          updated_at?: string | null
          word_count?: number | null
        }
        Update: {
          confidence_score?: number | null
          created_at?: string | null
          full_transcript?: string
          id?: string
          language?: string | null
          media_upload_id?: string
          processing_time_seconds?: number | null
          segments?: Json | null
          transcription_service?: string | null
          updated_at?: string | null
          word_count?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "media_transcriptions_media_upload_id_fkey"
            columns: ["media_upload_id"]
            isOneToOne: false
            referencedRelation: "client_media_uploads"
            referencedColumns: ["id"]
          },
        ]
      }
      memory_compressed_packets: {
        Row: {
          compressed_body: Json
          compression_ratio: number | null
          confidence: number
          created_at: string
          dropped_signals: number
          id: string
          loss_notes: string
          region_scope: string | null
          source_type: string
          tenant_scope: string | null
        }
        Insert: {
          compressed_body: Json
          compression_ratio?: number | null
          confidence: number
          created_at?: string
          dropped_signals?: number
          id?: string
          loss_notes: string
          region_scope?: string | null
          source_type: string
          tenant_scope?: string | null
        }
        Update: {
          compressed_body?: Json
          compression_ratio?: number | null
          confidence?: number
          created_at?: string
          dropped_signals?: number
          id?: string
          loss_notes?: string
          region_scope?: string | null
          source_type?: string
          tenant_scope?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "memory_compressed_packets_region_scope_fkey"
            columns: ["region_scope"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "memory_compressed_packets_tenant_scope_fkey"
            columns: ["tenant_scope"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      memory_consolidation_log: {
        Row: {
          consolidated_payload: Json
          created_at: string | null
          id: string
          items_consolidated: number
          source_scope: string
          summary_hint: string | null
          topic: string
        }
        Insert: {
          consolidated_payload: Json
          created_at?: string | null
          id?: string
          items_consolidated: number
          source_scope: string
          summary_hint?: string | null
          topic: string
        }
        Update: {
          consolidated_payload?: Json
          created_at?: string | null
          id?: string
          items_consolidated?: number
          source_scope?: string
          summary_hint?: string | null
          topic?: string
        }
        Relationships: []
      }
      memory_spine_links: {
        Row: {
          created_at: string
          id: string
          link_metadata: Json
          source_id: string
          source_type: string
          target_id: string
          target_type: string
          tenant_id: string | null
        }
        Insert: {
          created_at?: string
          id?: string
          link_metadata?: Json
          source_id: string
          source_type: string
          target_id: string
          target_type: string
          tenant_id?: string | null
        }
        Update: {
          created_at?: string
          id?: string
          link_metadata?: Json
          source_id?: string
          source_type?: string
          target_id?: string
          target_type?: string
          tenant_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "memory_spine_links_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      meta_reasoner_decisions: {
        Row: {
          confidence: number
          created_at: string | null
          focus_areas: string[]
          id: string
          next_review_in: number
          priority: string
          recommended_actions: string[]
          risk_level: string
          system_status: string
        }
        Insert: {
          confidence: number
          created_at?: string | null
          focus_areas: string[]
          id?: string
          next_review_in: number
          priority: string
          recommended_actions: string[]
          risk_level: string
          system_status: string
        }
        Update: {
          confidence?: number
          created_at?: string | null
          focus_areas?: string[]
          id?: string
          next_review_in?: number
          priority?: string
          recommended_actions?: string[]
          risk_level?: string
          system_status?: string
        }
        Relationships: []
      }
      mindmap_connections: {
        Row: {
          connection_type: string
          created_at: string | null
          id: string
          label: string | null
          mindmap_id: string
          source_node_id: string
          strength: number
          target_node_id: string
        }
        Insert: {
          connection_type?: string
          created_at?: string | null
          id?: string
          label?: string | null
          mindmap_id: string
          source_node_id: string
          strength?: number
          target_node_id: string
        }
        Update: {
          connection_type?: string
          created_at?: string | null
          id?: string
          label?: string | null
          mindmap_id?: string
          source_node_id?: string
          strength?: number
          target_node_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "mindmap_connections_mindmap_id_fkey"
            columns: ["mindmap_id"]
            isOneToOne: false
            referencedRelation: "project_mindmaps"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mindmap_connections_source_node_id_fkey"
            columns: ["source_node_id"]
            isOneToOne: false
            referencedRelation: "mindmap_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mindmap_connections_target_node_id_fkey"
            columns: ["target_node_id"]
            isOneToOne: false
            referencedRelation: "mindmap_nodes"
            referencedColumns: ["id"]
          },
        ]
      }
      mindmap_nodes: {
        Row: {
          ai_generated: boolean
          color: string | null
          created_at: string | null
          description: string | null
          icon: string | null
          id: string
          label: string
          metadata: Json | null
          mindmap_id: string
          node_type: string
          parent_id: string | null
          position_x: number
          position_y: number
          priority: number
          status: string
          updated_at: string | null
        }
        Insert: {
          ai_generated?: boolean
          color?: string | null
          created_at?: string | null
          description?: string | null
          icon?: string | null
          id?: string
          label: string
          metadata?: Json | null
          mindmap_id: string
          node_type: string
          parent_id?: string | null
          position_x?: number
          position_y?: number
          priority?: number
          status?: string
          updated_at?: string | null
        }
        Update: {
          ai_generated?: boolean
          color?: string | null
          created_at?: string | null
          description?: string | null
          icon?: string | null
          id?: string
          label?: string
          metadata?: Json | null
          mindmap_id?: string
          node_type?: string
          parent_id?: string | null
          position_x?: number
          position_y?: number
          priority?: number
          status?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "mindmap_nodes_mindmap_id_fkey"
            columns: ["mindmap_id"]
            isOneToOne: false
            referencedRelation: "project_mindmaps"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mindmap_nodes_parent_id_fkey"
            columns: ["parent_id"]
            isOneToOne: false
            referencedRelation: "mindmap_nodes"
            referencedColumns: ["id"]
          },
        ]
      }
      ml_model_metrics: {
        Row: {
          accuracy: number | null
          average_latency_ms: number | null
          created_at: string
          f1_score: number | null
          id: string
          max_latency_ms: number | null
          model_type: string
          model_version: string | null
          precision: number | null
          recall: number | null
          total_anomalies_found: number | null
          total_patterns_found: number | null
          total_samples: number | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          accuracy?: number | null
          average_latency_ms?: number | null
          created_at?: string
          f1_score?: number | null
          id?: string
          max_latency_ms?: number | null
          model_type: string
          model_version?: string | null
          precision?: number | null
          recall?: number | null
          total_anomalies_found?: number | null
          total_patterns_found?: number | null
          total_samples?: number | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          accuracy?: number | null
          average_latency_ms?: number | null
          created_at?: string
          f1_score?: number | null
          id?: string
          max_latency_ms?: number | null
          model_type?: string
          model_version?: string | null
          precision?: number | null
          recall?: number | null
          total_anomalies_found?: number | null
          total_patterns_found?: number | null
          total_samples?: number | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ml_model_metrics_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      model_capabilities: {
        Row: {
          availability_score: number
          capability: string
          cost_per_token: number
          created_at: string | null
          id: string
          last_tested_at: string | null
          latency_ms: number
          level: string
          model: string
          supports_batching: boolean | null
          supports_caching: boolean | null
          supports_streaming: boolean | null
        }
        Insert: {
          availability_score: number
          capability: string
          cost_per_token: number
          created_at?: string | null
          id?: string
          last_tested_at?: string | null
          latency_ms: number
          level: string
          model: string
          supports_batching?: boolean | null
          supports_caching?: boolean | null
          supports_streaming?: boolean | null
        }
        Update: {
          availability_score?: number
          capability?: string
          cost_per_token?: number
          created_at?: string | null
          id?: string
          last_tested_at?: string | null
          latency_ms?: number
          level?: string
          model?: string
          supports_batching?: boolean | null
          supports_caching?: boolean | null
          supports_streaming?: boolean | null
        }
        Relationships: []
      }
      model_rewards: {
        Row: {
          cost_score: number | null
          created_at: string | null
          id: string
          latency_score: number | null
          metadata: Json | null
          model_id: string
          overall_score: number | null
          quality_score: number | null
          task_type: string
        }
        Insert: {
          cost_score?: number | null
          created_at?: string | null
          id?: string
          latency_score?: number | null
          metadata?: Json | null
          model_id: string
          overall_score?: number | null
          quality_score?: number | null
          task_type: string
        }
        Update: {
          cost_score?: number | null
          created_at?: string | null
          id?: string
          latency_score?: number | null
          metadata?: Json | null
          model_id?: string
          overall_score?: number | null
          quality_score?: number | null
          task_type?: string
        }
        Relationships: []
      }
      model_routing_decisions: {
        Row: {
          actual_cost: number | null
          actual_latency: number | null
          alternatives: string[] | null
          confidence_score: number | null
          created_at: string | null
          estimated_cost: number | null
          estimated_latency: number | null
          id: string
          request_id: string
          routing_reason: string | null
          selected_model: string
          success: boolean | null
        }
        Insert: {
          actual_cost?: number | null
          actual_latency?: number | null
          alternatives?: string[] | null
          confidence_score?: number | null
          created_at?: string | null
          estimated_cost?: number | null
          estimated_latency?: number | null
          id?: string
          request_id: string
          routing_reason?: string | null
          selected_model: string
          success?: boolean | null
        }
        Update: {
          actual_cost?: number | null
          actual_latency?: number | null
          alternatives?: string[] | null
          confidence_score?: number | null
          created_at?: string | null
          estimated_cost?: number | null
          estimated_latency?: number | null
          id?: string
          request_id?: string
          routing_reason?: string | null
          selected_model?: string
          success?: boolean | null
        }
        Relationships: []
      }
      narrative_snapshots: {
        Row: {
          confidence: number
          created_at: string
          id: string
          region_id: string | null
          scope: string
          story_body: Json
          supporting_signals: Json
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          confidence: number
          created_at?: string
          id?: string
          region_id?: string | null
          scope: string
          story_body: Json
          supporting_signals?: Json
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number
          created_at?: string
          id?: string
          region_id?: string | null
          scope?: string
          story_body?: Json
          supporting_signals?: Json
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "narrative_snapshots_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "narrative_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      navigator_insights: {
        Row: {
          category: string
          confidence_band: string
          created_at: string
          detail: Json
          id: string
          priority: number
          snapshot_id: string
          source_signals: Json | null
          title: string
          uncertainty_notes: string | null
        }
        Insert: {
          category: string
          confidence_band: string
          created_at?: string
          detail: Json
          id?: string
          priority?: number
          snapshot_id: string
          source_signals?: Json | null
          title: string
          uncertainty_notes?: string | null
        }
        Update: {
          category?: string
          confidence_band?: string
          created_at?: string
          detail?: Json
          id?: string
          priority?: number
          snapshot_id?: string
          source_signals?: Json | null
          title?: string
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "navigator_insights_snapshot_id_fkey"
            columns: ["snapshot_id"]
            isOneToOne: false
            referencedRelation: "navigator_snapshots"
            referencedColumns: ["id"]
          },
        ]
      }
      navigator_snapshots: {
        Row: {
          action_suggestions: Json | null
          confidence: number
          created_at: string
          id: string
          metadata: Json | null
          priority_map: Json
          region_id: string | null
          summary: Json
          tenant_id: string | null
        }
        Insert: {
          action_suggestions?: Json | null
          confidence: number
          created_at?: string
          id?: string
          metadata?: Json | null
          priority_map?: Json
          region_id?: string | null
          summary: Json
          tenant_id?: string | null
        }
        Update: {
          action_suggestions?: Json | null
          confidence?: number
          created_at?: string
          id?: string
          metadata?: Json | null
          priority_map?: Json
          region_id?: string | null
          summary?: Json
          tenant_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "navigator_snapshots_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "navigator_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      negotiation_archives: {
        Row: {
          agent_participants: string[]
          conflicts_detected: number
          consensus_achieved: boolean
          consensus_percentage: number
          created_at: string
          decision_outcome: string
          id: number
          objective: string
          proposals_count: number
          record_id: string
          selected_action: string
          selected_agent: string
          session_id: string
          time_to_resolution: number
          transcript: string | null
          workspace_id: string
        }
        Insert: {
          agent_participants: string[]
          conflicts_detected: number
          consensus_achieved: boolean
          consensus_percentage: number
          created_at?: string
          decision_outcome: string
          id?: number
          objective: string
          proposals_count: number
          record_id: string
          selected_action: string
          selected_agent: string
          session_id: string
          time_to_resolution: number
          transcript?: string | null
          workspace_id: string
        }
        Update: {
          agent_participants?: string[]
          conflicts_detected?: number
          consensus_achieved?: boolean
          consensus_percentage?: number
          created_at?: string
          decision_outcome?: string
          id?: number
          objective?: string
          proposals_count?: number
          record_id?: string
          selected_action?: string
          selected_agent?: string
          session_id?: string
          time_to_resolution?: number
          transcript?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "negotiation_archives_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      negotiation_patterns: {
        Row: {
          avg_consensus_percentage: number | null
          avg_resolution_time: number | null
          created_at: string
          first_observed_at: string
          id: number
          key_insight: string | null
          last_observed_at: string
          occurrences: number
          participating_agents: string[] | null
          pattern_type: string
          primary_agent: string | null
          success_rate: number
          workspace_id: string
        }
        Insert: {
          avg_consensus_percentage?: number | null
          avg_resolution_time?: number | null
          created_at?: string
          first_observed_at?: string
          id?: number
          key_insight?: string | null
          last_observed_at?: string
          occurrences?: number
          participating_agents?: string[] | null
          pattern_type: string
          primary_agent?: string | null
          success_rate?: number
          workspace_id: string
        }
        Update: {
          avg_consensus_percentage?: number | null
          avg_resolution_time?: number | null
          created_at?: string
          first_observed_at?: string
          id?: number
          key_insight?: string | null
          last_observed_at?: string
          occurrences?: number
          participating_agents?: string[] | null
          pattern_type?: string
          primary_agent?: string | null
          success_rate?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "negotiation_patterns_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      negotiation_transcripts: {
        Row: {
          created_at: string
          id: number
          session_id: string
          transcript: string
          transcript_length: number
          workspace_id: string
        }
        Insert: {
          created_at?: string
          id?: number
          session_id: string
          transcript: string
          transcript_length: number
          workspace_id: string
        }
        Update: {
          created_at?: string
          id?: number
          session_id?: string
          transcript?: string
          transcript_length?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "negotiation_transcripts_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "agent_negotiation_sessions"
            referencedColumns: ["session_id"]
          },
          {
            foreignKeyName: "negotiation_transcripts_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      network_predictions: {
        Row: {
          confidence: number
          dimension: string
          evidence: Json | null
          generated_at: string | null
          id: string
          prediction: Json
        }
        Insert: {
          confidence?: number
          dimension: string
          evidence?: Json | null
          generated_at?: string | null
          id?: string
          prediction: Json
        }
        Update: {
          confidence?: number
          dimension?: string
          evidence?: Json | null
          generated_at?: string | null
          id?: string
          prediction?: Json
        }
        Relationships: []
      }
      oauth_states: {
        Row: {
          created_at: string | null
          expires_at: string
          id: string
          org_id: string
          provider: string
          state: string
          user_id: string
        }
        Insert: {
          created_at?: string | null
          expires_at: string
          id?: string
          org_id: string
          provider: string
          state: string
          user_id: string
        }
        Update: {
          created_at?: string | null
          expires_at?: string
          id?: string
          org_id?: string
          provider?: string
          state?: string
          user_id?: string
        }
        Relationships: []
      }
      oauth_tokens: {
        Row: {
          access_token: string
          created_at: string | null
          encrypted_access_token: string | null
          encrypted_refresh_token: string | null
          encryption_iv: string | null
          expires_at: string
          id: string
          metadata: Json | null
          provider: string
          refresh_token: string
          scopes: string[] | null
          updated_at: string | null
          user_id: string
          workspace_id: string
        }
        Insert: {
          access_token: string
          created_at?: string | null
          encrypted_access_token?: string | null
          encrypted_refresh_token?: string | null
          encryption_iv?: string | null
          expires_at: string
          id?: string
          metadata?: Json | null
          provider: string
          refresh_token: string
          scopes?: string[] | null
          updated_at?: string | null
          user_id: string
          workspace_id: string
        }
        Update: {
          access_token?: string
          created_at?: string | null
          encrypted_access_token?: string | null
          encrypted_refresh_token?: string | null
          encryption_iv?: string | null
          expires_at?: string
          id?: string
          metadata?: Json | null
          provider?: string
          refresh_token?: string
          scopes?: string[] | null
          updated_at?: string | null
          user_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "oauth_tokens_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      observability_anomalies: {
        Row: {
          created_at: string
          description: string
          detected_at: string
          id: string
          metrics: Json
          resolved: boolean
          resolved_at: string | null
          resolved_by: string | null
          route: string
          severity: string
          type: string
        }
        Insert: {
          created_at?: string
          description: string
          detected_at?: string
          id?: string
          metrics?: Json
          resolved?: boolean
          resolved_at?: string | null
          resolved_by?: string | null
          route: string
          severity: string
          type: string
        }
        Update: {
          created_at?: string
          description?: string
          detected_at?: string
          id?: string
          metrics?: Json
          resolved?: boolean
          resolved_at?: string | null
          resolved_by?: string | null
          route?: string
          severity?: string
          type?: string
        }
        Relationships: []
      }
      observability_health_snapshots: {
        Row: {
          availability_score: number
          created_at: string
          error_rate_score: number
          id: string
          latency_score: number
          metrics: Json
          overall_score: number
        }
        Insert: {
          availability_score: number
          created_at?: string
          error_rate_score: number
          id?: string
          latency_score: number
          metrics?: Json
          overall_score: number
        }
        Update: {
          availability_score?: number
          created_at?: string
          error_rate_score?: number
          id?: string
          latency_score?: number
          metrics?: Json
          overall_score?: number
        }
        Relationships: []
      }
      observability_logs: {
        Row: {
          created_at: string
          error_message: string | null
          error_stack: string | null
          id: string
          latency_ms: number
          method: string
          route_path: string
          status_code: number
          user_id: string | null
          workspace_id: string | null
        }
        Insert: {
          created_at?: string
          error_message?: string | null
          error_stack?: string | null
          id?: string
          latency_ms: number
          method: string
          route_path: string
          status_code: number
          user_id?: string | null
          workspace_id?: string | null
        }
        Update: {
          created_at?: string
          error_message?: string | null
          error_stack?: string | null
          id?: string
          latency_ms?: number
          method?: string
          route_path?: string
          status_code?: number
          user_id?: string | null
          workspace_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "observability_logs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      observability_route_baselines: {
        Row: {
          created_at: string
          error_rate: number
          id: string
          method: string
          p50_latency_ms: number
          p95_latency_ms: number
          p99_latency_ms: number
          route_path: string
          sample_count: number
          updated_at: string
        }
        Insert: {
          created_at?: string
          error_rate?: number
          id?: string
          method: string
          p50_latency_ms?: number
          p95_latency_ms?: number
          p99_latency_ms?: number
          route_path: string
          sample_count?: number
          updated_at?: string
        }
        Update: {
          created_at?: string
          error_rate?: number
          id?: string
          method?: string
          p50_latency_ms?: number
          p95_latency_ms?: number
          p99_latency_ms?: number
          route_path?: string
          sample_count?: number
          updated_at?: string
        }
        Relationships: []
      }
      offer_performance: {
        Row: {
          conversions: number
          id: string
          insights: Json | null
          offer_id: string
          period: string
          recorded_at: string | null
          revenue: number
          roi_score: number
        }
        Insert: {
          conversions?: number
          id?: string
          insights?: Json | null
          offer_id: string
          period: string
          recorded_at?: string | null
          revenue?: number
          roi_score?: number
        }
        Update: {
          conversions?: number
          id?: string
          insights?: Json | null
          offer_id?: string
          period?: string
          recorded_at?: string | null
          revenue?: number
          roi_score?: number
        }
        Relationships: [
          {
            foreignKeyName: "offer_performance_offer_fk"
            columns: ["offer_id"]
            isOneToOne: false
            referencedRelation: "commercial_offers"
            referencedColumns: ["id"]
          },
        ]
      }
      onboarding_progress: {
        Row: {
          completed_at: string | null
          completed_steps: number[] | null
          created_at: string | null
          current_step: number | null
          id: string
          last_activity_at: string | null
          skipped_steps: number[] | null
          started_at: string | null
          status: string | null
          step_data: Json | null
          template_id: string | null
          updated_at: string | null
          user_id: string
          workspace_id: string
        }
        Insert: {
          completed_at?: string | null
          completed_steps?: number[] | null
          created_at?: string | null
          current_step?: number | null
          id?: string
          last_activity_at?: string | null
          skipped_steps?: number[] | null
          started_at?: string | null
          status?: string | null
          step_data?: Json | null
          template_id?: string | null
          updated_at?: string | null
          user_id: string
          workspace_id: string
        }
        Update: {
          completed_at?: string | null
          completed_steps?: number[] | null
          created_at?: string | null
          current_step?: number | null
          id?: string
          last_activity_at?: string | null
          skipped_steps?: number[] | null
          started_at?: string | null
          status?: string | null
          step_data?: Json | null
          template_id?: string | null
          updated_at?: string | null
          user_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "onboarding_progress_template_id_fkey"
            columns: ["template_id"]
            isOneToOne: false
            referencedRelation: "onboarding_templates"
            referencedColumns: ["id"]
          },
        ]
      }
      onboarding_steps: {
        Row: {
          content: Json | null
          created_at: string | null
          description: string | null
          estimated_minutes: number | null
          id: string
          is_required: boolean | null
          is_skippable: boolean | null
          step_number: number
          step_type: string
          template_id: string | null
          title: string
          updated_at: string | null
        }
        Insert: {
          content?: Json | null
          created_at?: string | null
          description?: string | null
          estimated_minutes?: number | null
          id?: string
          is_required?: boolean | null
          is_skippable?: boolean | null
          step_number: number
          step_type?: string
          template_id?: string | null
          title: string
          updated_at?: string | null
        }
        Update: {
          content?: Json | null
          created_at?: string | null
          description?: string | null
          estimated_minutes?: number | null
          id?: string
          is_required?: boolean | null
          is_skippable?: boolean | null
          step_number?: number
          step_type?: string
          template_id?: string | null
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "onboarding_steps_template_id_fkey"
            columns: ["template_id"]
            isOneToOne: false
            referencedRelation: "onboarding_templates"
            referencedColumns: ["id"]
          },
        ]
      }
      onboarding_templates: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          is_active: boolean | null
          name: string
          steps: Json
          target_role: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean | null
          name: string
          steps?: Json
          target_role?: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean | null
          name?: string
          steps?: Json
          target_role?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      operational_expenses: {
        Row: {
          amount: number
          api_endpoint: string | null
          client_id: string | null
          created_at: string | null
          description: string | null
          expense_type: string
          id: string
          metadata: Json | null
          organization_id: string
          request_id: string | null
          synced_to_xero: boolean | null
          tokens_used: number | null
          workspace_id: string
          xero_bill_id: string | null
          xero_tenant_id: string | null
        }
        Insert: {
          amount: number
          api_endpoint?: string | null
          client_id?: string | null
          created_at?: string | null
          description?: string | null
          expense_type: string
          id?: string
          metadata?: Json | null
          organization_id: string
          request_id?: string | null
          synced_to_xero?: boolean | null
          tokens_used?: number | null
          workspace_id: string
          xero_bill_id?: string | null
          xero_tenant_id?: string | null
        }
        Update: {
          amount?: number
          api_endpoint?: string | null
          client_id?: string | null
          created_at?: string | null
          description?: string | null
          expense_type?: string
          id?: string
          metadata?: Json | null
          organization_id?: string
          request_id?: string | null
          synced_to_xero?: boolean | null
          tokens_used?: number | null
          workspace_id?: string
          xero_bill_id?: string | null
          xero_tenant_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "operational_expenses_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "operational_expenses_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "operational_expenses_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      operator_coaching_prompts: {
        Row: {
          action_recommended: string | null
          confidence: number
          context_dashboards: Json
          created_at: string
          id: string
          is_acknowledged: boolean | null
          message: string
          prompt_type: string
          tenant_id: string | null
          uncertainty_notes: string | null
          user_id: string | null
        }
        Insert: {
          action_recommended?: string | null
          confidence: number
          context_dashboards?: Json
          created_at?: string
          id?: string
          is_acknowledged?: boolean | null
          message: string
          prompt_type: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
          user_id?: string | null
        }
        Update: {
          action_recommended?: string | null
          confidence?: number
          context_dashboards?: Json
          created_at?: string
          id?: string
          is_acknowledged?: boolean | null
          message?: string
          prompt_type?: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "operator_coaching_prompts_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      opportunity_signals: {
        Row: {
          created_at: string
          id: string
          opportunity_id: string
          signal_label: string | null
          signal_type: string
          signal_value: number
          source_node_id: string | null
          weight: number
        }
        Insert: {
          created_at?: string
          id?: string
          opportunity_id: string
          signal_label?: string | null
          signal_type: string
          signal_value: number
          source_node_id?: string | null
          weight?: number
        }
        Update: {
          created_at?: string
          id?: string
          opportunity_id?: string
          signal_label?: string | null
          signal_type?: string
          signal_value?: number
          source_node_id?: string | null
          weight?: number
        }
        Relationships: [
          {
            foreignKeyName: "opportunity_signals_opportunity_id_fkey"
            columns: ["opportunity_id"]
            isOneToOne: false
            referencedRelation: "opportunity_windows"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "opportunity_signals_source_node_id_fkey"
            columns: ["source_node_id"]
            isOneToOne: false
            referencedRelation: "intelligence_nodes"
            referencedColumns: ["id"]
          },
        ]
      }
      opportunity_windows: {
        Row: {
          client_id: string | null
          confidence: number
          created_at: string
          description: string
          expires_at: string | null
          id: string
          opportunity_category: string
          region_id: string | null
          status: string
          supporting_nodes: Json
          tenant_id: string | null
          title: string
          uncertainty_notes: string
          updated_at: string
          window_type: string
        }
        Insert: {
          client_id?: string | null
          confidence: number
          created_at?: string
          description: string
          expires_at?: string | null
          id?: string
          opportunity_category: string
          region_id?: string | null
          status?: string
          supporting_nodes?: Json
          tenant_id?: string | null
          title: string
          uncertainty_notes: string
          updated_at?: string
          window_type: string
        }
        Update: {
          client_id?: string | null
          confidence?: number
          created_at?: string
          description?: string
          expires_at?: string | null
          id?: string
          opportunity_category?: string
          region_id?: string | null
          status?: string
          supporting_nodes?: Json
          tenant_id?: string | null
          title?: string
          uncertainty_notes?: string
          updated_at?: string
          window_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "opportunity_windows_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "opportunity_windows_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "opportunity_windows_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      optimization_runs: {
        Row: {
          auto_tuner_applied: boolean | null
          changes: Json
          created_at: string | null
          id: string
          suggestions: Json
        }
        Insert: {
          auto_tuner_applied?: boolean | null
          changes: Json
          created_at?: string | null
          id?: string
          suggestions: Json
        }
        Update: {
          auto_tuner_applied?: boolean | null
          changes?: Json
          created_at?: string | null
          id?: string
          suggestions?: Json
        }
        Relationships: []
      }
      orchestrator_runs: {
        Row: {
          completed_at: string | null
          entrypoint: string
          error_summary: string | null
          id: string
          initiator_id: string | null
          initiator_type: string
          org_id: string
          plan: Json | null
          started_at: string | null
          status: string
        }
        Insert: {
          completed_at?: string | null
          entrypoint: string
          error_summary?: string | null
          id?: string
          initiator_id?: string | null
          initiator_type: string
          org_id: string
          plan?: Json | null
          started_at?: string | null
          status?: string
        }
        Update: {
          completed_at?: string | null
          entrypoint?: string
          error_summary?: string | null
          id?: string
          initiator_id?: string | null
          initiator_type?: string
          org_id?: string
          plan?: Json | null
          started_at?: string | null
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "orchestrator_runs_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      orchestrator_signals: {
        Row: {
          created_at: string | null
          id: string
          message: string
          metadata: Json | null
          resolution_notes: string | null
          resolved: boolean | null
          resolved_at: string | null
          severity: number
          signal_type: string
          task_id: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          message: string
          metadata?: Json | null
          resolution_notes?: string | null
          resolved?: boolean | null
          resolved_at?: string | null
          severity: number
          signal_type: string
          task_id: string
        }
        Update: {
          created_at?: string | null
          id?: string
          message?: string
          metadata?: Json | null
          resolution_notes?: string | null
          resolved?: boolean | null
          resolved_at?: string | null
          severity?: number
          signal_type?: string
          task_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "orchestrator_signals_task_id_fkey"
            columns: ["task_id"]
            isOneToOne: false
            referencedRelation: "orchestrator_tasks"
            referencedColumns: ["id"]
          },
        ]
      }
      orchestrator_steps: {
        Row: {
          assigned_agent: string
          completed_at: string | null
          confidence_score: number | null
          created_at: string | null
          error_message: string | null
          id: string
          input_context: Json
          memory_created: string[] | null
          memory_used: string[] | null
          metadata: Json | null
          output_payload: Json | null
          processing_time_ms: number | null
          risk_score: number | null
          status: string
          step_index: number
          task_id: string
          token_count: number | null
          uncertainty_score: number | null
        }
        Insert: {
          assigned_agent: string
          completed_at?: string | null
          confidence_score?: number | null
          created_at?: string | null
          error_message?: string | null
          id?: string
          input_context: Json
          memory_created?: string[] | null
          memory_used?: string[] | null
          metadata?: Json | null
          output_payload?: Json | null
          processing_time_ms?: number | null
          risk_score?: number | null
          status?: string
          step_index: number
          task_id: string
          token_count?: number | null
          uncertainty_score?: number | null
        }
        Update: {
          assigned_agent?: string
          completed_at?: string | null
          confidence_score?: number | null
          created_at?: string | null
          error_message?: string | null
          id?: string
          input_context?: Json
          memory_created?: string[] | null
          memory_used?: string[] | null
          metadata?: Json | null
          output_payload?: Json | null
          processing_time_ms?: number | null
          risk_score?: number | null
          status?: string
          step_index?: number
          task_id?: string
          token_count?: number | null
          uncertainty_score?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "orchestrator_steps_task_id_fkey"
            columns: ["task_id"]
            isOneToOne: false
            referencedRelation: "orchestrator_tasks"
            referencedColumns: ["id"]
          },
        ]
      }
      orchestrator_tasks: {
        Row: {
          agent_chain: string[]
          approver_user_id: string | null
          completed_at: string | null
          confidence_score: number | null
          created_at: string | null
          description: string | null
          error_message: string | null
          final_output: Json | null
          id: string
          initiating_user_id: string | null
          metadata: Json | null
          objective: string
          priority: number | null
          risk_score: number | null
          status: string
          step_count: number | null
          uncertainty_score: number | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          agent_chain?: string[]
          approver_user_id?: string | null
          completed_at?: string | null
          confidence_score?: number | null
          created_at?: string | null
          description?: string | null
          error_message?: string | null
          final_output?: Json | null
          id?: string
          initiating_user_id?: string | null
          metadata?: Json | null
          objective: string
          priority?: number | null
          risk_score?: number | null
          status?: string
          step_count?: number | null
          uncertainty_score?: number | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          agent_chain?: string[]
          approver_user_id?: string | null
          completed_at?: string | null
          confidence_score?: number | null
          created_at?: string | null
          description?: string | null
          error_message?: string | null
          final_output?: Json | null
          id?: string
          initiating_user_id?: string | null
          metadata?: Json | null
          objective?: string
          priority?: number | null
          risk_score?: number | null
          status?: string
          step_count?: number | null
          uncertainty_score?: number | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "orchestrator_tasks_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      org_language_settings: {
        Row: {
          created_at: string | null
          default_content_language: string
          default_ui_language: string
          default_voice_language: string
          id: string
          org_id: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          default_content_language?: string
          default_ui_language?: string
          default_voice_language?: string
          id?: string
          org_id: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          default_content_language?: string
          default_ui_language?: string
          default_voice_language?: string
          id?: string
          org_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "org_language_settings_org_fk"
            columns: ["org_id"]
            isOneToOne: true
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      organization_invites: {
        Row: {
          accepted_at: string | null
          created_at: string | null
          email: string
          expires_at: string
          id: string
          invited_by: string
          org_id: string
          role: string
          token: string
        }
        Insert: {
          accepted_at?: string | null
          created_at?: string | null
          email: string
          expires_at: string
          id?: string
          invited_by: string
          org_id: string
          role?: string
          token: string
        }
        Update: {
          accepted_at?: string | null
          created_at?: string | null
          email?: string
          expires_at?: string
          id?: string
          invited_by?: string
          org_id?: string
          role?: string
          token?: string
        }
        Relationships: []
      }
      organizations: {
        Row: {
          created_at: string | null
          email: string | null
          id: string
          industry: string | null
          name: string
          owner_email: string | null
          phone: string | null
          plan: string
          status: string | null
          stripe_customer_id: string | null
          team_size: string | null
          trial_ends_at: string | null
          updated_at: string | null
          website: string | null
        }
        Insert: {
          created_at?: string | null
          email?: string | null
          id?: string
          industry?: string | null
          name: string
          owner_email?: string | null
          phone?: string | null
          plan?: string
          status?: string | null
          stripe_customer_id?: string | null
          team_size?: string | null
          trial_ends_at?: string | null
          updated_at?: string | null
          website?: string | null
        }
        Update: {
          created_at?: string | null
          email?: string | null
          id?: string
          industry?: string | null
          name?: string
          owner_email?: string | null
          phone?: string | null
          plan?: string
          status?: string | null
          stripe_customer_id?: string | null
          team_size?: string | null
          trial_ends_at?: string | null
          updated_at?: string | null
          website?: string | null
        }
        Relationships: []
      }
      pack_deliverables: {
        Row: {
          ai_generated: boolean | null
          approved_at: string | null
          approved_by: string | null
          content: Json | null
          created_at: string | null
          deliverable_type: string
          file_url: string | null
          id: string
          job_id: string | null
          notes: string | null
          pack_id: string
          preview_url: string | null
          requires_approval: boolean | null
          status: string
          title: string
          updated_at: string | null
        }
        Insert: {
          ai_generated?: boolean | null
          approved_at?: string | null
          approved_by?: string | null
          content?: Json | null
          created_at?: string | null
          deliverable_type: string
          file_url?: string | null
          id?: string
          job_id?: string | null
          notes?: string | null
          pack_id: string
          preview_url?: string | null
          requires_approval?: boolean | null
          status?: string
          title: string
          updated_at?: string | null
        }
        Update: {
          ai_generated?: boolean | null
          approved_at?: string | null
          approved_by?: string | null
          content?: Json | null
          created_at?: string | null
          deliverable_type?: string
          file_url?: string | null
          id?: string
          job_id?: string | null
          notes?: string | null
          pack_id?: string
          preview_url?: string | null
          requires_approval?: boolean | null
          status?: string
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "pack_deliverables_pack_id_fkey"
            columns: ["pack_id"]
            isOneToOne: false
            referencedRelation: "production_packs"
            referencedColumns: ["id"]
          },
        ]
      }
      pair_operator_sessions: {
        Row: {
          confidence_avg: number | null
          context: Json
          created_at: string
          ended_at: string | null
          id: string
          messages: Json
          suggestions_given: number | null
          tenant_id: string | null
          user_id: string
          vetoed_suggestions: number | null
        }
        Insert: {
          confidence_avg?: number | null
          context?: Json
          created_at?: string
          ended_at?: string | null
          id?: string
          messages?: Json
          suggestions_given?: number | null
          tenant_id?: string | null
          user_id: string
          vetoed_suggestions?: number | null
        }
        Update: {
          confidence_avg?: number | null
          context?: Json
          created_at?: string
          ended_at?: string | null
          id?: string
          messages?: Json
          suggestions_given?: number | null
          tenant_id?: string | null
          user_id?: string
          vetoed_suggestions?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "pair_operator_sessions_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      pair_operator_suggestions: {
        Row: {
          confidence: number
          content: string
          created_at: string
          id: string
          session_id: string | null
          suggestion_type: string
          uncertainty_notes: string | null
          veto_reason: string | null
          was_vetoed: boolean | null
        }
        Insert: {
          confidence: number
          content: string
          created_at?: string
          id?: string
          session_id?: string | null
          suggestion_type: string
          uncertainty_notes?: string | null
          veto_reason?: string | null
          was_vetoed?: boolean | null
        }
        Update: {
          confidence?: number
          content?: string
          created_at?: string
          id?: string
          session_id?: string | null
          suggestion_type?: string
          uncertainty_notes?: string | null
          veto_reason?: string | null
          was_vetoed?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "pair_operator_suggestions_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "pair_operator_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      parallel_phill_autonomy_decisions: {
        Row: {
          action_id: string
          action_type: string
          autonomy_level: string
          created_at: string | null
          execution_status: string
          explanation: string | null
          founder_approval: Json | null
          governance_check_passed: boolean | null
          id: string
          owner: string
          requires_approval: boolean | null
          risk_level: string
        }
        Insert: {
          action_id: string
          action_type: string
          autonomy_level: string
          created_at?: string | null
          execution_status: string
          explanation?: string | null
          founder_approval?: Json | null
          governance_check_passed?: boolean | null
          id?: string
          owner: string
          requires_approval?: boolean | null
          risk_level: string
        }
        Update: {
          action_id?: string
          action_type?: string
          autonomy_level?: string
          created_at?: string | null
          execution_status?: string
          explanation?: string | null
          founder_approval?: Json | null
          governance_check_passed?: boolean | null
          id?: string
          owner?: string
          requires_approval?: boolean | null
          risk_level?: string
        }
        Relationships: []
      }
      parallel_phill_cognitive_states: {
        Row: {
          cognitive_state: string
          created_at: string | null
          factors: Json
          id: string
          owner: string
          recommendations: Json | null
          score: number
          task_suitability: Json | null
        }
        Insert: {
          cognitive_state: string
          created_at?: string | null
          factors: Json
          id?: string
          owner: string
          recommendations?: Json | null
          score: number
          task_suitability?: Json | null
        }
        Update: {
          cognitive_state?: string
          created_at?: string | null
          factors?: Json
          id?: string
          owner?: string
          recommendations?: Json | null
          score?: number
          task_suitability?: Json | null
        }
        Relationships: []
      }
      parallel_phill_companion_events: {
        Row: {
          approved_by_founder: boolean | null
          briefing_data: Json | null
          content: Json
          created_at: string | null
          event_time: string
          event_type: string
          executed_at: string | null
          id: string
          owner: string
        }
        Insert: {
          approved_by_founder?: boolean | null
          briefing_data?: Json | null
          content: Json
          created_at?: string | null
          event_time: string
          event_type: string
          executed_at?: string | null
          id?: string
          owner: string
        }
        Update: {
          approved_by_founder?: boolean | null
          briefing_data?: Json | null
          content?: Json
          created_at?: string | null
          event_time?: string
          event_type?: string
          executed_at?: string | null
          id?: string
          owner?: string
        }
        Relationships: []
      }
      parallel_phill_life_signals: {
        Row: {
          confidence: number | null
          created_at: string | null
          id: string
          metadata: Json | null
          owner: string
          signal_type: string
          snapshot_timestamp: string
          source: string
          unit: string
          value: number
        }
        Insert: {
          confidence?: number | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          owner: string
          signal_type: string
          snapshot_timestamp: string
          source: string
          unit: string
          value: number
        }
        Update: {
          confidence?: number | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          owner?: string
          signal_type?: string
          snapshot_timestamp?: string
          source?: string
          unit?: string
          value?: number
        }
        Relationships: []
      }
      parallel_phill_thought_log: {
        Row: {
          action_items: Json | null
          advisor_routing: Json | null
          created_at: string | null
          domains: Json | null
          follow_up_date: string | null
          id: string
          input_method: string
          owner: string
          raw_input: string
          status: string
          tags: Json | null
          updated_at: string | null
          urgency: string
        }
        Insert: {
          action_items?: Json | null
          advisor_routing?: Json | null
          created_at?: string | null
          domains?: Json | null
          follow_up_date?: string | null
          id?: string
          input_method: string
          owner: string
          raw_input: string
          status: string
          tags?: Json | null
          updated_at?: string | null
          urgency: string
        }
        Update: {
          action_items?: Json | null
          advisor_routing?: Json | null
          created_at?: string | null
          domains?: Json | null
          follow_up_date?: string | null
          id?: string
          input_method?: string
          owner?: string
          raw_input?: string
          status?: string
          tags?: Json | null
          updated_at?: string | null
          urgency?: string
        }
        Relationships: []
      }
      pattern_bias_flags: {
        Row: {
          affected_groups: Json
          bias_type: string
          created_at: string
          description: string
          id: string
          pattern_id: string | null
          severity: string
        }
        Insert: {
          affected_groups?: Json
          bias_type: string
          created_at?: string
          description: string
          id?: string
          pattern_id?: string | null
          severity?: string
        }
        Update: {
          affected_groups?: Json
          bias_type?: string
          created_at?: string
          description?: string
          id?: string
          pattern_id?: string | null
          severity?: string
        }
        Relationships: []
      }
      pattern_library: {
        Row: {
          category: string
          conditions: Json | null
          confidence: number
          created_at: string
          description: string
          failure_reasons: Json | null
          guardrails: Json | null
          id: string
          is_success: boolean
          name: string
          success_context: Json | null
          tenant_id: string | null
          uncertainty_notes: string | null
          updated_at: string
          usage_count: number | null
        }
        Insert: {
          category: string
          conditions?: Json | null
          confidence: number
          created_at?: string
          description: string
          failure_reasons?: Json | null
          guardrails?: Json | null
          id?: string
          is_success: boolean
          name: string
          success_context?: Json | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
          updated_at?: string
          usage_count?: number | null
        }
        Update: {
          category?: string
          conditions?: Json | null
          confidence?: number
          created_at?: string
          description?: string
          failure_reasons?: Json | null
          guardrails?: Json | null
          id?: string
          is_success?: boolean
          name?: string
          success_context?: Json | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
          updated_at?: string
          usage_count?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "pattern_library_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      pattern_submissions: {
        Row: {
          anonymisation_level: number
          created_at: string
          id: string
          pattern_catalog_id: string | null
          submission_hash: string
        }
        Insert: {
          anonymisation_level: number
          created_at?: string
          id?: string
          pattern_catalog_id?: string | null
          submission_hash: string
        }
        Update: {
          anonymisation_level?: number
          created_at?: string
          id?: string
          pattern_catalog_id?: string | null
          submission_hash?: string
        }
        Relationships: [
          {
            foreignKeyName: "pattern_submissions_pattern_catalog_id_fkey"
            columns: ["pattern_catalog_id"]
            isOneToOne: false
            referencedRelation: "global_pattern_catalog"
            referencedColumns: ["id"]
          },
        ]
      }
      payment_methods: {
        Row: {
          bank_last4: string | null
          bank_name: string | null
          billing_address: Json | null
          billing_email: string | null
          billing_name: string | null
          card_brand: string | null
          card_exp_month: number | null
          card_exp_year: number | null
          card_fingerprint: string | null
          card_last4: string | null
          created_at: string | null
          id: string
          is_default: boolean | null
          metadata: Json | null
          org_id: string
          stripe_customer_id: string | null
          stripe_payment_method_id: string
          type: string
          updated_at: string | null
        }
        Insert: {
          bank_last4?: string | null
          bank_name?: string | null
          billing_address?: Json | null
          billing_email?: string | null
          billing_name?: string | null
          card_brand?: string | null
          card_exp_month?: number | null
          card_exp_year?: number | null
          card_fingerprint?: string | null
          card_last4?: string | null
          created_at?: string | null
          id?: string
          is_default?: boolean | null
          metadata?: Json | null
          org_id: string
          stripe_customer_id?: string | null
          stripe_payment_method_id: string
          type: string
          updated_at?: string | null
        }
        Update: {
          bank_last4?: string | null
          bank_name?: string | null
          billing_address?: Json | null
          billing_email?: string | null
          billing_name?: string | null
          card_brand?: string | null
          card_exp_month?: number | null
          card_exp_year?: number | null
          card_fingerprint?: string | null
          card_last4?: string | null
          created_at?: string | null
          id?: string
          is_default?: boolean | null
          metadata?: Json | null
          org_id?: string
          stripe_customer_id?: string | null
          stripe_payment_method_id?: string
          type?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "payment_methods_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      performance_attribution_factors: {
        Row: {
          active: boolean
          created_at: string
          default_weight: number
          description: string
          id: string
          metadata: Json
          name: string
          updated_at: string
        }
        Insert: {
          active?: boolean
          created_at?: string
          default_weight: number
          description: string
          id?: string
          metadata?: Json
          name: string
          updated_at?: string
        }
        Update: {
          active?: boolean
          created_at?: string
          default_weight?: number
          description?: string
          id?: string
          metadata?: Json
          name?: string
          updated_at?: string
        }
        Relationships: []
      }
      performance_external_signals: {
        Row: {
          created_at: string
          description: string
          ends_at: string
          id: string
          impact_hint: Json
          region: string | null
          signal_type: string
          source: string
          starts_at: string
          title: string
        }
        Insert: {
          created_at?: string
          description: string
          ends_at: string
          id?: string
          impact_hint?: Json
          region?: string | null
          signal_type: string
          source: string
          starts_at: string
          title: string
        }
        Update: {
          created_at?: string
          description?: string
          ends_at?: string
          id?: string
          impact_hint?: Json
          region?: string | null
          signal_type?: string
          source?: string
          starts_at?: string
          title?: string
        }
        Relationships: []
      }
      performance_logs: {
        Row: {
          created_at: string | null
          duration_ms: number
          id: string
          is_slow: boolean | null
          metadata: Json | null
          method: string | null
          metric_type: string
          operation: string
          route: string | null
          status_code: number | null
          user_id: string | null
          workspace_id: string | null
        }
        Insert: {
          created_at?: string | null
          duration_ms: number
          id?: string
          is_slow?: boolean | null
          metadata?: Json | null
          method?: string | null
          metric_type: string
          operation: string
          route?: string | null
          status_code?: number | null
          user_id?: string | null
          workspace_id?: string | null
        }
        Update: {
          created_at?: string | null
          duration_ms?: number
          id?: string
          is_slow?: boolean | null
          metadata?: Json | null
          method?: string | null
          metric_type?: string
          operation?: string
          route?: string | null
          status_code?: number | null
          user_id?: string | null
          workspace_id?: string | null
        }
        Relationships: []
      }
      performance_normalization_snapshots: {
        Row: {
          adjusted_metrics: Json
          confidence: number
          created_at: string
          id: string
          normalization_factors: Json
          raw_metrics: Json
          region_id: string | null
          scope: string
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          adjusted_metrics: Json
          confidence: number
          created_at?: string
          id?: string
          normalization_factors: Json
          raw_metrics: Json
          region_id?: string | null
          scope: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          adjusted_metrics?: Json
          confidence?: number
          created_at?: string
          id?: string
          normalization_factors?: Json
          raw_metrics?: Json
          region_id?: string | null
          scope?: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "performance_normalization_snapshots_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "performance_normalization_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      performance_reality_snapshots: {
        Row: {
          attribution_json: Json
          campaign_id: string | null
          channel: string | null
          client_id: string | null
          confidence_high: number
          confidence_low: number
          created_at: string
          created_by_user_id: string | null
          external_context_json: Json
          false_negative_risk: number
          false_positive_risk: number
          id: string
          perceived_performance_score: number
          scope: string
          summary_markdown: string
          tenant_id: string | null
          timeframe_end: string
          timeframe_start: string
          true_performance_score: number
        }
        Insert: {
          attribution_json?: Json
          campaign_id?: string | null
          channel?: string | null
          client_id?: string | null
          confidence_high: number
          confidence_low: number
          created_at?: string
          created_by_user_id?: string | null
          external_context_json?: Json
          false_negative_risk: number
          false_positive_risk: number
          id?: string
          perceived_performance_score: number
          scope: string
          summary_markdown: string
          tenant_id?: string | null
          timeframe_end: string
          timeframe_start: string
          true_performance_score: number
        }
        Update: {
          attribution_json?: Json
          campaign_id?: string | null
          channel?: string | null
          client_id?: string | null
          confidence_high?: number
          confidence_low?: number
          created_at?: string
          created_by_user_id?: string | null
          external_context_json?: Json
          false_negative_risk?: number
          false_positive_risk?: number
          id?: string
          perceived_performance_score?: number
          scope?: string
          summary_markdown?: string
          tenant_id?: string | null
          timeframe_end?: string
          timeframe_start?: string
          true_performance_score?: number
        }
        Relationships: [
          {
            foreignKeyName: "performance_reality_snapshots_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "performance_reality_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      performance_reports: {
        Row: {
          client_id: string
          created_at: string | null
          data_sources: string[] | null
          end_date: string
          id: string
          metrics: Json
          narrative: string | null
          period: string
          start_date: string
          status: string | null
          updated_at: string | null
          visual_asset_ids: string[] | null
        }
        Insert: {
          client_id: string
          created_at?: string | null
          data_sources?: string[] | null
          end_date: string
          id?: string
          metrics?: Json
          narrative?: string | null
          period: string
          start_date: string
          status?: string | null
          updated_at?: string | null
          visual_asset_ids?: string[] | null
        }
        Update: {
          client_id?: string
          created_at?: string | null
          data_sources?: string[] | null
          end_date?: string
          id?: string
          metrics?: Json
          narrative?: string | null
          period?: string
          start_date?: string
          status?: string | null
          updated_at?: string | null
          visual_asset_ids?: string[] | null
        }
        Relationships: []
      }
      posting_attempts: {
        Row: {
          approved_by: string | null
          attempted_at: string
          channel: string
          client_id: string
          completed_at: string | null
          confidence_score: number | null
          created_at: string
          error_code: string | null
          error_message: string | null
          execution_payload: Json | null
          id: string
          platform_post_id: string | null
          platform_response: Json | null
          retry_count: number
          safety_checks: Json
          schedule_id: string
          status: string
          triggered_by: string
          truth_compliant: boolean
          truth_notes: string | null
          workspace_id: string
        }
        Insert: {
          approved_by?: string | null
          attempted_at?: string
          channel: string
          client_id: string
          completed_at?: string | null
          confidence_score?: number | null
          created_at?: string
          error_code?: string | null
          error_message?: string | null
          execution_payload?: Json | null
          id?: string
          platform_post_id?: string | null
          platform_response?: Json | null
          retry_count?: number
          safety_checks?: Json
          schedule_id: string
          status?: string
          triggered_by?: string
          truth_compliant?: boolean
          truth_notes?: string | null
          workspace_id: string
        }
        Update: {
          approved_by?: string | null
          attempted_at?: string
          channel?: string
          client_id?: string
          completed_at?: string | null
          confidence_score?: number | null
          created_at?: string
          error_code?: string | null
          error_message?: string | null
          execution_payload?: Json | null
          id?: string
          platform_post_id?: string | null
          platform_response?: Json | null
          retry_count?: number
          safety_checks?: Json
          schedule_id?: string
          status?: string
          triggered_by?: string
          truth_compliant?: boolean
          truth_notes?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "posting_attempts_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "posting_attempts_schedule_id_fkey"
            columns: ["schedule_id"]
            isOneToOne: false
            referencedRelation: "campaign_orchestration_schedules"
            referencedColumns: ["id"]
          },
        ]
      }
      posting_engine_config: {
        Row: {
          auto_publish_low_risk: boolean
          block_during_warnings: boolean
          created_at: string
          draft_mode_only: boolean
          engine_enabled: boolean
          id: string
          max_fatigue_score: number
          max_posts_per_day: number
          max_posts_per_hour: number
          metadata: Json
          min_confidence_score: number
          require_approval_high: boolean
          require_approval_medium: boolean
          updated_at: string
          updated_by: string | null
          workspace_id: string | null
        }
        Insert: {
          auto_publish_low_risk?: boolean
          block_during_warnings?: boolean
          created_at?: string
          draft_mode_only?: boolean
          engine_enabled?: boolean
          id?: string
          max_fatigue_score?: number
          max_posts_per_day?: number
          max_posts_per_hour?: number
          metadata?: Json
          min_confidence_score?: number
          require_approval_high?: boolean
          require_approval_medium?: boolean
          updated_at?: string
          updated_by?: string | null
          workspace_id?: string | null
        }
        Update: {
          auto_publish_low_risk?: boolean
          block_during_warnings?: boolean
          created_at?: string
          draft_mode_only?: boolean
          engine_enabled?: boolean
          id?: string
          max_fatigue_score?: number
          max_posts_per_day?: number
          max_posts_per_hour?: number
          metadata?: Json
          min_confidence_score?: number
          require_approval_high?: boolean
          require_approval_medium?: boolean
          updated_at?: string
          updated_by?: string | null
          workspace_id?: string | null
        }
        Relationships: []
      }
      posting_executions: {
        Row: {
          channel: string
          client_id: string
          created_at: string
          error_code: string | null
          error_message: string | null
          executed_at: string | null
          execution_payload: Json | null
          external_post_id: string | null
          external_url: string | null
          force_reason: string | null
          forced_by: string | null
          id: string
          metadata: Json
          platform_response: Json | null
          preflight_id: string
          retry_count: number
          schedule_id: string
          status: string
          truth_notes: string | null
          workspace_id: string
        }
        Insert: {
          channel: string
          client_id: string
          created_at?: string
          error_code?: string | null
          error_message?: string | null
          executed_at?: string | null
          execution_payload?: Json | null
          external_post_id?: string | null
          external_url?: string | null
          force_reason?: string | null
          forced_by?: string | null
          id?: string
          metadata?: Json
          platform_response?: Json | null
          preflight_id: string
          retry_count?: number
          schedule_id: string
          status?: string
          truth_notes?: string | null
          workspace_id: string
        }
        Update: {
          channel?: string
          client_id?: string
          created_at?: string
          error_code?: string | null
          error_message?: string | null
          executed_at?: string | null
          execution_payload?: Json | null
          external_post_id?: string | null
          external_url?: string | null
          force_reason?: string | null
          forced_by?: string | null
          id?: string
          metadata?: Json
          platform_response?: Json | null
          preflight_id?: string
          retry_count?: number
          schedule_id?: string
          status?: string
          truth_notes?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "posting_executions_preflight_id_fkey"
            columns: ["preflight_id"]
            isOneToOne: false
            referencedRelation: "posting_preflight_checks"
            referencedColumns: ["id"]
          },
        ]
      }
      posting_preflight_checks: {
        Row: {
          block_reason: string | null
          blocked_by: string | null
          channel: string
          checks: Json
          client_id: string
          client_policy_passed: boolean
          compliance_passed: boolean
          confidence_score: number | null
          created_at: string
          early_warning_passed: boolean
          fatigue_check_passed: boolean
          id: string
          metadata: Json
          passed: boolean
          performance_reality_passed: boolean
          risk_level: string
          scaling_mode_passed: boolean
          schedule_id: string
          truth_compliant: boolean
          truth_layer_passed: boolean
          truth_notes: string | null
          workspace_id: string
        }
        Insert: {
          block_reason?: string | null
          blocked_by?: string | null
          channel: string
          checks?: Json
          client_id: string
          client_policy_passed?: boolean
          compliance_passed?: boolean
          confidence_score?: number | null
          created_at?: string
          early_warning_passed?: boolean
          fatigue_check_passed?: boolean
          id?: string
          metadata?: Json
          passed: boolean
          performance_reality_passed?: boolean
          risk_level?: string
          scaling_mode_passed?: boolean
          schedule_id: string
          truth_compliant?: boolean
          truth_layer_passed?: boolean
          truth_notes?: string | null
          workspace_id: string
        }
        Update: {
          block_reason?: string | null
          blocked_by?: string | null
          channel?: string
          checks?: Json
          client_id?: string
          client_policy_passed?: boolean
          compliance_passed?: boolean
          confidence_score?: number | null
          created_at?: string
          early_warning_passed?: boolean
          fatigue_check_passed?: boolean
          id?: string
          metadata?: Json
          passed?: boolean
          performance_reality_passed?: boolean
          risk_level?: string
          scaling_mode_passed?: boolean
          schedule_id?: string
          truth_compliant?: boolean
          truth_layer_passed?: boolean
          truth_notes?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "posting_preflight_checks_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "posting_preflight_checks_schedule_id_fkey"
            columns: ["schedule_id"]
            isOneToOne: false
            referencedRelation: "campaign_orchestration_schedules"
            referencedColumns: ["id"]
          },
        ]
      }
      pre_client_ingestion_jobs: {
        Row: {
          completed_at: string | null
          connected_app_id: string
          created_at: string | null
          email_filter: string | null
          end_date: string
          error_message: string | null
          id: string
          insights_extracted: number | null
          messages_ingested: number | null
          pre_client_id: string
          retry_count: number | null
          start_date: string
          started_at: string | null
          status: string | null
          threads_found: number | null
          timeline_events_created: number | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          completed_at?: string | null
          connected_app_id: string
          created_at?: string | null
          email_filter?: string | null
          end_date: string
          error_message?: string | null
          id?: string
          insights_extracted?: number | null
          messages_ingested?: number | null
          pre_client_id: string
          retry_count?: number | null
          start_date: string
          started_at?: string | null
          status?: string | null
          threads_found?: number | null
          timeline_events_created?: number | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          completed_at?: string | null
          connected_app_id?: string
          created_at?: string | null
          email_filter?: string | null
          end_date?: string
          error_message?: string | null
          id?: string
          insights_extracted?: number | null
          messages_ingested?: number | null
          pre_client_id?: string
          retry_count?: number | null
          start_date?: string
          started_at?: string | null
          status?: string | null
          threads_found?: number | null
          timeline_events_created?: number | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "pre_client_ingestion_jobs_connected_app_id_fkey"
            columns: ["connected_app_id"]
            isOneToOne: false
            referencedRelation: "connected_apps"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_client_ingestion_jobs_pre_client_id_fkey"
            columns: ["pre_client_id"]
            isOneToOne: false
            referencedRelation: "pre_clients"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_client_ingestion_jobs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      pre_client_insights: {
        Row: {
          category: string
          confidence: number | null
          confidence_score: number | null
          converted_to_task_id: string | null
          created_at: string | null
          detail: string | null
          detected_at: string
          due_date: string | null
          id: string
          insight: string | null
          insight_type: string | null
          pre_client_id: string
          priority: string | null
          recommended_action: string | null
          resolved_at: string | null
          source_message_id: string | null
          source_thread_id: string | null
          status: string | null
          subcategory: string | null
          title: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          category: string
          confidence?: number | null
          confidence_score?: number | null
          converted_to_task_id?: string | null
          created_at?: string | null
          detail?: string | null
          detected_at: string
          due_date?: string | null
          id?: string
          insight?: string | null
          insight_type?: string | null
          pre_client_id: string
          priority?: string | null
          recommended_action?: string | null
          resolved_at?: string | null
          source_message_id?: string | null
          source_thread_id?: string | null
          status?: string | null
          subcategory?: string | null
          title: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          category?: string
          confidence?: number | null
          confidence_score?: number | null
          converted_to_task_id?: string | null
          created_at?: string | null
          detail?: string | null
          detected_at?: string
          due_date?: string | null
          id?: string
          insight?: string | null
          insight_type?: string | null
          pre_client_id?: string
          priority?: string | null
          recommended_action?: string | null
          resolved_at?: string | null
          source_message_id?: string | null
          source_thread_id?: string | null
          status?: string | null
          subcategory?: string | null
          title?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "pre_client_insights_pre_client_id_fkey"
            columns: ["pre_client_id"]
            isOneToOne: false
            referencedRelation: "pre_clients"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_client_insights_source_message_id_fkey"
            columns: ["source_message_id"]
            isOneToOne: false
            referencedRelation: "pre_client_messages"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_client_insights_source_thread_id_fkey"
            columns: ["source_thread_id"]
            isOneToOne: false
            referencedRelation: "pre_client_threads"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_client_insights_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      pre_client_messages: {
        Row: {
          attachment_count: number | null
          bcc_emails: string[] | null
          body_html: string | null
          body_plain: string | null
          cc_emails: string[] | null
          created_at: string | null
          external_id: string
          extracted_commitments: Json | null
          extracted_questions: Json | null
          extracted_tasks: Json | null
          from_email: string
          from_name: string | null
          has_attachments: boolean | null
          id: string
          importance_score: number | null
          is_inbound: boolean
          key_topics: string[] | null
          message_timestamp: string
          pre_client_id: string
          provider: string
          sentiment: string | null
          sentiment_score: number | null
          snippet: string | null
          subject: string | null
          thread_id: string
          to_emails: string[]
          workspace_id: string
        }
        Insert: {
          attachment_count?: number | null
          bcc_emails?: string[] | null
          body_html?: string | null
          body_plain?: string | null
          cc_emails?: string[] | null
          created_at?: string | null
          external_id: string
          extracted_commitments?: Json | null
          extracted_questions?: Json | null
          extracted_tasks?: Json | null
          from_email: string
          from_name?: string | null
          has_attachments?: boolean | null
          id?: string
          importance_score?: number | null
          is_inbound: boolean
          key_topics?: string[] | null
          message_timestamp: string
          pre_client_id: string
          provider: string
          sentiment?: string | null
          sentiment_score?: number | null
          snippet?: string | null
          subject?: string | null
          thread_id: string
          to_emails: string[]
          workspace_id: string
        }
        Update: {
          attachment_count?: number | null
          bcc_emails?: string[] | null
          body_html?: string | null
          body_plain?: string | null
          cc_emails?: string[] | null
          created_at?: string | null
          external_id?: string
          extracted_commitments?: Json | null
          extracted_questions?: Json | null
          extracted_tasks?: Json | null
          from_email?: string
          from_name?: string | null
          has_attachments?: boolean | null
          id?: string
          importance_score?: number | null
          is_inbound?: boolean
          key_topics?: string[] | null
          message_timestamp?: string
          pre_client_id?: string
          provider?: string
          sentiment?: string | null
          sentiment_score?: number | null
          snippet?: string | null
          subject?: string | null
          thread_id?: string
          to_emails?: string[]
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "pre_client_messages_pre_client_id_fkey"
            columns: ["pre_client_id"]
            isOneToOne: false
            referencedRelation: "pre_clients"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_client_messages_thread_id_fkey"
            columns: ["thread_id"]
            isOneToOne: false
            referencedRelation: "pre_client_threads"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_client_messages_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      pre_client_threads: {
        Row: {
          created_at: string | null
          external_thread_id: string | null
          first_message_at: string | null
          has_unresolved_items: boolean | null
          id: string
          importance: string | null
          last_message_at: string | null
          message_count: number | null
          pre_client_id: string
          primary_theme: string | null
          provider: string
          requires_followup: boolean | null
          sentiment: string | null
          sentiment_trend: string | null
          subject: string | null
          summary: string | null
          tags: string[] | null
          themes: string[] | null
          thread_id: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          external_thread_id?: string | null
          first_message_at?: string | null
          has_unresolved_items?: boolean | null
          id?: string
          importance?: string | null
          last_message_at?: string | null
          message_count?: number | null
          pre_client_id: string
          primary_theme?: string | null
          provider: string
          requires_followup?: boolean | null
          sentiment?: string | null
          sentiment_trend?: string | null
          subject?: string | null
          summary?: string | null
          tags?: string[] | null
          themes?: string[] | null
          thread_id: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          external_thread_id?: string | null
          first_message_at?: string | null
          has_unresolved_items?: boolean | null
          id?: string
          importance?: string | null
          last_message_at?: string | null
          message_count?: number | null
          pre_client_id?: string
          primary_theme?: string | null
          provider?: string
          requires_followup?: boolean | null
          sentiment?: string | null
          sentiment_trend?: string | null
          subject?: string | null
          summary?: string | null
          tags?: string[] | null
          themes?: string[] | null
          thread_id?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "pre_client_threads_pre_client_id_fkey"
            columns: ["pre_client_id"]
            isOneToOne: false
            referencedRelation: "pre_clients"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_client_threads_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      pre_client_timeline: {
        Row: {
          created_at: string | null
          details: string | null
          event_date: string
          event_type: string
          id: string
          importance: string | null
          metadata: Json | null
          occurred_at: string | null
          payload: Json | null
          pre_client_id: string
          significance: string | null
          source_message_id: string | null
          source_thread_id: string | null
          source_type: string | null
          summary: string
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          details?: string | null
          event_date: string
          event_type: string
          id?: string
          importance?: string | null
          metadata?: Json | null
          occurred_at?: string | null
          payload?: Json | null
          pre_client_id: string
          significance?: string | null
          source_message_id?: string | null
          source_thread_id?: string | null
          source_type?: string | null
          summary: string
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          details?: string | null
          event_date?: string
          event_type?: string
          id?: string
          importance?: string | null
          metadata?: Json | null
          occurred_at?: string | null
          payload?: Json | null
          pre_client_id?: string
          significance?: string | null
          source_message_id?: string | null
          source_thread_id?: string | null
          source_type?: string | null
          summary?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "pre_client_timeline_pre_client_id_fkey"
            columns: ["pre_client_id"]
            isOneToOne: false
            referencedRelation: "pre_clients"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_client_timeline_source_message_id_fkey"
            columns: ["source_message_id"]
            isOneToOne: false
            referencedRelation: "pre_client_messages"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_client_timeline_source_thread_id_fkey"
            columns: ["source_thread_id"]
            isOneToOne: false
            referencedRelation: "pre_client_threads"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_client_timeline_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      pre_clients: {
        Row: {
          company: string | null
          converted_at: string | null
          converted_to_contact_id: string | null
          created_at: string | null
          email: string
          engagement_level: string | null
          first_contact_date: string | null
          founder_business_id: string | null
          id: string
          job_title: string | null
          last_contact_date: string | null
          name: string
          notes: string | null
          owner_user_id: string | null
          phone: string | null
          relationship_score: number | null
          relationship_summary: string | null
          sentiment_score: number | null
          source: string | null
          status: string | null
          total_messages: number | null
          total_threads: number | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          company?: string | null
          converted_at?: string | null
          converted_to_contact_id?: string | null
          created_at?: string | null
          email: string
          engagement_level?: string | null
          first_contact_date?: string | null
          founder_business_id?: string | null
          id?: string
          job_title?: string | null
          last_contact_date?: string | null
          name: string
          notes?: string | null
          owner_user_id?: string | null
          phone?: string | null
          relationship_score?: number | null
          relationship_summary?: string | null
          sentiment_score?: number | null
          source?: string | null
          status?: string | null
          total_messages?: number | null
          total_threads?: number | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          company?: string | null
          converted_at?: string | null
          converted_to_contact_id?: string | null
          created_at?: string | null
          email?: string
          engagement_level?: string | null
          first_contact_date?: string | null
          founder_business_id?: string | null
          id?: string
          job_title?: string | null
          last_contact_date?: string | null
          name?: string
          notes?: string | null
          owner_user_id?: string | null
          phone?: string | null
          relationship_score?: number | null
          relationship_summary?: string | null
          sentiment_score?: number | null
          source?: string | null
          status?: string | null
          total_messages?: number | null
          total_threads?: number | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "pre_clients_converted_to_contact_id_fkey"
            columns: ["converted_to_contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pre_clients_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      prediction_accuracy_metrics: {
        Row: {
          accuracy: number | null
          auc_score: number | null
          confidence_calibration: number | null
          correct_predictions: number | null
          created_at: string
          expected_vs_actual_error: number | null
          f1_score: number | null
          id: string
          metric_period: string
          model_type: string
          period_end_date: string
          period_start_date: string
          precision: number | null
          recall: number | null
          total_predictions: number | null
          workspace_id: string
        }
        Insert: {
          accuracy?: number | null
          auc_score?: number | null
          confidence_calibration?: number | null
          correct_predictions?: number | null
          created_at?: string
          expected_vs_actual_error?: number | null
          f1_score?: number | null
          id?: string
          metric_period: string
          model_type: string
          period_end_date: string
          period_start_date: string
          precision?: number | null
          recall?: number | null
          total_predictions?: number | null
          workspace_id: string
        }
        Update: {
          accuracy?: number | null
          auc_score?: number | null
          confidence_calibration?: number | null
          correct_predictions?: number | null
          created_at?: string
          expected_vs_actual_error?: number | null
          f1_score?: number | null
          id?: string
          metric_period?: string
          model_type?: string
          period_end_date?: string
          period_start_date?: string
          precision?: number | null
          recall?: number | null
          total_predictions?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "prediction_accuracy_metrics_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      prediction_feedback: {
        Row: {
          actual_conversion_weeks: number | null
          actual_converted: boolean | null
          actual_outcome_score: number | null
          calibration_error: number | null
          created_at: string
          id: string
          lead_id: string
          notes: string | null
          predicted_conversion: number | null
          predicted_score: number | null
          predicted_timeline_weeks: number | null
          prediction_correct: boolean | null
          prediction_id: string | null
          workspace_id: string
        }
        Insert: {
          actual_conversion_weeks?: number | null
          actual_converted?: boolean | null
          actual_outcome_score?: number | null
          calibration_error?: number | null
          created_at?: string
          id?: string
          lead_id: string
          notes?: string | null
          predicted_conversion?: number | null
          predicted_score?: number | null
          predicted_timeline_weeks?: number | null
          prediction_correct?: boolean | null
          prediction_id?: string | null
          workspace_id: string
        }
        Update: {
          actual_conversion_weeks?: number | null
          actual_converted?: boolean | null
          actual_outcome_score?: number | null
          calibration_error?: number | null
          created_at?: string
          id?: string
          lead_id?: string
          notes?: string | null
          predicted_conversion?: number | null
          predicted_score?: number | null
          predicted_timeline_weeks?: number | null
          prediction_correct?: boolean | null
          prediction_id?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "prediction_feedback_prediction_id_fkey"
            columns: ["prediction_id"]
            isOneToOne: false
            referencedRelation: "alert_predictions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "prediction_feedback_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      pricing_recommendations: {
        Row: {
          accepted: boolean
          actioned_at: string | null
          created_at: string | null
          current_tier: string
          dismissed: boolean
          estimated_additional_capacity_percent: number
          estimated_monthly_savings: number
          id: string
          org_id: string
          reason: string
          recommended_tier: string
        }
        Insert: {
          accepted?: boolean
          actioned_at?: string | null
          created_at?: string | null
          current_tier: string
          dismissed?: boolean
          estimated_additional_capacity_percent?: number
          estimated_monthly_savings?: number
          id?: string
          org_id: string
          reason: string
          recommended_tier: string
        }
        Update: {
          accepted?: boolean
          actioned_at?: string | null
          created_at?: string | null
          current_tier?: string
          dismissed?: boolean
          estimated_additional_capacity_percent?: number
          estimated_monthly_savings?: number
          id?: string
          org_id?: string
          reason?: string
          recommended_tier?: string
        }
        Relationships: [
          {
            foreignKeyName: "pricing_recommendations_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      pricing_rules: {
        Row: {
          base_multiplier: number
          created_at: string | null
          id: string
          industry: string | null
          is_active: boolean
          max_monthly_spend: number | null
          min_monthly_spend: number | null
          region: string | null
          scope: string
          slug: string
          text_weight: number
          updated_at: string | null
          voice_weight: number
        }
        Insert: {
          base_multiplier?: number
          created_at?: string | null
          id?: string
          industry?: string | null
          is_active?: boolean
          max_monthly_spend?: number | null
          min_monthly_spend?: number | null
          region?: string | null
          scope?: string
          slug: string
          text_weight?: number
          updated_at?: string | null
          voice_weight?: number
        }
        Update: {
          base_multiplier?: number
          created_at?: string | null
          id?: string
          industry?: string | null
          is_active?: boolean
          max_monthly_spend?: number | null
          min_monthly_spend?: number | null
          region?: string | null
          scope?: string
          slug?: string
          text_weight?: number
          updated_at?: string | null
          voice_weight?: number
        }
        Relationships: []
      }
      production_job_history: {
        Row: {
          created_at: string | null
          event_type: string
          id: string
          job_id: string
          new_status: string | null
          notes: string | null
          previous_status: string | null
          user_id: string | null
        }
        Insert: {
          created_at?: string | null
          event_type: string
          id?: string
          job_id: string
          new_status?: string | null
          notes?: string | null
          previous_status?: string | null
          user_id?: string | null
        }
        Update: {
          created_at?: string | null
          event_type?: string
          id?: string
          job_id?: string
          new_status?: string | null
          notes?: string | null
          previous_status?: string | null
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "production_job_history_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "production_jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      production_jobs: {
        Row: {
          ai_model_used: string | null
          approved_at: string | null
          approved_by: string | null
          client_id: string
          completed_at: string | null
          created_at: string | null
          description: string | null
          generation_cost: number | null
          generation_time_ms: number | null
          id: string
          input_data: Json | null
          job_type: string
          mode: string | null
          organization_id: string
          output_data: Json | null
          output_urls: Json | null
          priority: string | null
          queued_at: string | null
          requires_client_approval: boolean | null
          requires_owner_oversight: boolean | null
          revision_count: number | null
          revision_notes: string | null
          safety_flags: Json | null
          safety_score: number | null
          source: string | null
          source_id: string | null
          started_at: string | null
          status: string
          title: string
          tokens_used: number | null
          truth_layer_verified: boolean | null
          updated_at: string | null
        }
        Insert: {
          ai_model_used?: string | null
          approved_at?: string | null
          approved_by?: string | null
          client_id: string
          completed_at?: string | null
          created_at?: string | null
          description?: string | null
          generation_cost?: number | null
          generation_time_ms?: number | null
          id?: string
          input_data?: Json | null
          job_type: string
          mode?: string | null
          organization_id: string
          output_data?: Json | null
          output_urls?: Json | null
          priority?: string | null
          queued_at?: string | null
          requires_client_approval?: boolean | null
          requires_owner_oversight?: boolean | null
          revision_count?: number | null
          revision_notes?: string | null
          safety_flags?: Json | null
          safety_score?: number | null
          source?: string | null
          source_id?: string | null
          started_at?: string | null
          status?: string
          title: string
          tokens_used?: number | null
          truth_layer_verified?: boolean | null
          updated_at?: string | null
        }
        Update: {
          ai_model_used?: string | null
          approved_at?: string | null
          approved_by?: string | null
          client_id?: string
          completed_at?: string | null
          created_at?: string | null
          description?: string | null
          generation_cost?: number | null
          generation_time_ms?: number | null
          id?: string
          input_data?: Json | null
          job_type?: string
          mode?: string | null
          organization_id?: string
          output_data?: Json | null
          output_urls?: Json | null
          priority?: string | null
          queued_at?: string | null
          requires_client_approval?: boolean | null
          requires_owner_oversight?: boolean | null
          revision_count?: number | null
          revision_notes?: string | null
          safety_flags?: Json | null
          safety_score?: number | null
          source?: string | null
          source_id?: string | null
          started_at?: string | null
          status?: string
          title?: string
          tokens_used?: number | null
          truth_layer_verified?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "production_jobs_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      production_outputs: {
        Row: {
          client_id: string
          content: string | null
          created_at: string | null
          file_url: string | null
          format_specs: Json | null
          id: string
          job_id: string
          metadata: Json | null
          output_type: string
          status: string | null
          thumbnail_url: string | null
          title: string
        }
        Insert: {
          client_id: string
          content?: string | null
          created_at?: string | null
          file_url?: string | null
          format_specs?: Json | null
          id?: string
          job_id: string
          metadata?: Json | null
          output_type: string
          status?: string | null
          thumbnail_url?: string | null
          title: string
        }
        Update: {
          client_id?: string
          content?: string | null
          created_at?: string | null
          file_url?: string | null
          format_specs?: Json | null
          id?: string
          job_id?: string
          metadata?: Json | null
          output_type?: string
          status?: string | null
          thumbnail_url?: string | null
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "production_outputs_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "production_jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      production_packs: {
        Row: {
          approved_at: string | null
          approved_by: string | null
          assets: Json | null
          client_id: string
          created_at: string | null
          deliverables: Json | null
          delivered_at: string | null
          description: string | null
          generated_at: string | null
          id: string
          metrics: Json | null
          notes: string | null
          organization_id: string
          pack_type: string
          period_end: string | null
          period_start: string | null
          recipe_id: string | null
          status: string
          title: string
          updated_at: string | null
        }
        Insert: {
          approved_at?: string | null
          approved_by?: string | null
          assets?: Json | null
          client_id: string
          created_at?: string | null
          deliverables?: Json | null
          delivered_at?: string | null
          description?: string | null
          generated_at?: string | null
          id?: string
          metrics?: Json | null
          notes?: string | null
          organization_id: string
          pack_type: string
          period_end?: string | null
          period_start?: string | null
          recipe_id?: string | null
          status?: string
          title: string
          updated_at?: string | null
        }
        Update: {
          approved_at?: string | null
          approved_by?: string | null
          assets?: Json | null
          client_id?: string
          created_at?: string | null
          deliverables?: Json | null
          delivered_at?: string | null
          description?: string | null
          generated_at?: string | null
          id?: string
          metrics?: Json | null
          notes?: string | null
          organization_id?: string
          pack_type?: string
          period_end?: string | null
          period_start?: string | null
          recipe_id?: string | null
          status?: string
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "production_packs_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "production_packs_recipe_id_fkey"
            columns: ["recipe_id"]
            isOneToOne: false
            referencedRelation: "production_recipes"
            referencedColumns: ["id"]
          },
        ]
      }
      production_recipes: {
        Row: {
          created_at: string | null
          description: string | null
          estimated_duration_hours: number | null
          id: string
          industry: string | null
          is_high_impact: boolean | null
          is_system: boolean | null
          name: string
          outputs: Json | null
          recipe_type: string
          requires_approval: boolean | null
          slug: string
          steps: Json
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          estimated_duration_hours?: number | null
          id?: string
          industry?: string | null
          is_high_impact?: boolean | null
          is_system?: boolean | null
          name: string
          outputs?: Json | null
          recipe_type: string
          requires_approval?: boolean | null
          slug: string
          steps?: Json
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          description?: string | null
          estimated_duration_hours?: number | null
          id?: string
          industry?: string | null
          is_high_impact?: boolean | null
          is_system?: boolean | null
          name?: string
          outputs?: Json | null
          recipe_type?: string
          requires_approval?: boolean | null
          slug?: string
          steps?: Json
          updated_at?: string | null
        }
        Relationships: []
      }
      production_templates: {
        Row: {
          created_at: string | null
          default_settings: Json | null
          description: string | null
          id: string
          input_schema: Json | null
          is_active: boolean | null
          job_type: string
          name: string
          organization_id: string
          times_used: number | null
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          default_settings?: Json | null
          description?: string | null
          id?: string
          input_schema?: Json | null
          is_active?: boolean | null
          job_type: string
          name: string
          organization_id: string
          times_used?: number | null
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          default_settings?: Json | null
          description?: string | null
          id?: string
          input_schema?: Json | null
          is_active?: boolean | null
          job_type?: string
          name?: string
          organization_id?: string
          times_used?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "production_templates_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      productivity_outcomes: {
        Row: {
          activity: string
          created_at: string
          day_type: string
          duration_minutes: number
          energy_after: number | null
          energy_before: number | null
          environment_profile_id: string
          focus_quality_rating: number
          helped_by: string[]
          hindered_by: string[]
          id: string
          owner_id: string
          satisfaction: number
          stress_level: string | null
          success_metric: number
          time_of_day: string
          workspace_id: string
        }
        Insert: {
          activity: string
          created_at?: string
          day_type: string
          duration_minutes: number
          energy_after?: number | null
          energy_before?: number | null
          environment_profile_id: string
          focus_quality_rating: number
          helped_by?: string[]
          hindered_by?: string[]
          id?: string
          owner_id: string
          satisfaction: number
          stress_level?: string | null
          success_metric: number
          time_of_day: string
          workspace_id: string
        }
        Update: {
          activity?: string
          created_at?: string
          day_type?: string
          duration_minutes?: number
          energy_after?: number | null
          energy_before?: number | null
          environment_profile_id?: string
          focus_quality_rating?: number
          helped_by?: string[]
          hindered_by?: string[]
          id?: string
          owner_id?: string
          satisfaction?: number
          stress_level?: string | null
          success_metric?: number
          time_of_day?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "productivity_outcomes_environment_profile_id_fkey"
            columns: ["environment_profile_id"]
            isOneToOne: false
            referencedRelation: "environment_profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      profiles: {
        Row: {
          created_at: string | null
          email: string | null
          id: string
          role: Database["public"]["Enums"]["user_role"] | null
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          email?: string | null
          id: string
          role?: Database["public"]["Enums"]["user_role"] | null
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          email?: string | null
          id?: string
          role?: Database["public"]["Enums"]["user_role"] | null
          updated_at?: string | null
        }
        Relationships: []
      }
      project_assignees: {
        Row: {
          assigned_at: string | null
          id: string
          project_id: string
          role: string | null
          team_member_id: string
        }
        Insert: {
          assigned_at?: string | null
          id?: string
          project_id: string
          role?: string | null
          team_member_id: string
        }
        Update: {
          assigned_at?: string | null
          id?: string
          project_id?: string
          role?: string | null
          team_member_id?: string
        }
        Relationships: []
      }
      project_messages: {
        Row: {
          attachments: Json | null
          created_at: string | null
          id: string
          message: string
          project_id: string
          team_member_id: string
        }
        Insert: {
          attachments?: Json | null
          created_at?: string | null
          id?: string
          message: string
          project_id: string
          team_member_id: string
        }
        Update: {
          attachments?: Json | null
          created_at?: string | null
          id?: string
          message?: string
          project_id?: string
          team_member_id?: string
        }
        Relationships: []
      }
      project_milestones: {
        Row: {
          created_at: string | null
          description: string | null
          due_date: string
          id: string
          project_id: string
          status: string
          title: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          due_date: string
          id?: string
          project_id: string
          status?: string
          title: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          description?: string | null
          due_date?: string
          id?: string
          project_id?: string
          status?: string
          title?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      project_mindmaps: {
        Row: {
          created_at: string | null
          created_by: string | null
          id: string
          last_updated_by: string | null
          org_id: string
          project_id: string
          updated_at: string | null
          version: number
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          created_by?: string | null
          id?: string
          last_updated_by?: string | null
          org_id: string
          project_id: string
          updated_at?: string | null
          version?: number
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          created_by?: string | null
          id?: string
          last_updated_by?: string | null
          org_id?: string
          project_id?: string
          updated_at?: string | null
          version?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "project_mindmaps_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "project_mindmaps_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      project_predictions: {
        Row: {
          budget_forecast: Json | null
          confidence_score: number
          created_at: string | null
          id: string
          org_id: string
          predicted_completion: string | null
          project_id: string
          risk_factors: Json | null
          risk_level: string
          staffing_recommendations: Json | null
        }
        Insert: {
          budget_forecast?: Json | null
          confidence_score?: number
          created_at?: string | null
          id?: string
          org_id: string
          predicted_completion?: string | null
          project_id: string
          risk_factors?: Json | null
          risk_level?: string
          staffing_recommendations?: Json | null
        }
        Update: {
          budget_forecast?: Json | null
          confidence_score?: number
          created_at?: string | null
          id?: string
          org_id?: string
          predicted_completion?: string | null
          project_id?: string
          risk_factors?: Json | null
          risk_level?: string
          staffing_recommendations?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "project_predictions_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "project_predictions_project_fk"
            columns: ["project_id"]
            isOneToOne: false
            referencedRelation: "projects"
            referencedColumns: ["id"]
          },
        ]
      }
      projects: {
        Row: {
          budget: number | null
          client_contact_id: string | null
          created_at: string
          created_by: string | null
          description: string | null
          end_date: string | null
          id: string
          name: string
          org_id: string
          start_date: string | null
          status: string
          updated_at: string
          workspace_id: string
        }
        Insert: {
          budget?: number | null
          client_contact_id?: string | null
          created_at?: string
          created_by?: string | null
          description?: string | null
          end_date?: string | null
          id?: string
          name: string
          org_id: string
          start_date?: string | null
          status?: string
          updated_at?: string
          workspace_id: string
        }
        Update: {
          budget?: number | null
          client_contact_id?: string | null
          created_at?: string
          created_by?: string | null
          description?: string | null
          end_date?: string | null
          id?: string
          name?: string
          org_id?: string
          start_date?: string | null
          status?: string
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_projects_contact"
            columns: ["client_contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_projects_org"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_projects_workspace"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      qa_failures: {
        Row: {
          component: string
          created_at: string | null
          description: string
          details: Json | null
          id: string
          qa_run_id: string
          severity: string
        }
        Insert: {
          component: string
          created_at?: string | null
          description: string
          details?: Json | null
          id?: string
          qa_run_id: string
          severity?: string
        }
        Update: {
          component?: string
          created_at?: string | null
          description?: string
          details?: Json | null
          id?: string
          qa_run_id?: string
          severity?: string
        }
        Relationships: [
          {
            foreignKeyName: "qa_failures_run_fk"
            columns: ["qa_run_id"]
            isOneToOne: false
            referencedRelation: "qa_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      qa_runs: {
        Row: {
          completed_at: string | null
          id: string
          run_type: string
          started_at: string | null
          status: string
          summary: Json | null
        }
        Insert: {
          completed_at?: string | null
          id?: string
          run_type: string
          started_at?: string | null
          status?: string
          summary?: Json | null
        }
        Update: {
          completed_at?: string | null
          id?: string
          run_type?: string
          started_at?: string | null
          status?: string
          summary?: Json | null
        }
        Relationships: []
      }
      questionnaire_responses: {
        Row: {
          answer: string | null
          answer_data: Json | null
          answered_at: string | null
          created_at: string | null
          id: string
          question_id: string
          questionnaire_id: string | null
        }
        Insert: {
          answer?: string | null
          answer_data?: Json | null
          answered_at?: string | null
          created_at?: string | null
          id?: string
          question_id: string
          questionnaire_id?: string | null
        }
        Update: {
          answer?: string | null
          answer_data?: Json | null
          answered_at?: string | null
          created_at?: string | null
          id?: string
          question_id?: string
          questionnaire_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "questionnaire_responses_questionnaire_id_fkey"
            columns: ["questionnaire_id"]
            isOneToOne: false
            referencedRelation: "dynamic_questionnaires"
            referencedColumns: ["id"]
          },
        ]
      }
      queue_federation_logs: {
        Row: {
          created_at: string
          federation_group: string
          id: string
          items_routed: number
          ordering_preserved: boolean
          reason: string
          source_queue: string
          target_queue: string
        }
        Insert: {
          created_at?: string
          federation_group: string
          id?: string
          items_routed?: number
          ordering_preserved: boolean
          reason: string
          source_queue: string
          target_queue: string
        }
        Update: {
          created_at?: string
          federation_group?: string
          id?: string
          items_routed?: number
          ordering_preserved?: boolean
          reason?: string
          source_queue?: string
          target_queue?: string
        }
        Relationships: []
      }
      raaoe_actions_log: {
        Row: {
          action_type: string
          adjusted_params: Json | null
          adjustment_reason: string | null
          id: string
          original_params: Json | null
          region: string
          tenant_id: string
          timestamp: string | null
        }
        Insert: {
          action_type: string
          adjusted_params?: Json | null
          adjustment_reason?: string | null
          id?: string
          original_params?: Json | null
          region: string
          tenant_id: string
          timestamp?: string | null
        }
        Update: {
          action_type?: string
          adjusted_params?: Json | null
          adjustment_reason?: string | null
          id?: string
          original_params?: Json | null
          region?: string
          tenant_id?: string
          timestamp?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "raaoe_actions_log_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      raaoe_region_profiles: {
        Row: {
          compliance_frameworks: Json | null
          created_at: string | null
          id: string
          operational_mode: string
          reasoning_weights: Json | null
          region: string
          safety_threshold: number
          sla_profile: Json | null
          updated_at: string | null
        }
        Insert: {
          compliance_frameworks?: Json | null
          created_at?: string | null
          id?: string
          operational_mode?: string
          reasoning_weights?: Json | null
          region: string
          safety_threshold?: number
          sla_profile?: Json | null
          updated_at?: string | null
        }
        Update: {
          compliance_frameworks?: Json | null
          created_at?: string | null
          id?: string
          operational_mode?: string
          reasoning_weights?: Json | null
          region?: string
          safety_threshold?: number
          sla_profile?: Json | null
          updated_at?: string | null
        }
        Relationships: []
      }
      raaoe_tenant_regions: {
        Row: {
          auto_detected: boolean | null
          config_overrides: Json | null
          created_at: string | null
          id: string
          region: string
          tenant_id: string
          updated_at: string | null
        }
        Insert: {
          auto_detected?: boolean | null
          config_overrides?: Json | null
          created_at?: string | null
          id?: string
          region: string
          tenant_id: string
          updated_at?: string | null
        }
        Update: {
          auto_detected?: boolean | null
          config_overrides?: Json | null
          created_at?: string | null
          id?: string
          region?: string
          tenant_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "raaoe_tenant_regions_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: true
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      rate_limit_logs: {
        Row: {
          allowed: boolean
          client_key: string
          created_at: string
          endpoint: string
          id: string
          remaining: number
          request_method: string | null
          reset_at: string
          status_code: number | null
          tier: string
        }
        Insert: {
          allowed: boolean
          client_key: string
          created_at?: string
          endpoint: string
          id?: string
          remaining: number
          request_method?: string | null
          reset_at: string
          status_code?: number | null
          tier: string
        }
        Update: {
          allowed?: boolean
          client_key?: string
          created_at?: string
          endpoint?: string
          id?: string
          remaining?: number
          request_method?: string | null
          reset_at?: string
          status_code?: number | null
          tier?: string
        }
        Relationships: []
      }
      rate_limit_overrides: {
        Row: {
          client_key: string | null
          created_at: string
          created_by: string | null
          endpoint_pattern: string | null
          expires_at: string | null
          id: string
          max_requests: number
          reason: string | null
          tier: string | null
          updated_at: string
          window_seconds: number
          workspace_id: string | null
        }
        Insert: {
          client_key?: string | null
          created_at?: string
          created_by?: string | null
          endpoint_pattern?: string | null
          expires_at?: string | null
          id?: string
          max_requests: number
          reason?: string | null
          tier?: string | null
          updated_at?: string
          window_seconds?: number
          workspace_id?: string | null
        }
        Update: {
          client_key?: string | null
          created_at?: string
          created_by?: string | null
          endpoint_pattern?: string | null
          expires_at?: string | null
          id?: string
          max_requests?: number
          reason?: string | null
          tier?: string | null
          updated_at?: string
          window_seconds?: number
          workspace_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "rate_limit_overrides_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      rd_prototypes: {
        Row: {
          created_at: string | null
          id: string
          output: Json
          proposal_id: string | null
          prototype_type: string
          status: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          output: Json
          proposal_id?: string | null
          prototype_type: string
          status?: string
        }
        Update: {
          created_at?: string | null
          id?: string
          output?: Json
          proposal_id?: string | null
          prototype_type?: string
          status?: string
        }
        Relationships: []
      }
      rd_research_reports: {
        Row: {
          analysis: Json
          confidence: number
          created_at: string | null
          id: string
          recommendations: Json | null
          source: string
          topic: string
        }
        Insert: {
          analysis: Json
          confidence?: number
          created_at?: string | null
          id?: string
          recommendations?: Json | null
          source: string
          topic: string
        }
        Update: {
          analysis?: Json
          confidence?: number
          created_at?: string | null
          id?: string
          recommendations?: Json | null
          source?: string
          topic?: string
        }
        Relationships: []
      }
      reality_events: {
        Row: {
          client_id: string
          created_at: string | null
          event_type: string
          id: string
          linked_content_asset_ids: string[] | null
          location: string | null
          normalized_payload: Json | null
          processing_log: string | null
          processing_status: string | null
          raw_payload: Json | null
          source_id: string | null
          source_system: string | null
          timestamp: string
          workspace_id: string
        }
        Insert: {
          client_id: string
          created_at?: string | null
          event_type: string
          id?: string
          linked_content_asset_ids?: string[] | null
          location?: string | null
          normalized_payload?: Json | null
          processing_log?: string | null
          processing_status?: string | null
          raw_payload?: Json | null
          source_id?: string | null
          source_system?: string | null
          timestamp: string
          workspace_id: string
        }
        Update: {
          client_id?: string
          created_at?: string | null
          event_type?: string
          id?: string
          linked_content_asset_ids?: string[] | null
          location?: string | null
          normalized_payload?: Json | null
          processing_log?: string | null
          processing_status?: string | null
          raw_payload?: Json | null
          source_id?: string | null
          source_system?: string | null
          timestamp?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "reality_events_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "client_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "reality_events_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      reasoning_artifacts: {
        Row: {
          artifact_type: string
          content: Json
          created_at: string | null
          id: string
          metadata: Json | null
          pass_id: string
          quality_score: number | null
        }
        Insert: {
          artifact_type: string
          content: Json
          created_at?: string | null
          id?: string
          metadata?: Json | null
          pass_id: string
          quality_score?: number | null
        }
        Update: {
          artifact_type?: string
          content?: Json
          created_at?: string | null
          id?: string
          metadata?: Json | null
          pass_id?: string
          quality_score?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "reasoning_artifacts_pass_id_fkey"
            columns: ["pass_id"]
            isOneToOne: false
            referencedRelation: "reasoning_passes"
            referencedColumns: ["id"]
          },
        ]
      }
      reasoning_passes: {
        Row: {
          confidence: number | null
          created_at: string | null
          generated_content: Json | null
          id: string
          input_context: Json
          memory_used: string[] | null
          metadata: Json | null
          pass_number: number
          pass_type: string
          processing_time_ms: number | null
          risk: number | null
          run_id: string
          token_count: number | null
          uncertainty: number | null
        }
        Insert: {
          confidence?: number | null
          created_at?: string | null
          generated_content?: Json | null
          id?: string
          input_context: Json
          memory_used?: string[] | null
          metadata?: Json | null
          pass_number: number
          pass_type: string
          processing_time_ms?: number | null
          risk?: number | null
          run_id: string
          token_count?: number | null
          uncertainty?: number | null
        }
        Update: {
          confidence?: number | null
          created_at?: string | null
          generated_content?: Json | null
          id?: string
          input_context?: Json
          memory_used?: string[] | null
          metadata?: Json | null
          pass_number?: number
          pass_type?: string
          processing_time_ms?: number | null
          risk?: number | null
          run_id?: string
          token_count?: number | null
          uncertainty?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "reasoning_passes_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "reasoning_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      reasoning_runs: {
        Row: {
          agent: string
          completed_at: string | null
          created_at: string | null
          error_message: string | null
          final_memory_id: string | null
          id: string
          initial_memory_ids: string[] | null
          metadata: Json | null
          objective: string
          risk_score: number
          status: string
          uncertainty_score: number
          workspace_id: string
        }
        Insert: {
          agent: string
          completed_at?: string | null
          created_at?: string | null
          error_message?: string | null
          final_memory_id?: string | null
          id?: string
          initial_memory_ids?: string[] | null
          metadata?: Json | null
          objective: string
          risk_score?: number
          status?: string
          uncertainty_score?: number
          workspace_id: string
        }
        Update: {
          agent?: string
          completed_at?: string | null
          created_at?: string | null
          error_message?: string | null
          final_memory_id?: string | null
          id?: string
          initial_memory_ids?: string[] | null
          metadata?: Json | null
          objective?: string
          risk_score?: number
          status?: string
          uncertainty_score?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "reasoning_runs_final_memory_id_fkey"
            columns: ["final_memory_id"]
            isOneToOne: false
            referencedRelation: "ai_memory"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "reasoning_runs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      region_budget_transactions: {
        Row: {
          agency_id: string | null
          amount: number
          balance_after: number
          created_at: string
          description: string | null
          id: string
          job_type: string | null
          metadata: Json
          region_id: string
          transaction_type: string
        }
        Insert: {
          agency_id?: string | null
          amount: number
          balance_after: number
          created_at?: string
          description?: string | null
          id?: string
          job_type?: string | null
          metadata?: Json
          region_id: string
          transaction_type: string
        }
        Update: {
          agency_id?: string | null
          amount?: number
          balance_after?: number
          created_at?: string
          description?: string | null
          id?: string
          job_type?: string | null
          metadata?: Json
          region_id?: string
          transaction_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "region_budget_transactions_agency_id_fkey"
            columns: ["agency_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "region_budget_transactions_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
        ]
      }
      region_scaling_history: {
        Row: {
          avg_capacity: number | null
          budget_used: number | null
          created_at: string
          id: string
          metadata: Json
          peak_pressure: number | null
          period_type: string
          region_id: string
          snapshot: Json
        }
        Insert: {
          avg_capacity?: number | null
          budget_used?: number | null
          created_at?: string
          id?: string
          metadata?: Json
          peak_pressure?: number | null
          period_type?: string
          region_id: string
          snapshot: Json
        }
        Update: {
          avg_capacity?: number | null
          budget_used?: number | null
          created_at?: string
          id?: string
          metadata?: Json
          peak_pressure?: number | null
          period_type?: string
          region_id?: string
          snapshot?: Json
        }
        Relationships: [
          {
            foreignKeyName: "region_scaling_history_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
        ]
      }
      region_scaling_state: {
        Row: {
          active_agencies: number
          active_clients: number
          ai_budget_monthly: number
          ai_budget_remaining: number
          ai_spend_today: number
          capacity_score: number
          creative_pressure: number
          fatigue_score: number
          intel_pressure: number
          jobs_in_queue: number
          metadata: Json
          orchestration_pressure: number
          posting_pressure: number
          region_id: string
          scaling_mode: string
          updated_at: string
          warning_index: number
        }
        Insert: {
          active_agencies?: number
          active_clients?: number
          ai_budget_monthly?: number
          ai_budget_remaining?: number
          ai_spend_today?: number
          capacity_score?: number
          creative_pressure?: number
          fatigue_score?: number
          intel_pressure?: number
          jobs_in_queue?: number
          metadata?: Json
          orchestration_pressure?: number
          posting_pressure?: number
          region_id: string
          scaling_mode?: string
          updated_at?: string
          warning_index?: number
        }
        Update: {
          active_agencies?: number
          active_clients?: number
          ai_budget_monthly?: number
          ai_budget_remaining?: number
          ai_spend_today?: number
          capacity_score?: number
          creative_pressure?: number
          fatigue_score?: number
          intel_pressure?: number
          jobs_in_queue?: number
          metadata?: Json
          orchestration_pressure?: number
          posting_pressure?: number
          region_id?: string
          scaling_mode?: string
          updated_at?: string
          warning_index?: number
        }
        Relationships: [
          {
            foreignKeyName: "region_scaling_state_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: true
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
        ]
      }
      region_transfer_assessments: {
        Row: {
          compliance_compatible: boolean
          confidence: number
          created_at: string
          cultural_distance: number | null
          id: string
          pattern_ref: Json
          risk_assessment: Json
          source_region_id: string
          target_region_id: string
          transferability_score: number
          uncertainty_notes: string | null
        }
        Insert: {
          compliance_compatible?: boolean
          confidence: number
          created_at?: string
          cultural_distance?: number | null
          id?: string
          pattern_ref: Json
          risk_assessment: Json
          source_region_id: string
          target_region_id: string
          transferability_score: number
          uncertainty_notes?: string | null
        }
        Update: {
          compliance_compatible?: boolean
          confidence?: number
          created_at?: string
          cultural_distance?: number | null
          id?: string
          pattern_ref?: Json
          risk_assessment?: Json
          source_region_id?: string
          target_region_id?: string
          transferability_score?: number
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "region_transfer_assessments_source_region_id_fkey"
            columns: ["source_region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "region_transfer_assessments_target_region_id_fkey"
            columns: ["target_region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
        ]
      }
      regional_learning_packets: {
        Row: {
          adjustment_notes: string | null
          compliance_compatible: boolean
          confidence: number
          created_at: string
          cultural_distance: number
          id: string
          pattern_summary: Json
          source_region_id: string
          status: string
          target_region_id: string
          transferability_score: number
          uncertainty_notes: string | null
        }
        Insert: {
          adjustment_notes?: string | null
          compliance_compatible?: boolean
          confidence: number
          created_at?: string
          cultural_distance?: number
          id?: string
          pattern_summary: Json
          source_region_id: string
          status?: string
          target_region_id: string
          transferability_score: number
          uncertainty_notes?: string | null
        }
        Update: {
          adjustment_notes?: string | null
          compliance_compatible?: boolean
          confidence?: number
          created_at?: string
          cultural_distance?: number
          id?: string
          pattern_summary?: Json
          source_region_id?: string
          status?: string
          target_region_id?: string
          transferability_score?: number
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "regional_learning_packets_source_region_id_fkey"
            columns: ["source_region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "regional_learning_packets_target_region_id_fkey"
            columns: ["target_region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
        ]
      }
      regions: {
        Row: {
          active: boolean
          boundary_geojson: Json
          country_code: string
          created_at: string
          id: string
          metadata: Json
          name: string
          parent_region_id: string | null
          slug: string
          state_code: string | null
          timezone: string
          updated_at: string
        }
        Insert: {
          active?: boolean
          boundary_geojson?: Json
          country_code: string
          created_at?: string
          id?: string
          metadata?: Json
          name: string
          parent_region_id?: string | null
          slug: string
          state_code?: string | null
          timezone?: string
          updated_at?: string
        }
        Update: {
          active?: boolean
          boundary_geojson?: Json
          country_code?: string
          created_at?: string
          id?: string
          metadata?: Json
          name?: string
          parent_region_id?: string | null
          slug?: string
          state_code?: string | null
          timezone?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "regions_parent_region_id_fkey"
            columns: ["parent_region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
        ]
      }
      reliability_certifications: {
        Row: {
          criteria_version: string
          id: string
          issued_at: string
          scope_identifier: string
          scope_type: string
          tier: string
          valid_from: string
          valid_until: string
        }
        Insert: {
          criteria_version: string
          id?: string
          issued_at?: string
          scope_identifier: string
          scope_type: string
          tier: string
          valid_from: string
          valid_until: string
        }
        Update: {
          criteria_version?: string
          id?: string
          issued_at?: string
          scope_identifier?: string
          scope_type?: string
          tier?: string
          valid_from?: string
          valid_until?: string
        }
        Relationships: []
      }
      reliability_scores: {
        Row: {
          calculated_at: string
          confidence: number
          id: string
          incident_count: number
          mttr_minutes: number | null
          scope_identifier: string
          scope_type: string
          score: number
          scoring_period_days: number
          uptime_percentage: number
        }
        Insert: {
          calculated_at?: string
          confidence?: number
          id?: string
          incident_count?: number
          mttr_minutes?: number | null
          scope_identifier: string
          scope_type: string
          score: number
          scoring_period_days?: number
          uptime_percentage: number
        }
        Update: {
          calculated_at?: string
          confidence?: number
          id?: string
          incident_count?: number
          mttr_minutes?: number | null
          scope_identifier?: string
          scope_type?: string
          score?: number
          scoring_period_days?: number
          uptime_percentage?: number
        }
        Relationships: []
      }
      rendered_insights: {
        Row: {
          audience_type: string
          confidence: number
          created_at: string
          id: string
          insight_payload: Json
          render_type: string
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          audience_type: string
          confidence: number
          created_at?: string
          id?: string
          insight_payload: Json
          render_type: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          audience_type?: string
          confidence?: number
          created_at?: string
          id?: string
          insight_payload?: Json
          render_type?: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "rendered_insights_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      replay_sessions: {
        Row: {
          created_at: string
          created_by: string
          end_time: string
          id: string
          log_count: number
          session_name: string
          start_time: string
          tenant_id: string | null
        }
        Insert: {
          created_at?: string
          created_by: string
          end_time: string
          id?: string
          log_count?: number
          session_name: string
          start_time: string
          tenant_id?: string | null
        }
        Update: {
          created_at?: string
          created_by?: string
          end_time?: string
          id?: string
          log_count?: number
          session_name?: string
          start_time?: string
          tenant_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "replay_sessions_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      research_batch_items: {
        Row: {
          batch_id: string
          id: string
          insight_id: string
        }
        Insert: {
          batch_id: string
          id?: string
          insight_id: string
        }
        Update: {
          batch_id?: string
          id?: string
          insight_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "research_batch_items_batch_id_fkey"
            columns: ["batch_id"]
            isOneToOne: false
            referencedRelation: "research_batches"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "research_batch_items_insight_id_fkey"
            columns: ["insight_id"]
            isOneToOne: false
            referencedRelation: "research_insights"
            referencedColumns: ["id"]
          },
        ]
      }
      research_batches: {
        Row: {
          batch_name: string
          brand_id: string
          category: string
          completed_at: string | null
          created_at: string | null
          high_threat_count: number
          id: string
          insight_count: number
          metadata: Json | null
          query_count: number
          status: string
        }
        Insert: {
          batch_name: string
          brand_id: string
          category: string
          completed_at?: string | null
          created_at?: string | null
          high_threat_count?: number
          id?: string
          insight_count: number
          metadata?: Json | null
          query_count: number
          status?: string
        }
        Update: {
          batch_name?: string
          brand_id?: string
          category?: string
          completed_at?: string | null
          created_at?: string | null
          high_threat_count?: number
          id?: string
          insight_count?: number
          metadata?: Json | null
          query_count?: number
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "valid_brand_batch"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brand_metadata"
            referencedColumns: ["brand_id"]
          },
        ]
      }
      research_insights: {
        Row: {
          brand_id: string
          category: string
          created_at: string | null
          founder_decision: string | null
          founder_notes: string | null
          founder_reviewed_at: string | null
          id: string
          insights: Json
          metadata: Json | null
          query: string
          recommendations: string[] | null
          requires_founder_review: boolean
          risk_level: string
          risk_score: number
          summary: string
          themes: string[] | null
          threat_level: string
        }
        Insert: {
          brand_id: string
          category: string
          created_at?: string | null
          founder_decision?: string | null
          founder_notes?: string | null
          founder_reviewed_at?: string | null
          id?: string
          insights: Json
          metadata?: Json | null
          query: string
          recommendations?: string[] | null
          requires_founder_review?: boolean
          risk_level: string
          risk_score: number
          summary: string
          themes?: string[] | null
          threat_level: string
        }
        Update: {
          brand_id?: string
          category?: string
          created_at?: string | null
          founder_decision?: string | null
          founder_notes?: string | null
          founder_reviewed_at?: string | null
          id?: string
          insights?: Json
          metadata?: Json | null
          query?: string
          recommendations?: string[] | null
          requires_founder_review?: boolean
          risk_level?: string
          risk_score?: number
          summary?: string
          themes?: string[] | null
          threat_level?: string
        }
        Relationships: [
          {
            foreignKeyName: "valid_brand"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brand_metadata"
            referencedColumns: ["brand_id"]
          },
        ]
      }
      revenue_actions: {
        Row: {
          action_type: string
          id: string
          metadata: Json | null
          opportunity_id: string
          performed_at: string | null
          result: string
        }
        Insert: {
          action_type: string
          id?: string
          metadata?: Json | null
          opportunity_id: string
          performed_at?: string | null
          result: string
        }
        Update: {
          action_type?: string
          id?: string
          metadata?: Json | null
          opportunity_id?: string
          performed_at?: string | null
          result?: string
        }
        Relationships: [
          {
            foreignKeyName: "revenue_actions_opportunity_fk"
            columns: ["opportunity_id"]
            isOneToOne: false
            referencedRelation: "revenue_opportunities"
            referencedColumns: ["id"]
          },
        ]
      }
      revenue_opportunities: {
        Row: {
          confidence: number
          created_at: string | null
          details: Json | null
          id: string
          org_id: string
          source: string
          type: string
        }
        Insert: {
          confidence?: number
          created_at?: string | null
          details?: Json | null
          id?: string
          org_id: string
          source: string
          type: string
        }
        Update: {
          confidence?: number
          created_at?: string | null
          details?: Json | null
          id?: string
          org_id?: string
          source?: string
          type?: string
        }
        Relationships: [
          {
            foreignKeyName: "revenue_opportunities_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      rich_results_monitoring: {
        Row: {
          checked_at: string
          competitor_domain: string | null
          competitor_rich_results: Json | null
          created_at: string
          founder_business_id: string | null
          has_rich_result: boolean | null
          id: string
          keyword: string
          last_seen_at: string | null
          opportunity_score: number | null
          opportunity_type: string | null
          organic_position: number | null
          rich_result_position: number | null
          rich_result_types: string[] | null
          serp_feature: string | null
          status: string | null
          url: string
          workspace_id: string
        }
        Insert: {
          checked_at?: string
          competitor_domain?: string | null
          competitor_rich_results?: Json | null
          created_at?: string
          founder_business_id?: string | null
          has_rich_result?: boolean | null
          id?: string
          keyword: string
          last_seen_at?: string | null
          opportunity_score?: number | null
          opportunity_type?: string | null
          organic_position?: number | null
          rich_result_position?: number | null
          rich_result_types?: string[] | null
          serp_feature?: string | null
          status?: string | null
          url: string
          workspace_id: string
        }
        Update: {
          checked_at?: string
          competitor_domain?: string | null
          competitor_rich_results?: Json | null
          created_at?: string
          founder_business_id?: string | null
          has_rich_result?: boolean | null
          id?: string
          keyword?: string
          last_seen_at?: string | null
          opportunity_score?: number | null
          opportunity_type?: string | null
          organic_position?: number | null
          rich_result_position?: number | null
          rich_result_types?: string[] | null
          serp_feature?: string | null
          status?: string | null
          url?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "rich_results_monitoring_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      risk_assessments: {
        Row: {
          created_at: string | null
          decision_id: string
          id: string
          recommendation: string | null
          requires_approval: boolean | null
          risk_level: string
          risk_score: number | null
          violations: Json | null
        }
        Insert: {
          created_at?: string | null
          decision_id: string
          id?: string
          recommendation?: string | null
          requires_approval?: boolean | null
          risk_level: string
          risk_score?: number | null
          violations?: Json | null
        }
        Update: {
          created_at?: string | null
          decision_id?: string
          id?: string
          recommendation?: string | null
          requires_approval?: boolean | null
          risk_level?: string
          risk_score?: number | null
          violations?: Json | null
        }
        Relationships: []
      }
      risk_boundaries: {
        Row: {
          created_at: string | null
          description: string | null
          dimension: string
          founder_approval_required: boolean | null
          id: string
          name: string
          profile_id: string
          severity: string
          threshold: number
          unit: string | null
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          dimension: string
          founder_approval_required?: boolean | null
          id?: string
          name: string
          profile_id: string
          severity: string
          threshold: number
          unit?: string | null
        }
        Update: {
          created_at?: string | null
          description?: string | null
          dimension?: string
          founder_approval_required?: boolean | null
          id?: string
          name?: string
          profile_id?: string
          severity?: string
          threshold?: number
          unit?: string | null
        }
        Relationships: []
      }
      risk_profiles: {
        Row: {
          active: boolean | null
          created_at: string | null
          description: string | null
          founder_approved: boolean | null
          id: string
          name: string
          updated_at: string | null
        }
        Insert: {
          active?: boolean | null
          created_at?: string | null
          description?: string | null
          founder_approved?: boolean | null
          id?: string
          name: string
          updated_at?: string | null
        }
        Update: {
          active?: boolean | null
          created_at?: string | null
          description?: string | null
          founder_approved?: boolean | null
          id?: string
          name?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      rollback_log: {
        Row: {
          attempted_at: string | null
          channel: string
          completed_at: string | null
          created_at: string
          error_message: string | null
          execution_id: string
          external_post_id: string | null
          id: string
          metadata: Json
          platform_response: Json | null
          reason: string | null
          requested_by: string | null
          rollback_payload: Json | null
          status: string
        }
        Insert: {
          attempted_at?: string | null
          channel: string
          completed_at?: string | null
          created_at?: string
          error_message?: string | null
          execution_id: string
          external_post_id?: string | null
          id?: string
          metadata?: Json
          platform_response?: Json | null
          reason?: string | null
          requested_by?: string | null
          rollback_payload?: Json | null
          status?: string
        }
        Update: {
          attempted_at?: string | null
          channel?: string
          completed_at?: string | null
          created_at?: string
          error_message?: string | null
          execution_id?: string
          external_post_id?: string | null
          id?: string
          metadata?: Json
          platform_response?: Json | null
          reason?: string | null
          requested_by?: string | null
          rollback_payload?: Json | null
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "rollback_log_execution_id_fkey"
            columns: ["execution_id"]
            isOneToOne: false
            referencedRelation: "posting_executions"
            referencedColumns: ["id"]
          },
        ]
      }
      safety_events: {
        Row: {
          created_at: string
          created_by: string | null
          details: Json | null
          detected_at: string
          event_type: string
          id: string
          intervention: string | null
          intervention_at: string | null
          intervention_executed: boolean | null
          resolution_notes: string | null
          resolved: boolean | null
          resolved_at: string | null
          risk_level: number
          severity: number
          source: string
          updated_at: string
          workspace_id: string
        }
        Insert: {
          created_at?: string
          created_by?: string | null
          details?: Json | null
          detected_at?: string
          event_type: string
          id?: string
          intervention?: string | null
          intervention_at?: string | null
          intervention_executed?: boolean | null
          resolution_notes?: string | null
          resolved?: boolean | null
          resolved_at?: string | null
          risk_level?: number
          severity: number
          source: string
          updated_at?: string
          workspace_id: string
        }
        Update: {
          created_at?: string
          created_by?: string | null
          details?: Json | null
          detected_at?: string
          event_type?: string
          id?: string
          intervention?: string | null
          intervention_at?: string | null
          intervention_executed?: boolean | null
          resolution_notes?: string | null
          resolved?: boolean | null
          resolved_at?: string | null
          risk_level?: number
          severity?: number
          source?: string
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "safety_events_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      safety_ledger: {
        Row: {
          action: string
          affected_agents: string[] | null
          affected_systems: string[] | null
          created_at: string
          created_by: string | null
          executed: boolean | null
          execution_timestamp: string
          id: string
          metadata: Json | null
          outcome: string | null
          outcome_notes: string | null
          risk_after: number
          risk_before: number
          risk_reduction: number | null
          timestamp: string
          trigger_event: string | null
          trigger_prediction: string | null
          uncertainty_after: number | null
          uncertainty_before: number | null
          uncertainty_reduction: number | null
          workspace_id: string
        }
        Insert: {
          action: string
          affected_agents?: string[] | null
          affected_systems?: string[] | null
          created_at?: string
          created_by?: string | null
          executed?: boolean | null
          execution_timestamp?: string
          id?: string
          metadata?: Json | null
          outcome?: string | null
          outcome_notes?: string | null
          risk_after: number
          risk_before: number
          risk_reduction?: number | null
          timestamp?: string
          trigger_event?: string | null
          trigger_prediction?: string | null
          uncertainty_after?: number | null
          uncertainty_before?: number | null
          uncertainty_reduction?: number | null
          workspace_id: string
        }
        Update: {
          action?: string
          affected_agents?: string[] | null
          affected_systems?: string[] | null
          created_at?: string
          created_by?: string | null
          executed?: boolean | null
          execution_timestamp?: string
          id?: string
          metadata?: Json | null
          outcome?: string | null
          outcome_notes?: string | null
          risk_after?: number
          risk_before?: number
          risk_reduction?: number | null
          timestamp?: string
          trigger_event?: string | null
          trigger_prediction?: string | null
          uncertainty_after?: number | null
          uncertainty_before?: number | null
          uncertainty_reduction?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "safety_ledger_trigger_event_fkey"
            columns: ["trigger_event"]
            isOneToOne: false
            referencedRelation: "safety_events"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "safety_ledger_trigger_prediction_fkey"
            columns: ["trigger_prediction"]
            isOneToOne: false
            referencedRelation: "safety_predictions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "safety_ledger_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      safety_predictions: {
        Row: {
          action_priority: string | null
          affected_agents: string[] | null
          affected_systems: string[] | null
          confidence: number
          contributing_factors: Json | null
          created_at: string
          expires_at: string
          id: string
          materialized: boolean | null
          materialized_at: string | null
          predicted_at: string
          prediction_type: string
          primary_risk_factor: string | null
          probability: number
          recommended_action: string
          secondary_risk_factors: string[] | null
          time_window_minutes: number
          updated_at: string
          workspace_id: string
        }
        Insert: {
          action_priority?: string | null
          affected_agents?: string[] | null
          affected_systems?: string[] | null
          confidence: number
          contributing_factors?: Json | null
          created_at?: string
          expires_at: string
          id?: string
          materialized?: boolean | null
          materialized_at?: string | null
          predicted_at?: string
          prediction_type: string
          primary_risk_factor?: string | null
          probability: number
          recommended_action: string
          secondary_risk_factors?: string[] | null
          time_window_minutes?: number
          updated_at?: string
          workspace_id: string
        }
        Update: {
          action_priority?: string | null
          affected_agents?: string[] | null
          affected_systems?: string[] | null
          confidence?: number
          contributing_factors?: Json | null
          created_at?: string
          expires_at?: string
          id?: string
          materialized?: boolean | null
          materialized_at?: string | null
          predicted_at?: string
          prediction_type?: string
          primary_risk_factor?: string | null
          probability?: number
          recommended_action?: string
          secondary_risk_factors?: string[] | null
          time_window_minutes?: number
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "safety_predictions_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      scaling_health_snapshots: {
        Row: {
          active_clients: number
          ai_cost_pressure_score: number
          churn_risk_score: number
          confidence_score: number
          created_at: string
          current_mode: string
          data_completeness: Json
          environment: string
          id: string
          infra_health_score: number
          metadata: Json
          overall_scaling_health_score: number
          recommendation: string
          safe_capacity: number
          summary_markdown: string
          tenant_id: string | null
          utilisation_ratio: number
          warning_density_score: number
        }
        Insert: {
          active_clients: number
          ai_cost_pressure_score: number
          churn_risk_score: number
          confidence_score?: number
          created_at?: string
          current_mode: string
          data_completeness?: Json
          environment: string
          id?: string
          infra_health_score: number
          metadata?: Json
          overall_scaling_health_score: number
          recommendation: string
          safe_capacity: number
          summary_markdown: string
          tenant_id?: string | null
          utilisation_ratio: number
          warning_density_score: number
        }
        Update: {
          active_clients?: number
          ai_cost_pressure_score?: number
          churn_risk_score?: number
          confidence_score?: number
          created_at?: string
          current_mode?: string
          data_completeness?: Json
          environment?: string
          id?: string
          infra_health_score?: number
          metadata?: Json
          overall_scaling_health_score?: number
          recommendation?: string
          safe_capacity?: number
          summary_markdown?: string
          tenant_id?: string | null
          utilisation_ratio?: number
          warning_density_score?: number
        }
        Relationships: [
          {
            foreignKeyName: "scaling_health_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      scaling_history: {
        Row: {
          actor: string
          created_at: string
          environment: string
          event_type: string
          id: string
          metadata: Json
          new_mode: string | null
          old_mode: string | null
          reason_markdown: string
          snapshot_id: string | null
        }
        Insert: {
          actor?: string
          created_at?: string
          environment: string
          event_type: string
          id?: string
          metadata?: Json
          new_mode?: string | null
          old_mode?: string | null
          reason_markdown: string
          snapshot_id?: string | null
        }
        Update: {
          actor?: string
          created_at?: string
          environment?: string
          event_type?: string
          id?: string
          metadata?: Json
          new_mode?: string | null
          old_mode?: string | null
          reason_markdown?: string
          snapshot_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "scaling_history_snapshot_id_fkey"
            columns: ["snapshot_id"]
            isOneToOne: false
            referencedRelation: "scaling_health_snapshots"
            referencedColumns: ["id"]
          },
        ]
      }
      scaling_mode_config: {
        Row: {
          auto_mode_enabled: boolean
          created_at: string
          current_mode: string
          environment: string
          guardrail_thresholds: Json
          id: string
          metadata: Json
          mode_limits: Json
          updated_at: string
          updated_by: string | null
        }
        Insert: {
          auto_mode_enabled?: boolean
          created_at?: string
          current_mode?: string
          environment: string
          guardrail_thresholds?: Json
          id?: string
          metadata?: Json
          mode_limits?: Json
          updated_at?: string
          updated_by?: string | null
        }
        Update: {
          auto_mode_enabled?: boolean
          created_at?: string
          current_mode?: string
          environment?: string
          guardrail_thresholds?: Json
          id?: string
          metadata?: Json
          mode_limits?: Json
          updated_at?: string
          updated_by?: string | null
        }
        Relationships: []
      }
      scheduling_availability_history: {
        Row: {
          buffer_after_minutes: number | null
          buffer_before_minutes: number | null
          confidence: number
          created_at: string | null
          duration_minutes: number
          id: string
          is_business_hours: boolean
          request_id: string
          slot_end: string
          slot_start: string
        }
        Insert: {
          buffer_after_minutes?: number | null
          buffer_before_minutes?: number | null
          confidence: number
          created_at?: string | null
          duration_minutes: number
          id?: string
          is_business_hours?: boolean
          request_id: string
          slot_end: string
          slot_start: string
        }
        Update: {
          buffer_after_minutes?: number | null
          buffer_before_minutes?: number | null
          confidence?: number
          created_at?: string | null
          duration_minutes?: number
          id?: string
          is_business_hours?: boolean
          request_id?: string
          slot_end?: string
          slot_start?: string
        }
        Relationships: [
          {
            foreignKeyName: "scheduling_availability_history_request_id_fkey"
            columns: ["request_id"]
            isOneToOne: false
            referencedRelation: "scheduling_requests"
            referencedColumns: ["id"]
          },
        ]
      }
      scheduling_communications: {
        Row: {
          clicked_at: string | null
          communication_type: string
          content_preview: string | null
          created_at: string | null
          delivery_status: string | null
          id: string
          read_at: string | null
          recipient_email: string
          request_id: string
          sent_at: string | null
          status: string
          subject: string | null
        }
        Insert: {
          clicked_at?: string | null
          communication_type: string
          content_preview?: string | null
          created_at?: string | null
          delivery_status?: string | null
          id?: string
          read_at?: string | null
          recipient_email: string
          request_id: string
          sent_at?: string | null
          status?: string
          subject?: string | null
        }
        Update: {
          clicked_at?: string | null
          communication_type?: string
          content_preview?: string | null
          created_at?: string | null
          delivery_status?: string | null
          id?: string
          read_at?: string | null
          recipient_email?: string
          request_id?: string
          sent_at?: string | null
          status?: string
          subject?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "scheduling_communications_request_id_fkey"
            columns: ["request_id"]
            isOneToOne: false
            referencedRelation: "scheduling_requests"
            referencedColumns: ["id"]
          },
        ]
      }
      scheduling_conflicts: {
        Row: {
          created_at: string | null
          event_a_end: string
          event_a_start: string
          event_a_title: string
          event_b_end: string
          event_b_start: string
          event_b_title: string
          id: string
          overlap_minutes: number
          request_id: string
          resolution_suggested: string | null
          severity: string
        }
        Insert: {
          created_at?: string | null
          event_a_end: string
          event_a_start: string
          event_a_title: string
          event_b_end: string
          event_b_start: string
          event_b_title: string
          id?: string
          overlap_minutes: number
          request_id: string
          resolution_suggested?: string | null
          severity: string
        }
        Update: {
          created_at?: string | null
          event_a_end?: string
          event_a_start?: string
          event_a_title?: string
          event_b_end?: string
          event_b_start?: string
          event_b_title?: string
          id?: string
          overlap_minutes?: number
          request_id?: string
          resolution_suggested?: string | null
          severity?: string
        }
        Relationships: [
          {
            foreignKeyName: "scheduling_conflicts_request_id_fkey"
            columns: ["request_id"]
            isOneToOne: false
            referencedRelation: "scheduling_requests"
            referencedColumns: ["id"]
          },
        ]
      }
      scheduling_requests: {
        Row: {
          approval_status: string
          available_slots: Json
          brand_id: string
          calendar_events: Json
          calendar_invite: string | null
          confirmed_time: string | null
          conflicts: Json
          created_at: string | null
          date_range_end: string
          date_range_start: string
          description: string | null
          duration_minutes: number
          founder_decision: string | null
          founder_notes: string | null
          founder_reviewed_at: string | null
          id: string
          meeting_confirmed_at: string | null
          metadata: Json | null
          participant: string
          participant_email: string
          preferred_times: string[] | null
          proposal_email: string | null
          ready_to_send: boolean
          requires_founder_review: boolean
          risk_level: string
          risk_reasons: string[] | null
          risk_score: number
          sent_at: string | null
          timezone: string | null
        }
        Insert: {
          approval_status?: string
          available_slots?: Json
          brand_id: string
          calendar_events?: Json
          calendar_invite?: string | null
          confirmed_time?: string | null
          conflicts?: Json
          created_at?: string | null
          date_range_end: string
          date_range_start: string
          description?: string | null
          duration_minutes: number
          founder_decision?: string | null
          founder_notes?: string | null
          founder_reviewed_at?: string | null
          id?: string
          meeting_confirmed_at?: string | null
          metadata?: Json | null
          participant: string
          participant_email: string
          preferred_times?: string[] | null
          proposal_email?: string | null
          ready_to_send?: boolean
          requires_founder_review?: boolean
          risk_level?: string
          risk_reasons?: string[] | null
          risk_score?: number
          sent_at?: string | null
          timezone?: string | null
        }
        Update: {
          approval_status?: string
          available_slots?: Json
          brand_id?: string
          calendar_events?: Json
          calendar_invite?: string | null
          confirmed_time?: string | null
          conflicts?: Json
          created_at?: string | null
          date_range_end?: string
          date_range_start?: string
          description?: string | null
          duration_minutes?: number
          founder_decision?: string | null
          founder_notes?: string | null
          founder_reviewed_at?: string | null
          id?: string
          meeting_confirmed_at?: string | null
          metadata?: Json | null
          participant?: string
          participant_email?: string
          preferred_times?: string[] | null
          proposal_email?: string | null
          ready_to_send?: boolean
          requires_founder_review?: boolean
          risk_level?: string
          risk_reasons?: string[] | null
          risk_score?: number
          sent_at?: string | null
          timezone?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "valid_brand"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brand_metadata"
            referencedColumns: ["brand_id"]
          },
        ]
      }
      schema_templates: {
        Row: {
          created_at: string
          founder_business_id: string | null
          id: string
          is_default: boolean | null
          name: string
          schema_body: Json | null
          schema_type: string
          template_json: Json
          template_name: string | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          created_at?: string
          founder_business_id?: string | null
          id?: string
          is_default?: boolean | null
          name: string
          schema_body?: Json | null
          schema_type: string
          template_json: Json
          template_name?: string | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          created_at?: string
          founder_business_id?: string | null
          id?: string
          is_default?: boolean | null
          name?: string
          schema_body?: Json | null
          schema_type?: string
          template_json?: Json
          template_name?: string | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "schema_templates_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      scraping_jobs: {
        Row: {
          analysis_type: string
          created_at: string | null
          error_message: string | null
          frequency: string | null
          id: string
          last_run_at: string | null
          next_run_at: string | null
          status: string | null
          updated_at: string | null
          url: string
          workspace_id: string
        }
        Insert: {
          analysis_type: string
          created_at?: string | null
          error_message?: string | null
          frequency?: string | null
          id?: string
          last_run_at?: string | null
          next_run_at?: string | null
          status?: string | null
          updated_at?: string | null
          url: string
          workspace_id: string
        }
        Update: {
          analysis_type?: string
          created_at?: string | null
          error_message?: string | null
          frequency?: string | null
          id?: string
          last_run_at?: string | null
          next_run_at?: string | null
          status?: string | null
          updated_at?: string | null
          url?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "scraping_jobs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      search_audit_reports: {
        Row: {
          audit_type: string
          backlink_score: number | null
          comparison_to_previous: Json | null
          completed_at: string | null
          content_score: number | null
          created_at: string | null
          duration_seconds: number | null
          error_message: string | null
          id: string
          issues: Json | null
          issues_critical: number | null
          issues_high: number | null
          issues_low: number | null
          issues_medium: number | null
          metadata: Json | null
          opportunities: Json | null
          opportunities_count: number | null
          overall_score: number | null
          pages_crawled: number | null
          recommendations: Json | null
          search_project_id: string
          started_at: string | null
          status: string | null
          technical_score: number | null
          ux_score: number | null
          workspace_id: string
        }
        Insert: {
          audit_type: string
          backlink_score?: number | null
          comparison_to_previous?: Json | null
          completed_at?: string | null
          content_score?: number | null
          created_at?: string | null
          duration_seconds?: number | null
          error_message?: string | null
          id?: string
          issues?: Json | null
          issues_critical?: number | null
          issues_high?: number | null
          issues_low?: number | null
          issues_medium?: number | null
          metadata?: Json | null
          opportunities?: Json | null
          opportunities_count?: number | null
          overall_score?: number | null
          pages_crawled?: number | null
          recommendations?: Json | null
          search_project_id: string
          started_at?: string | null
          status?: string | null
          technical_score?: number | null
          ux_score?: number | null
          workspace_id: string
        }
        Update: {
          audit_type?: string
          backlink_score?: number | null
          comparison_to_previous?: Json | null
          completed_at?: string | null
          content_score?: number | null
          created_at?: string | null
          duration_seconds?: number | null
          error_message?: string | null
          id?: string
          issues?: Json | null
          issues_critical?: number | null
          issues_high?: number | null
          issues_low?: number | null
          issues_medium?: number | null
          metadata?: Json | null
          opportunities?: Json | null
          opportunities_count?: number | null
          overall_score?: number | null
          pages_crawled?: number | null
          recommendations?: Json | null
          search_project_id?: string
          started_at?: string | null
          status?: string | null
          technical_score?: number | null
          ux_score?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "search_audit_reports_search_project_id_fkey"
            columns: ["search_project_id"]
            isOneToOne: false
            referencedRelation: "search_projects"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "search_audit_reports_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      search_bing_snapshots: {
        Row: {
          clicks: number | null
          created_at: string | null
          ctr: number | null
          dimension_type: string
          dimension_value: string
          id: string
          impressions: number | null
          position: number | null
          search_project_id: string
          snapshot_date: string
          workspace_id: string
        }
        Insert: {
          clicks?: number | null
          created_at?: string | null
          ctr?: number | null
          dimension_type: string
          dimension_value: string
          id?: string
          impressions?: number | null
          position?: number | null
          search_project_id: string
          snapshot_date: string
          workspace_id: string
        }
        Update: {
          clicks?: number | null
          created_at?: string | null
          ctr?: number | null
          dimension_type?: string
          dimension_value?: string
          id?: string
          impressions?: number | null
          position?: number | null
          search_project_id?: string
          snapshot_date?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "search_bing_snapshots_search_project_id_fkey"
            columns: ["search_project_id"]
            isOneToOne: false
            referencedRelation: "search_projects"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "search_bing_snapshots_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      search_competitors: {
        Row: {
          avg_position: number | null
          comparison_data: Json | null
          created_at: string | null
          description: string | null
          discovered_via: string | null
          domain: string
          domain_authority: number | null
          estimated_traffic: number | null
          gap_keywords: string[] | null
          id: string
          is_direct_competitor: boolean | null
          keywords_better_than_us: number | null
          keywords_worse_than_us: number | null
          label: string | null
          last_compared_at: string | null
          metadata: Json | null
          opportunity_keywords: string[] | null
          overlap_keywords: string[] | null
          search_project_id: string
          status: string | null
          total_keywords_tracked: number | null
          updated_at: string | null
          visibility_score: number | null
          workspace_id: string
        }
        Insert: {
          avg_position?: number | null
          comparison_data?: Json | null
          created_at?: string | null
          description?: string | null
          discovered_via?: string | null
          domain: string
          domain_authority?: number | null
          estimated_traffic?: number | null
          gap_keywords?: string[] | null
          id?: string
          is_direct_competitor?: boolean | null
          keywords_better_than_us?: number | null
          keywords_worse_than_us?: number | null
          label?: string | null
          last_compared_at?: string | null
          metadata?: Json | null
          opportunity_keywords?: string[] | null
          overlap_keywords?: string[] | null
          search_project_id: string
          status?: string | null
          total_keywords_tracked?: number | null
          updated_at?: string | null
          visibility_score?: number | null
          workspace_id: string
        }
        Update: {
          avg_position?: number | null
          comparison_data?: Json | null
          created_at?: string | null
          description?: string | null
          discovered_via?: string | null
          domain?: string
          domain_authority?: number | null
          estimated_traffic?: number | null
          gap_keywords?: string[] | null
          id?: string
          is_direct_competitor?: boolean | null
          keywords_better_than_us?: number | null
          keywords_worse_than_us?: number | null
          label?: string | null
          last_compared_at?: string | null
          metadata?: Json | null
          opportunity_keywords?: string[] | null
          overlap_keywords?: string[] | null
          search_project_id?: string
          status?: string | null
          total_keywords_tracked?: number | null
          updated_at?: string | null
          visibility_score?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "search_competitors_search_project_id_fkey"
            columns: ["search_project_id"]
            isOneToOne: false
            referencedRelation: "search_projects"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "search_competitors_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      search_gsc_snapshots: {
        Row: {
          clicks: number | null
          created_at: string | null
          ctr: number | null
          dimension_type: string
          dimension_value: string
          id: string
          impressions: number | null
          position: number | null
          search_project_id: string
          snapshot_date: string
          workspace_id: string
        }
        Insert: {
          clicks?: number | null
          created_at?: string | null
          ctr?: number | null
          dimension_type: string
          dimension_value: string
          id?: string
          impressions?: number | null
          position?: number | null
          search_project_id: string
          snapshot_date: string
          workspace_id: string
        }
        Update: {
          clicks?: number | null
          created_at?: string | null
          ctr?: number | null
          dimension_type?: string
          dimension_value?: string
          id?: string
          impressions?: number | null
          position?: number | null
          search_project_id?: string
          snapshot_date?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "search_gsc_snapshots_search_project_id_fkey"
            columns: ["search_project_id"]
            isOneToOne: false
            referencedRelation: "search_projects"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "search_gsc_snapshots_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      search_keywords: {
        Row: {
          avg_position: number | null
          best_position: number | null
          clicks: number | null
          competition: string | null
          competition_score: number | null
          cpc: number | null
          created_at: string | null
          ctr: number | null
          current_position: number | null
          current_url: string | null
          device: string | null
          difficulty_score: number | null
          founder_business_id: string | null
          id: string
          impressions: number | null
          intent_confidence: number | null
          intent_label: string | null
          is_featured_snippet: boolean | null
          is_local_pack: boolean | null
          keyword: string
          language: string | null
          last_checked_at: string | null
          location: string | null
          metadata: Json | null
          notes: string | null
          observed_at: string | null
          position_change: number | null
          position_change_30d: number | null
          priority: string | null
          search_engine: string | null
          search_project_id: string
          search_volume: number | null
          search_volume_trend: number | null
          serp_features: string[] | null
          serp_position: number | null
          tags: string[] | null
          tracking_started_at: string | null
          trend: string | null
          updated_at: string | null
          volatility: number | null
          workspace_id: string
          worst_position: number | null
        }
        Insert: {
          avg_position?: number | null
          best_position?: number | null
          clicks?: number | null
          competition?: string | null
          competition_score?: number | null
          cpc?: number | null
          created_at?: string | null
          ctr?: number | null
          current_position?: number | null
          current_url?: string | null
          device?: string | null
          difficulty_score?: number | null
          founder_business_id?: string | null
          id?: string
          impressions?: number | null
          intent_confidence?: number | null
          intent_label?: string | null
          is_featured_snippet?: boolean | null
          is_local_pack?: boolean | null
          keyword: string
          language?: string | null
          last_checked_at?: string | null
          location?: string | null
          metadata?: Json | null
          notes?: string | null
          observed_at?: string | null
          position_change?: number | null
          position_change_30d?: number | null
          priority?: string | null
          search_engine?: string | null
          search_project_id: string
          search_volume?: number | null
          search_volume_trend?: number | null
          serp_features?: string[] | null
          serp_position?: number | null
          tags?: string[] | null
          tracking_started_at?: string | null
          trend?: string | null
          updated_at?: string | null
          volatility?: number | null
          workspace_id: string
          worst_position?: number | null
        }
        Update: {
          avg_position?: number | null
          best_position?: number | null
          clicks?: number | null
          competition?: string | null
          competition_score?: number | null
          cpc?: number | null
          created_at?: string | null
          ctr?: number | null
          current_position?: number | null
          current_url?: string | null
          device?: string | null
          difficulty_score?: number | null
          founder_business_id?: string | null
          id?: string
          impressions?: number | null
          intent_confidence?: number | null
          intent_label?: string | null
          is_featured_snippet?: boolean | null
          is_local_pack?: boolean | null
          keyword?: string
          language?: string | null
          last_checked_at?: string | null
          location?: string | null
          metadata?: Json | null
          notes?: string | null
          observed_at?: string | null
          position_change?: number | null
          position_change_30d?: number | null
          priority?: string | null
          search_engine?: string | null
          search_project_id?: string
          search_volume?: number | null
          search_volume_trend?: number | null
          serp_features?: string[] | null
          serp_position?: number | null
          tags?: string[] | null
          tracking_started_at?: string | null
          trend?: string | null
          updated_at?: string | null
          volatility?: number | null
          workspace_id?: string
          worst_position?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "search_keywords_search_project_id_fkey"
            columns: ["search_project_id"]
            isOneToOne: false
            referencedRelation: "search_projects"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "search_keywords_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      search_projects: {
        Row: {
          bing_connected: boolean | null
          bing_last_sync_at: string | null
          bing_site_url: string | null
          created_at: string | null
          default_device: string | null
          default_language: string | null
          default_location: string | null
          description: string | null
          domain: string
          domain_verified: boolean | null
          gsc_connected: boolean | null
          gsc_last_sync_at: string | null
          gsc_property_url: string | null
          health_score: number | null
          id: string
          label: string | null
          last_audit_at: string | null
          metadata: Json | null
          search_engine: string
          status: string | null
          total_competitors: number | null
          total_keywords: number | null
          updated_at: string | null
          verification_method: string | null
          verification_token: string | null
          verified_at: string | null
          workspace_id: string
        }
        Insert: {
          bing_connected?: boolean | null
          bing_last_sync_at?: string | null
          bing_site_url?: string | null
          created_at?: string | null
          default_device?: string | null
          default_language?: string | null
          default_location?: string | null
          description?: string | null
          domain: string
          domain_verified?: boolean | null
          gsc_connected?: boolean | null
          gsc_last_sync_at?: string | null
          gsc_property_url?: string | null
          health_score?: number | null
          id?: string
          label?: string | null
          last_audit_at?: string | null
          metadata?: Json | null
          search_engine?: string
          status?: string | null
          total_competitors?: number | null
          total_keywords?: number | null
          updated_at?: string | null
          verification_method?: string | null
          verification_token?: string | null
          verified_at?: string | null
          workspace_id: string
        }
        Update: {
          bing_connected?: boolean | null
          bing_last_sync_at?: string | null
          bing_site_url?: string | null
          created_at?: string | null
          default_device?: string | null
          default_language?: string | null
          default_location?: string | null
          description?: string | null
          domain?: string
          domain_verified?: boolean | null
          gsc_connected?: boolean | null
          gsc_last_sync_at?: string | null
          gsc_property_url?: string | null
          health_score?: number | null
          id?: string
          label?: string | null
          last_audit_at?: string | null
          metadata?: Json | null
          search_engine?: string
          status?: string | null
          total_competitors?: number | null
          total_keywords?: number | null
          updated_at?: string | null
          verification_method?: string | null
          verification_token?: string | null
          verified_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "search_projects_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      search_serp_snapshots: {
        Row: {
          capture_method: string | null
          competitor_positions: Json | null
          created_at: string | null
          description: string | null
          device: string | null
          error_message: string | null
          has_featured_snippet: boolean | null
          has_image_pack: boolean | null
          has_knowledge_panel: boolean | null
          has_local_pack: boolean | null
          has_people_also_ask: boolean | null
          has_shopping_results: boolean | null
          has_video_carousel: boolean | null
          id: string
          is_own_domain: boolean | null
          location: string | null
          position: number | null
          position_change: number | null
          previous_position: number | null
          raw_serp_results: Json | null
          screenshot_bucket: string | null
          screenshot_path: string | null
          screenshot_size_bytes: number | null
          search_engine: string
          search_keyword_id: string
          search_project_id: string
          search_time_seconds: number | null
          serp_features: Json | null
          snapshot_at: string
          title: string | null
          top_10_domains: string[] | null
          total_results: number | null
          url: string | null
          workspace_id: string
        }
        Insert: {
          capture_method?: string | null
          competitor_positions?: Json | null
          created_at?: string | null
          description?: string | null
          device?: string | null
          error_message?: string | null
          has_featured_snippet?: boolean | null
          has_image_pack?: boolean | null
          has_knowledge_panel?: boolean | null
          has_local_pack?: boolean | null
          has_people_also_ask?: boolean | null
          has_shopping_results?: boolean | null
          has_video_carousel?: boolean | null
          id?: string
          is_own_domain?: boolean | null
          location?: string | null
          position?: number | null
          position_change?: number | null
          previous_position?: number | null
          raw_serp_results?: Json | null
          screenshot_bucket?: string | null
          screenshot_path?: string | null
          screenshot_size_bytes?: number | null
          search_engine?: string
          search_keyword_id: string
          search_project_id: string
          search_time_seconds?: number | null
          serp_features?: Json | null
          snapshot_at?: string
          title?: string | null
          top_10_domains?: string[] | null
          total_results?: number | null
          url?: string | null
          workspace_id: string
        }
        Update: {
          capture_method?: string | null
          competitor_positions?: Json | null
          created_at?: string | null
          description?: string | null
          device?: string | null
          error_message?: string | null
          has_featured_snippet?: boolean | null
          has_image_pack?: boolean | null
          has_knowledge_panel?: boolean | null
          has_local_pack?: boolean | null
          has_people_also_ask?: boolean | null
          has_shopping_results?: boolean | null
          has_video_carousel?: boolean | null
          id?: string
          is_own_domain?: boolean | null
          location?: string | null
          position?: number | null
          position_change?: number | null
          previous_position?: number | null
          raw_serp_results?: Json | null
          screenshot_bucket?: string | null
          screenshot_path?: string | null
          screenshot_size_bytes?: number | null
          search_engine?: string
          search_keyword_id?: string
          search_project_id?: string
          search_time_seconds?: number | null
          serp_features?: Json | null
          snapshot_at?: string
          title?: string | null
          top_10_domains?: string[] | null
          total_results?: number | null
          url?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "search_serp_snapshots_search_keyword_id_fkey"
            columns: ["search_keyword_id"]
            isOneToOne: false
            referencedRelation: "search_keywords"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "search_serp_snapshots_search_project_id_fkey"
            columns: ["search_project_id"]
            isOneToOne: false
            referencedRelation: "search_projects"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "search_serp_snapshots_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      search_volatility_alerts: {
        Row: {
          acknowledged_at: string | null
          acknowledged_by: string | null
          affected_keywords: string[] | null
          affected_urls: string[] | null
          alert_date: string | null
          alert_type: string
          baseline_date: string | null
          comparison_period: string | null
          created_at: string | null
          description: string
          detected_at: string
          id: string
          metric_change_absolute: number | null
          metric_change_percentage: number | null
          metric_current_value: number | null
          metric_json: Json | null
          metric_name: string | null
          metric_previous_value: number | null
          notification_channels: string[] | null
          notification_sent: boolean | null
          notification_sent_at: string | null
          resolution_notes: string | null
          resolved_at: string | null
          resolved_by: string | null
          search_keyword_id: string | null
          search_project_id: string
          severity: string
          status: string | null
          title: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          affected_keywords?: string[] | null
          affected_urls?: string[] | null
          alert_date?: string | null
          alert_type: string
          baseline_date?: string | null
          comparison_period?: string | null
          created_at?: string | null
          description: string
          detected_at?: string
          id?: string
          metric_change_absolute?: number | null
          metric_change_percentage?: number | null
          metric_current_value?: number | null
          metric_json?: Json | null
          metric_name?: string | null
          metric_previous_value?: number | null
          notification_channels?: string[] | null
          notification_sent?: boolean | null
          notification_sent_at?: string | null
          resolution_notes?: string | null
          resolved_at?: string | null
          resolved_by?: string | null
          search_keyword_id?: string | null
          search_project_id: string
          severity?: string
          status?: string | null
          title: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          affected_keywords?: string[] | null
          affected_urls?: string[] | null
          alert_date?: string | null
          alert_type?: string
          baseline_date?: string | null
          comparison_period?: string | null
          created_at?: string | null
          description?: string
          detected_at?: string
          id?: string
          metric_change_absolute?: number | null
          metric_change_percentage?: number | null
          metric_current_value?: number | null
          metric_json?: Json | null
          metric_name?: string | null
          metric_previous_value?: number | null
          notification_channels?: string[] | null
          notification_sent?: boolean | null
          notification_sent_at?: string | null
          resolution_notes?: string | null
          resolved_at?: string | null
          resolved_by?: string | null
          search_keyword_id?: string | null
          search_project_id?: string
          severity?: string
          status?: string | null
          title?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "search_volatility_alerts_search_keyword_id_fkey"
            columns: ["search_keyword_id"]
            isOneToOne: false
            referencedRelation: "search_keywords"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "search_volatility_alerts_search_project_id_fkey"
            columns: ["search_project_id"]
            isOneToOne: false
            referencedRelation: "search_projects"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "search_volatility_alerts_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      self_correction_cycles: {
        Row: {
          affected_agents: string[] | null
          autonomy_run_id: string | null
          completed_at: string | null
          confidence: number | null
          created_at: string
          created_by: string | null
          cycle_type: string
          description: string | null
          effectiveness_score: number | null
          id: string
          improvement_actions: Json | null
          predicted_failure_probability: number | null
          predicted_failure_type: string | null
          risk_score: number | null
          started_at: string | null
          status: string
          updated_at: string
          weakness_clusters: Json | null
          workspace_id: string
        }
        Insert: {
          affected_agents?: string[] | null
          autonomy_run_id?: string | null
          completed_at?: string | null
          confidence?: number | null
          created_at?: string
          created_by?: string | null
          cycle_type: string
          description?: string | null
          effectiveness_score?: number | null
          id?: string
          improvement_actions?: Json | null
          predicted_failure_probability?: number | null
          predicted_failure_type?: string | null
          risk_score?: number | null
          started_at?: string | null
          status?: string
          updated_at?: string
          weakness_clusters?: Json | null
          workspace_id: string
        }
        Update: {
          affected_agents?: string[] | null
          autonomy_run_id?: string | null
          completed_at?: string | null
          confidence?: number | null
          created_at?: string
          created_by?: string | null
          cycle_type?: string
          description?: string | null
          effectiveness_score?: number | null
          id?: string
          improvement_actions?: Json | null
          predicted_failure_probability?: number | null
          predicted_failure_type?: string | null
          risk_score?: number | null
          started_at?: string | null
          status?: string
          updated_at?: string
          weakness_clusters?: Json | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "self_correction_cycles_autonomy_run_id_fkey"
            columns: ["autonomy_run_id"]
            isOneToOne: false
            referencedRelation: "global_autonomy_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_correction_cycles_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      self_correction_graph: {
        Row: {
          confidence: number | null
          created_at: string
          cycle_id: string
          id: string
          link_type: string | null
          node_type: string
          notes: string | null
          related_agent: string | null
          related_memory_id: string | null
          related_orchestrator_task_id: string | null
          related_reasoning_run_id: string | null
          severity: number | null
        }
        Insert: {
          confidence?: number | null
          created_at?: string
          cycle_id: string
          id?: string
          link_type?: string | null
          node_type: string
          notes?: string | null
          related_agent?: string | null
          related_memory_id?: string | null
          related_orchestrator_task_id?: string | null
          related_reasoning_run_id?: string | null
          severity?: number | null
        }
        Update: {
          confidence?: number | null
          created_at?: string
          cycle_id?: string
          id?: string
          link_type?: string | null
          node_type?: string
          notes?: string | null
          related_agent?: string | null
          related_memory_id?: string | null
          related_orchestrator_task_id?: string | null
          related_reasoning_run_id?: string | null
          severity?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "self_correction_graph_cycle_id_fkey"
            columns: ["cycle_id"]
            isOneToOne: false
            referencedRelation: "self_correction_cycles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_correction_graph_related_memory_id_fkey"
            columns: ["related_memory_id"]
            isOneToOne: false
            referencedRelation: "ai_memory"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_correction_graph_related_orchestrator_task_id_fkey"
            columns: ["related_orchestrator_task_id"]
            isOneToOne: false
            referencedRelation: "orchestrator_tasks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_correction_graph_related_reasoning_run_id_fkey"
            columns: ["related_reasoning_run_id"]
            isOneToOne: false
            referencedRelation: "reasoning_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      self_healing_decisions: {
        Row: {
          created_at: string
          decision: string
          decision_by: string | null
          decision_reason: string | null
          id: string
          job_id: string
          patch_id: string | null
        }
        Insert: {
          created_at?: string
          decision: string
          decision_by?: string | null
          decision_reason?: string | null
          id?: string
          job_id: string
          patch_id?: string | null
        }
        Update: {
          created_at?: string
          decision?: string
          decision_by?: string | null
          decision_reason?: string | null
          id?: string
          job_id?: string
          patch_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "self_healing_decisions_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "self_healing_jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_healing_decisions_patch_id_fkey"
            columns: ["patch_id"]
            isOneToOne: false
            referencedRelation: "self_healing_patches"
            referencedColumns: ["id"]
          },
        ]
      }
      self_healing_jobs: {
        Row: {
          ai_recommended_actions: string | null
          ai_summary: string | null
          created_at: string
          error_category: string
          error_signature: string
          first_seen_at: string
          id: string
          last_seen_at: string
          occurrences: number
          related_anomaly_ids: string[] | null
          related_observability_log_ids: string[] | null
          route: string
          severity: string
          status: string
          updated_at: string
        }
        Insert: {
          ai_recommended_actions?: string | null
          ai_summary?: string | null
          created_at?: string
          error_category: string
          error_signature: string
          first_seen_at?: string
          id?: string
          last_seen_at?: string
          occurrences?: number
          related_anomaly_ids?: string[] | null
          related_observability_log_ids?: string[] | null
          route: string
          severity?: string
          status?: string
          updated_at?: string
        }
        Update: {
          ai_recommended_actions?: string | null
          ai_summary?: string | null
          created_at?: string
          error_category?: string
          error_signature?: string
          first_seen_at?: string
          id?: string
          last_seen_at?: string
          occurrences?: number
          related_anomaly_ids?: string[] | null
          related_observability_log_ids?: string[] | null
          route?: string
          severity?: string
          status?: string
          updated_at?: string
        }
        Relationships: []
      }
      self_healing_patches: {
        Row: {
          ai_diff_proposal: string | null
          ai_patch_payload: Json | null
          confidence_score: number | null
          created_at: string
          created_by: string | null
          description: string
          files_changed: string[]
          id: string
          job_id: string
          patch_type: string
          sandbox_branch: string | null
          sql_migration_path: string | null
          status: string
          updated_at: string
        }
        Insert: {
          ai_diff_proposal?: string | null
          ai_patch_payload?: Json | null
          confidence_score?: number | null
          created_at?: string
          created_by?: string | null
          description: string
          files_changed?: string[]
          id?: string
          job_id: string
          patch_type: string
          sandbox_branch?: string | null
          sql_migration_path?: string | null
          status?: string
          updated_at?: string
        }
        Update: {
          ai_diff_proposal?: string | null
          ai_patch_payload?: Json | null
          confidence_score?: number | null
          created_at?: string
          created_by?: string | null
          description?: string
          files_changed?: string[]
          id?: string
          job_id?: string
          patch_type?: string
          sandbox_branch?: string | null
          sql_migration_path?: string | null
          status?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "self_healing_patches_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "self_healing_jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      sent_emails: {
        Row: {
          body_html: string | null
          body_text: string | null
          campaign_id: string | null
          contact_id: string | null
          created_at: string
          from_email: string
          id: string
          integration_id: string | null
          metadata: Json | null
          org_id: string
          sent_at: string | null
          status: string
          subject: string
          to_email: string
          updated_at: string
          workspace_id: string
        }
        Insert: {
          body_html?: string | null
          body_text?: string | null
          campaign_id?: string | null
          contact_id?: string | null
          created_at?: string
          from_email: string
          id?: string
          integration_id?: string | null
          metadata?: Json | null
          org_id: string
          sent_at?: string | null
          status?: string
          subject: string
          to_email: string
          updated_at?: string
          workspace_id: string
        }
        Update: {
          body_html?: string | null
          body_text?: string | null
          campaign_id?: string | null
          contact_id?: string | null
          created_at?: string
          from_email?: string
          id?: string
          integration_id?: string | null
          metadata?: Json | null
          org_id?: string
          sent_at?: string | null
          status?: string
          subject?: string
          to_email?: string
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_sent_emails_campaign"
            columns: ["campaign_id"]
            isOneToOne: false
            referencedRelation: "campaigns"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_sent_emails_contact"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_sent_emails_integration"
            columns: ["integration_id"]
            isOneToOne: false
            referencedRelation: "email_integrations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_sent_emails_org"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_sent_emails_workspace"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      seo_audit_jobs: {
        Row: {
          audit_type: string
          client_id: string | null
          completed_at: string | null
          created_at: string
          domain: string
          error_message: string | null
          finished_at: string | null
          founder_business_id: string | null
          id: string
          scheduled_at: string | null
          started_at: string | null
          status: string
          target_identifier: string | null
          target_type: string | null
          updated_at: string
          url: string
          workspace_id: string
        }
        Insert: {
          audit_type?: string
          client_id?: string | null
          completed_at?: string | null
          created_at?: string
          domain: string
          error_message?: string | null
          finished_at?: string | null
          founder_business_id?: string | null
          id?: string
          scheduled_at?: string | null
          started_at?: string | null
          status?: string
          target_identifier?: string | null
          target_type?: string | null
          updated_at?: string
          url: string
          workspace_id: string
        }
        Update: {
          audit_type?: string
          client_id?: string | null
          completed_at?: string | null
          created_at?: string
          domain?: string
          error_message?: string | null
          finished_at?: string | null
          founder_business_id?: string | null
          id?: string
          scheduled_at?: string | null
          started_at?: string | null
          status?: string
          target_identifier?: string | null
          target_type?: string | null
          updated_at?: string
          url?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "seo_audit_jobs_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "seo_audit_jobs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      seo_audit_results: {
        Row: {
          audit_job_id: string
          broken_links: number | null
          cls_score: number | null
          content_score: number
          core_web_vitals: Json | null
          crawlability: Json | null
          created_at: string
          critical_issues: Json | null
          duplicate_content_pages: number | null
          fcp_ms: number | null
          fid_ms: number | null
          font_sizes_legible: boolean | null
          https_enabled: boolean | null
          id: string
          lcp_ms: number | null
          leak_aligned_scores: Json | null
          missing_meta_pages: number | null
          mixed_content_issues: number | null
          mobile_friendly: boolean | null
          mobile_metrics: Json | null
          mobile_score: number
          opportunities: Json | null
          overall_score: number
          pages_crawled: number | null
          pages_with_issues: number | null
          passed_checks: Json | null
          performance_score: number
          raw_crawl_data: Json | null
          raw_lighthouse_data: Json | null
          recommendations: Json | null
          redirect_chains: number | null
          schema_errors: Json | null
          schema_types_found: Json | null
          security_headers: Json | null
          security_metrics: Json | null
          seo_audit_job_id: string | null
          tap_targets_sized: boolean | null
          technical_issues: Json | null
          technical_score: number
          ttfb_ms: number | null
          viewport_configured: boolean | null
          warnings: Json | null
        }
        Insert: {
          audit_job_id: string
          broken_links?: number | null
          cls_score?: number | null
          content_score?: number
          core_web_vitals?: Json | null
          crawlability?: Json | null
          created_at?: string
          critical_issues?: Json | null
          duplicate_content_pages?: number | null
          fcp_ms?: number | null
          fid_ms?: number | null
          font_sizes_legible?: boolean | null
          https_enabled?: boolean | null
          id?: string
          lcp_ms?: number | null
          leak_aligned_scores?: Json | null
          missing_meta_pages?: number | null
          mixed_content_issues?: number | null
          mobile_friendly?: boolean | null
          mobile_metrics?: Json | null
          mobile_score?: number
          opportunities?: Json | null
          overall_score?: number
          pages_crawled?: number | null
          pages_with_issues?: number | null
          passed_checks?: Json | null
          performance_score?: number
          raw_crawl_data?: Json | null
          raw_lighthouse_data?: Json | null
          recommendations?: Json | null
          redirect_chains?: number | null
          schema_errors?: Json | null
          schema_types_found?: Json | null
          security_headers?: Json | null
          security_metrics?: Json | null
          seo_audit_job_id?: string | null
          tap_targets_sized?: boolean | null
          technical_issues?: Json | null
          technical_score?: number
          ttfb_ms?: number | null
          viewport_configured?: boolean | null
          warnings?: Json | null
        }
        Update: {
          audit_job_id?: string
          broken_links?: number | null
          cls_score?: number | null
          content_score?: number
          core_web_vitals?: Json | null
          crawlability?: Json | null
          created_at?: string
          critical_issues?: Json | null
          duplicate_content_pages?: number | null
          fcp_ms?: number | null
          fid_ms?: number | null
          font_sizes_legible?: boolean | null
          https_enabled?: boolean | null
          id?: string
          lcp_ms?: number | null
          leak_aligned_scores?: Json | null
          missing_meta_pages?: number | null
          mixed_content_issues?: number | null
          mobile_friendly?: boolean | null
          mobile_metrics?: Json | null
          mobile_score?: number
          opportunities?: Json | null
          overall_score?: number
          pages_crawled?: number | null
          pages_with_issues?: number | null
          passed_checks?: Json | null
          performance_score?: number
          raw_crawl_data?: Json | null
          raw_lighthouse_data?: Json | null
          recommendations?: Json | null
          redirect_chains?: number | null
          schema_errors?: Json | null
          schema_types_found?: Json | null
          security_headers?: Json | null
          security_metrics?: Json | null
          seo_audit_job_id?: string | null
          tap_targets_sized?: boolean | null
          technical_issues?: Json | null
          technical_score?: number
          ttfb_ms?: number | null
          viewport_configured?: boolean | null
          warnings?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "seo_audit_results_audit_job_id_fkey"
            columns: ["audit_job_id"]
            isOneToOne: false
            referencedRelation: "seo_audit_jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      seo_competitors: {
        Row: {
          competitor_domain: string
          created_at: string
          id: string
          label: string | null
          seo_profile_id: string
          updated_at: string
        }
        Insert: {
          competitor_domain: string
          created_at?: string
          id?: string
          label?: string | null
          seo_profile_id: string
          updated_at?: string
        }
        Update: {
          competitor_domain?: string
          created_at?: string
          id?: string
          label?: string | null
          seo_profile_id?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "seo_competitors_seo_profile_id_fkey"
            columns: ["seo_profile_id"]
            isOneToOne: false
            referencedRelation: "seo_profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      seo_credentials: {
        Row: {
          created_at: string
          credential_data: Json
          credential_type: string
          expires_at: string | null
          id: string
          is_active: boolean
          organization_id: string
          seo_profile_id: string
          updated_at: string
        }
        Insert: {
          created_at?: string
          credential_data: Json
          credential_type: string
          expires_at?: string | null
          id?: string
          is_active?: boolean
          organization_id: string
          seo_profile_id: string
          updated_at?: string
        }
        Update: {
          created_at?: string
          credential_data?: Json
          credential_type?: string
          expires_at?: string | null
          id?: string
          is_active?: boolean
          organization_id?: string
          seo_profile_id?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "seo_credentials_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "seo_credentials_seo_profile_id_fkey"
            columns: ["seo_profile_id"]
            isOneToOne: false
            referencedRelation: "seo_profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      seo_keywords: {
        Row: {
          created_at: string
          id: string
          intent: string | null
          is_primary: boolean
          keyword: string
          priority: number
          seo_profile_id: string
          target_url: string | null
          updated_at: string
        }
        Insert: {
          created_at?: string
          id?: string
          intent?: string | null
          is_primary?: boolean
          keyword: string
          priority?: number
          seo_profile_id: string
          target_url?: string | null
          updated_at?: string
        }
        Update: {
          created_at?: string
          id?: string
          intent?: string | null
          is_primary?: boolean
          keyword?: string
          priority?: number
          seo_profile_id?: string
          target_url?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "seo_keywords_seo_profile_id_fkey"
            columns: ["seo_profile_id"]
            isOneToOne: false
            referencedRelation: "seo_profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      seo_leak_recommendations: {
        Row: {
          created_at: string
          details_md: string
          factor_family: string
          factor_key: string
          founder_business_id: string
          id: string
          requires_human_approval: boolean
          reviewed_at: string | null
          severity: string
          status: string
          suggested_changes: Json
          summary: string
          target_identifier: string
          target_type: string
        }
        Insert: {
          created_at?: string
          details_md: string
          factor_family: string
          factor_key: string
          founder_business_id: string
          id?: string
          requires_human_approval?: boolean
          reviewed_at?: string | null
          severity: string
          status?: string
          suggested_changes?: Json
          summary: string
          target_identifier: string
          target_type: string
        }
        Update: {
          created_at?: string
          details_md?: string
          factor_family?: string
          factor_key?: string
          founder_business_id?: string
          id?: string
          requires_human_approval?: boolean
          reviewed_at?: string | null
          severity?: string
          status?: string
          suggested_changes?: Json
          summary?: string
          target_identifier?: string
          target_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "seo_leak_recommendations_founder_business_id_fkey"
            columns: ["founder_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      seo_leak_signal_profiles: {
        Row: {
          domain: string
          eeat_strength_estimate: number | null
          founder_business_id: string
          id: string
          last_refreshed_at: string
          navboost_strength_estimate: number | null
          p_star_estimate: number | null
          q_star_estimate: number | null
          sandbox_risk_estimate: number | null
          site_authority_estimate: number | null
          spam_risk_estimate: number | null
          t_star_estimate: number | null
          topical_focus_score: number | null
        }
        Insert: {
          domain: string
          eeat_strength_estimate?: number | null
          founder_business_id: string
          id?: string
          last_refreshed_at?: string
          navboost_strength_estimate?: number | null
          p_star_estimate?: number | null
          q_star_estimate?: number | null
          sandbox_risk_estimate?: number | null
          site_authority_estimate?: number | null
          spam_risk_estimate?: number | null
          t_star_estimate?: number | null
          topical_focus_score?: number | null
        }
        Update: {
          domain?: string
          eeat_strength_estimate?: number | null
          founder_business_id?: string
          id?: string
          last_refreshed_at?: string
          navboost_strength_estimate?: number | null
          p_star_estimate?: number | null
          q_star_estimate?: number | null
          sandbox_risk_estimate?: number | null
          site_authority_estimate?: number | null
          spam_risk_estimate?: number | null
          t_star_estimate?: number | null
          topical_focus_score?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "seo_leak_signal_profiles_founder_business_id_fkey"
            columns: ["founder_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      seo_packages: {
        Row: {
          created_at: string
          effective_from: string
          effective_to: string | null
          id: string
          includes_brave_goggles: boolean
          includes_golden_key: boolean
          includes_indexnow: boolean
          includes_matrix_v11: boolean
          includes_nano_banana: boolean
          includes_social: boolean
          is_active: boolean
          package_tier: string
          seo_profile_id: string
          updated_at: string
        }
        Insert: {
          created_at?: string
          effective_from?: string
          effective_to?: string | null
          id?: string
          includes_brave_goggles?: boolean
          includes_golden_key?: boolean
          includes_indexnow?: boolean
          includes_matrix_v11?: boolean
          includes_nano_banana?: boolean
          includes_social?: boolean
          is_active?: boolean
          package_tier: string
          seo_profile_id: string
          updated_at?: string
        }
        Update: {
          created_at?: string
          effective_from?: string
          effective_to?: string | null
          id?: string
          includes_brave_goggles?: boolean
          includes_golden_key?: boolean
          includes_indexnow?: boolean
          includes_matrix_v11?: boolean
          includes_nano_banana?: boolean
          includes_social?: boolean
          is_active?: boolean
          package_tier?: string
          seo_profile_id?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "seo_packages_seo_profile_id_fkey"
            columns: ["seo_profile_id"]
            isOneToOne: false
            referencedRelation: "seo_profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      seo_profiles: {
        Row: {
          bing_site_id: string | null
          brave_channel_id: string | null
          client_id: string | null
          created_at: string
          domain: string
          gmb_location_id: string | null
          gsc_property_id: string | null
          id: string
          is_active: boolean
          organization_id: string
          package_tier: string
          primary_geo_region: string | null
          primary_service_vertical: string | null
          project_id: string | null
          updated_at: string
          workspace_id: string | null
        }
        Insert: {
          bing_site_id?: string | null
          brave_channel_id?: string | null
          client_id?: string | null
          created_at?: string
          domain: string
          gmb_location_id?: string | null
          gsc_property_id?: string | null
          id?: string
          is_active?: boolean
          organization_id: string
          package_tier?: string
          primary_geo_region?: string | null
          primary_service_vertical?: string | null
          project_id?: string | null
          updated_at?: string
          workspace_id?: string | null
        }
        Update: {
          bing_site_id?: string | null
          brave_channel_id?: string | null
          client_id?: string | null
          created_at?: string
          domain?: string
          gmb_location_id?: string | null
          gsc_property_id?: string | null
          id?: string
          is_active?: boolean
          organization_id?: string
          package_tier?: string
          primary_geo_region?: string | null
          primary_service_vertical?: string | null
          project_id?: string | null
          updated_at?: string
          workspace_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "seo_profiles_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "seo_profiles_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      seo_provider_audit: {
        Row: {
          api_cost_usd: number | null
          created_at: string
          domain: string
          error_message: string | null
          id: string
          keywords_requested: number | null
          keywords_returned: number | null
          operation: string
          provider: string
          request_metadata: Json | null
          response_time_ms: number | null
          success: boolean
        }
        Insert: {
          api_cost_usd?: number | null
          created_at?: string
          domain: string
          error_message?: string | null
          id?: string
          keywords_requested?: number | null
          keywords_returned?: number | null
          operation: string
          provider: string
          request_metadata?: Json | null
          response_time_ms?: number | null
          success: boolean
        }
        Update: {
          api_cost_usd?: number | null
          created_at?: string
          domain?: string
          error_message?: string | null
          id?: string
          keywords_requested?: number | null
          keywords_returned?: number | null
          operation?: string
          provider?: string
          request_metadata?: Json | null
          response_time_ms?: number | null
          success?: boolean
        }
        Relationships: []
      }
      seo_snapshots: {
        Row: {
          created_at: string
          id: string
          matrix_score: number | null
          payload: Json
          seo_profile_id: string
          snapshot_date: string
          source: string
        }
        Insert: {
          created_at?: string
          id?: string
          matrix_score?: number | null
          payload: Json
          seo_profile_id: string
          snapshot_date: string
          source: string
        }
        Update: {
          created_at?: string
          id?: string
          matrix_score?: number | null
          payload?: Json
          seo_profile_id?: string
          snapshot_date?: string
          source?: string
        }
        Relationships: [
          {
            foreignKeyName: "seo_snapshots_seo_profile_id_fkey"
            columns: ["seo_profile_id"]
            isOneToOne: false
            referencedRelation: "seo_profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      serp_observations: {
        Row: {
          ai_answer_present: boolean | null
          ai_answer_summary: string | null
          client_id: string
          device_type: string | null
          features_present: string[] | null
          id: string
          keyword: string
          location: string | null
          observed_at: string | null
          position: number | null
          result_type: string | null
          search_engine: string | null
          source_domains_used: string[] | null
          topic_id: string | null
          workspace_id: string
        }
        Insert: {
          ai_answer_present?: boolean | null
          ai_answer_summary?: string | null
          client_id: string
          device_type?: string | null
          features_present?: string[] | null
          id?: string
          keyword: string
          location?: string | null
          observed_at?: string | null
          position?: number | null
          result_type?: string | null
          search_engine?: string | null
          source_domains_used?: string[] | null
          topic_id?: string | null
          workspace_id: string
        }
        Update: {
          ai_answer_present?: boolean | null
          ai_answer_summary?: string | null
          client_id?: string
          device_type?: string | null
          features_present?: string[] | null
          id?: string
          keyword?: string
          location?: string | null
          observed_at?: string | null
          position?: number | null
          result_type?: string | null
          search_engine?: string | null
          source_domains_used?: string[] | null
          topic_id?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "serp_observations_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "client_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "serp_observations_topic_id_fkey"
            columns: ["topic_id"]
            isOneToOne: false
            referencedRelation: "topics"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "serp_observations_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      signal_purity_snapshots: {
        Row: {
          bias_flags: Json
          confidence: number
          created_at: string
          id: string
          noise_factors: Json
          purity_score: number
          region_id: string | null
          source_engine: string
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          bias_flags?: Json
          confidence: number
          created_at?: string
          id?: string
          noise_factors?: Json
          purity_score: number
          region_id?: string | null
          source_engine: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          bias_flags?: Json
          confidence?: number
          created_at?: string
          id?: string
          noise_factors?: Json
          purity_score?: number
          region_id?: string | null
          source_engine?: string
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "signal_purity_snapshots_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "signal_purity_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      simulation_results: {
        Row: {
          confidence_score: number
          generated_at: string | null
          id: string
          projected_impact: Json | null
          recommendations: Json | null
          scenario_id: string
        }
        Insert: {
          confidence_score?: number
          generated_at?: string | null
          id?: string
          projected_impact?: Json | null
          recommendations?: Json | null
          scenario_id: string
        }
        Update: {
          confidence_score?: number
          generated_at?: string | null
          id?: string
          projected_impact?: Json | null
          recommendations?: Json | null
          scenario_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "simulation_results_scenario_fk"
            columns: ["scenario_id"]
            isOneToOne: false
            referencedRelation: "simulation_scenarios"
            referencedColumns: ["id"]
          },
        ]
      }
      simulation_scenarios: {
        Row: {
          created_at: string | null
          id: string
          name: string
          org_id: string
          parameters: Json | null
          scenario_type: string
          status: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          name: string
          org_id: string
          parameters?: Json | null
          scenario_type: string
          status?: string
        }
        Update: {
          created_at?: string | null
          id?: string
          name?: string
          org_id?: string
          parameters?: Json | null
          scenario_type?: string
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "simulation_scenarios_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      site_fixes: {
        Row: {
          applied_at: string | null
          applied_by: string | null
          created_at: string | null
          description: string
          file_path: string | null
          fix_type: string
          fixed_content: string
          id: string
          original_content: string | null
          priority: string | null
          scan_result_id: string | null
          site_id: string
          status: string | null
          updated_at: string | null
          verified: boolean | null
          verified_at: string | null
          workspace_id: string
        }
        Insert: {
          applied_at?: string | null
          applied_by?: string | null
          created_at?: string | null
          description: string
          file_path?: string | null
          fix_type: string
          fixed_content: string
          id?: string
          original_content?: string | null
          priority?: string | null
          scan_result_id?: string | null
          site_id: string
          status?: string | null
          updated_at?: string | null
          verified?: boolean | null
          verified_at?: string | null
          workspace_id: string
        }
        Update: {
          applied_at?: string | null
          applied_by?: string | null
          created_at?: string | null
          description?: string
          file_path?: string | null
          fix_type?: string
          fixed_content?: string
          id?: string
          original_content?: string | null
          priority?: string | null
          scan_result_id?: string | null
          site_id?: string
          status?: string | null
          updated_at?: string | null
          verified?: boolean | null
          verified_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "site_fixes_applied_by_fkey"
            columns: ["applied_by"]
            isOneToOne: false
            referencedRelation: "user_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "site_fixes_scan_result_id_fkey"
            columns: ["scan_result_id"]
            isOneToOne: false
            referencedRelation: "site_scan_results"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "site_fixes_site_id_fkey"
            columns: ["site_id"]
            isOneToOne: false
            referencedRelation: "client_sites"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "site_fixes_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      site_scan_results: {
        Row: {
          completed_at: string | null
          created_at: string | null
          duration_ms: number | null
          id: string
          issues: Json | null
          metrics: Json | null
          recommendations: Json | null
          scan_type: string
          score: number | null
          site_id: string
          started_at: string | null
          status: string | null
          workspace_id: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string | null
          duration_ms?: number | null
          id?: string
          issues?: Json | null
          metrics?: Json | null
          recommendations?: Json | null
          scan_type: string
          score?: number | null
          site_id: string
          started_at?: string | null
          status?: string | null
          workspace_id: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string | null
          duration_ms?: number | null
          id?: string
          issues?: Json | null
          metrics?: Json | null
          recommendations?: Json | null
          scan_type?: string
          score?: number | null
          site_id?: string
          started_at?: string | null
          status?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "site_scan_results_site_id_fkey"
            columns: ["site_id"]
            isOneToOne: false
            referencedRelation: "client_sites"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "site_scan_results_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      site_secrets: {
        Row: {
          created_at: string | null
          description: string | null
          encrypted_value: string
          expires_at: string | null
          id: string
          last_rotated_at: string | null
          last_used_at: string | null
          secret_name: string
          secret_type: string
          site_id: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          encrypted_value: string
          expires_at?: string | null
          id?: string
          last_rotated_at?: string | null
          last_used_at?: string | null
          secret_name: string
          secret_type: string
          site_id: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          encrypted_value?: string
          expires_at?: string | null
          id?: string
          last_rotated_at?: string | null
          last_used_at?: string | null
          secret_name?: string
          secret_type?: string
          site_id?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "site_secrets_site_id_fkey"
            columns: ["site_id"]
            isOneToOne: false
            referencedRelation: "client_sites"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "site_secrets_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      situation_snapshots: {
        Row: {
          activity_confidence: number
          audio_context_age_ms: number
          calendar_age_ms: number
          cognitive_load: string
          cognitive_state_age_ms: number
          completeness: number
          confidence: number
          consistency: number
          created_at: string
          day_type: string
          emotional_state: string
          energy_level: string
          environment_confidence: number
          environment_description: string
          environment_type: string
          focus_score: number
          id: string
          interaction_reasoning: string
          likely_activity: string
          opportunity_flags: Json
          owner_id: string
          recent_entities: string[]
          recent_transcript: string | null
          recommended_complexity: string
          recommended_pace: string
          recommended_response_length: string
          risk_flags: Json
          safety_score: number
          snapshot_id: string
          social_pressure_score: number
          time_of_day: string
          timestamp: string
          urgency_from_calendar: string
          visual_context_age_ms: number
          workspace_id: string
        }
        Insert: {
          activity_confidence: number
          audio_context_age_ms: number
          calendar_age_ms: number
          cognitive_load: string
          cognitive_state_age_ms: number
          completeness: number
          confidence: number
          consistency: number
          created_at?: string
          day_type: string
          emotional_state: string
          energy_level: string
          environment_confidence: number
          environment_description: string
          environment_type: string
          focus_score: number
          id?: string
          interaction_reasoning: string
          likely_activity: string
          opportunity_flags?: Json
          owner_id: string
          recent_entities?: string[]
          recent_transcript?: string | null
          recommended_complexity: string
          recommended_pace: string
          recommended_response_length: string
          risk_flags?: Json
          safety_score: number
          snapshot_id: string
          social_pressure_score: number
          time_of_day: string
          timestamp?: string
          urgency_from_calendar: string
          visual_context_age_ms: number
          workspace_id: string
        }
        Update: {
          activity_confidence?: number
          audio_context_age_ms?: number
          calendar_age_ms?: number
          cognitive_load?: string
          cognitive_state_age_ms?: number
          completeness?: number
          confidence?: number
          consistency?: number
          created_at?: string
          day_type?: string
          emotional_state?: string
          energy_level?: string
          environment_confidence?: number
          environment_description?: string
          environment_type?: string
          focus_score?: number
          id?: string
          interaction_reasoning?: string
          likely_activity?: string
          opportunity_flags?: Json
          owner_id?: string
          recent_entities?: string[]
          recent_transcript?: string | null
          recommended_complexity?: string
          recommended_pace?: string
          recommended_response_length?: string
          risk_flags?: Json
          safety_score?: number
          snapshot_id?: string
          social_pressure_score?: number
          time_of_day?: string
          timestamp?: string
          urgency_from_calendar?: string
          visual_context_age_ms?: number
          workspace_id?: string
        }
        Relationships: []
      }
      situational_awareness_snapshots: {
        Row: {
          awareness_payload: Json
          confidence: number
          created_at: string
          id: string
          tenant_id: string | null
          time_window: string
          uncertainty_notes: string | null
        }
        Insert: {
          awareness_payload: Json
          confidence: number
          created_at?: string
          id?: string
          tenant_id?: string | null
          time_window: string
          uncertainty_notes?: string | null
        }
        Update: {
          awareness_payload?: Json
          confidence?: number
          created_at?: string
          id?: string
          tenant_id?: string | null
          time_window?: string
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "situational_awareness_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      sketch_data: {
        Row: {
          annotations: Json | null
          canvas_height: number | null
          canvas_json: Json | null
          canvas_width: number | null
          created_at: string | null
          id: string
          layer_count: number | null
          media_upload_id: string
          parent_sketch_id: string | null
          png_export_url: string | null
          stroke_count: number | null
          svg_data: string | null
          tools_used: string[] | null
          updated_at: string | null
          version: number | null
        }
        Insert: {
          annotations?: Json | null
          canvas_height?: number | null
          canvas_json?: Json | null
          canvas_width?: number | null
          created_at?: string | null
          id?: string
          layer_count?: number | null
          media_upload_id: string
          parent_sketch_id?: string | null
          png_export_url?: string | null
          stroke_count?: number | null
          svg_data?: string | null
          tools_used?: string[] | null
          updated_at?: string | null
          version?: number | null
        }
        Update: {
          annotations?: Json | null
          canvas_height?: number | null
          canvas_json?: Json | null
          canvas_width?: number | null
          created_at?: string | null
          id?: string
          layer_count?: number | null
          media_upload_id?: string
          parent_sketch_id?: string | null
          png_export_url?: string | null
          stroke_count?: number | null
          svg_data?: string | null
          tools_used?: string[] | null
          updated_at?: string | null
          version?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "sketch_data_media_upload_id_fkey"
            columns: ["media_upload_id"]
            isOneToOne: false
            referencedRelation: "client_media_uploads"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sketch_data_parent_sketch_id_fkey"
            columns: ["parent_sketch_id"]
            isOneToOne: false
            referencedRelation: "sketch_data"
            referencedColumns: ["id"]
          },
        ]
      }
      snapshot_restore_logs: {
        Row: {
          created_at: string
          id: string
          is_reversible: boolean
          restored_by: string
          result: string
          snapshot_id: string | null
          target_region: string
        }
        Insert: {
          created_at?: string
          id?: string
          is_reversible: boolean
          restored_by: string
          result: string
          snapshot_id?: string | null
          target_region: string
        }
        Update: {
          created_at?: string
          id?: string
          is_reversible?: boolean
          restored_by?: string
          result?: string
          snapshot_id?: string | null
          target_region?: string
        }
        Relationships: [
          {
            foreignKeyName: "snapshot_restore_logs_snapshot_id_fkey"
            columns: ["snapshot_id"]
            isOneToOne: false
            referencedRelation: "intelligence_snapshots"
            referencedColumns: ["id"]
          },
        ]
      }
      social_accounts: {
        Row: {
          access_token_encrypted: string | null
          created_at: string | null
          display_name: string | null
          external_account_id: string
          handle: string | null
          id: string
          last_sync_at: string | null
          metadata: Json | null
          profile_image_url: string | null
          provider: string
          refresh_token_encrypted: string | null
          scopes: string[] | null
          status: string
          sync_cursor: string | null
          token_auth_tag: string | null
          token_expires_at: string | null
          token_iv: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          access_token_encrypted?: string | null
          created_at?: string | null
          display_name?: string | null
          external_account_id: string
          handle?: string | null
          id?: string
          last_sync_at?: string | null
          metadata?: Json | null
          profile_image_url?: string | null
          provider: string
          refresh_token_encrypted?: string | null
          scopes?: string[] | null
          status?: string
          sync_cursor?: string | null
          token_auth_tag?: string | null
          token_expires_at?: string | null
          token_iv?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          access_token_encrypted?: string | null
          created_at?: string | null
          display_name?: string | null
          external_account_id?: string
          handle?: string | null
          id?: string
          last_sync_at?: string | null
          metadata?: Json | null
          profile_image_url?: string | null
          provider?: string
          refresh_token_encrypted?: string | null
          scopes?: string[] | null
          status?: string
          sync_cursor?: string | null
          token_auth_tag?: string | null
          token_expires_at?: string | null
          token_iv?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "social_accounts_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      social_actions: {
        Row: {
          action_type: string
          ai_confidence: number | null
          ai_generated: boolean | null
          ai_model: string | null
          approval_status: string | null
          approved_at: string | null
          approved_by: string | null
          created_at: string | null
          error_message: string | null
          external_action_id: string | null
          id: string
          payload_json: Json | null
          performed_at: string | null
          performed_by_user_id: string | null
          social_message_id: string
          workspace_id: string
        }
        Insert: {
          action_type: string
          ai_confidence?: number | null
          ai_generated?: boolean | null
          ai_model?: string | null
          approval_status?: string | null
          approved_at?: string | null
          approved_by?: string | null
          created_at?: string | null
          error_message?: string | null
          external_action_id?: string | null
          id?: string
          payload_json?: Json | null
          performed_at?: string | null
          performed_by_user_id?: string | null
          social_message_id: string
          workspace_id: string
        }
        Update: {
          action_type?: string
          ai_confidence?: number | null
          ai_generated?: boolean | null
          ai_model?: string | null
          approval_status?: string | null
          approved_at?: string | null
          approved_by?: string | null
          created_at?: string | null
          error_message?: string | null
          external_action_id?: string | null
          id?: string
          payload_json?: Json | null
          performed_at?: string | null
          performed_by_user_id?: string | null
          social_message_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "social_actions_social_message_id_fkey"
            columns: ["social_message_id"]
            isOneToOne: false
            referencedRelation: "social_messages"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_actions_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      social_assets: {
        Row: {
          asset_type: string
          created_at: string
          hook: string | null
          id: string
          metadata: Json | null
          platform: string
          playbook_id: string
          scheduled_at: string | null
          script_outline: string | null
          status: string
          thumbnail_concept: string | null
          title: string | null
          updated_at: string
          workspace_id: string
        }
        Insert: {
          asset_type: string
          created_at?: string
          hook?: string | null
          id?: string
          metadata?: Json | null
          platform: string
          playbook_id: string
          scheduled_at?: string | null
          script_outline?: string | null
          status?: string
          thumbnail_concept?: string | null
          title?: string | null
          updated_at?: string
          workspace_id: string
        }
        Update: {
          asset_type?: string
          created_at?: string
          hook?: string | null
          id?: string
          metadata?: Json | null
          platform?: string
          playbook_id?: string
          scheduled_at?: string | null
          script_outline?: string | null
          status?: string
          thumbnail_concept?: string | null
          title?: string | null
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "social_assets_playbook_id_fkey"
            columns: ["playbook_id"]
            isOneToOne: false
            referencedRelation: "social_playbooks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_assets_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      social_inbox_accounts: {
        Row: {
          access_token_encrypted: string | null
          account_handle: string
          account_id_external: string | null
          connected_at: string | null
          founder_business_id: string | null
          id: string
          provider: string
          status: string | null
        }
        Insert: {
          access_token_encrypted?: string | null
          account_handle: string
          account_id_external?: string | null
          connected_at?: string | null
          founder_business_id?: string | null
          id?: string
          provider: string
          status?: string | null
        }
        Update: {
          access_token_encrypted?: string | null
          account_handle?: string
          account_id_external?: string | null
          connected_at?: string | null
          founder_business_id?: string | null
          id?: string
          provider?: string
          status?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "social_inbox_accounts_founder_business_id_fkey"
            columns: ["founder_business_id"]
            isOneToOne: false
            referencedRelation: "founder_businesses"
            referencedColumns: ["id"]
          },
        ]
      }
      social_inbox_messages: {
        Row: {
          content: string | null
          created_at: string
          external_id: string | null
          id: string
          is_read: boolean
          is_replied: boolean
          message_type: string
          metadata: Json | null
          platform: string
          received_at: string
          replied_at: string | null
          replied_by: string | null
          sender_avatar: string | null
          sender_handle: string | null
          sender_name: string | null
          sentiment: string | null
          workspace_id: string
        }
        Insert: {
          content?: string | null
          created_at?: string
          external_id?: string | null
          id?: string
          is_read?: boolean
          is_replied?: boolean
          message_type?: string
          metadata?: Json | null
          platform: string
          received_at?: string
          replied_at?: string | null
          replied_by?: string | null
          sender_avatar?: string | null
          sender_handle?: string | null
          sender_name?: string | null
          sentiment?: string | null
          workspace_id: string
        }
        Update: {
          content?: string | null
          created_at?: string
          external_id?: string | null
          id?: string
          is_read?: boolean
          is_replied?: boolean
          message_type?: string
          metadata?: Json | null
          platform?: string
          received_at?: string
          replied_at?: string | null
          replied_by?: string | null
          sender_avatar?: string | null
          sender_handle?: string | null
          sender_name?: string | null
          sentiment?: string | null
          workspace_id?: string
        }
        Relationships: []
      }
      social_links: {
        Row: {
          anchor_text: string | null
          chain_position: number | null
          context_text: string | null
          created_at: string | null
          id: string
          layer: number
          metadata: Json | null
          org_id: string
          rel_attribute: string | null
          source_id: string | null
          source_type: string
          source_url: string | null
          status: string | null
          target_id: string | null
          target_type: string
          target_url: string | null
        }
        Insert: {
          anchor_text?: string | null
          chain_position?: number | null
          context_text?: string | null
          created_at?: string | null
          id?: string
          layer: number
          metadata?: Json | null
          org_id: string
          rel_attribute?: string | null
          source_id?: string | null
          source_type: string
          source_url?: string | null
          status?: string | null
          target_id?: string | null
          target_type: string
          target_url?: string | null
        }
        Update: {
          anchor_text?: string | null
          chain_position?: number | null
          context_text?: string | null
          created_at?: string | null
          id?: string
          layer?: number
          metadata?: Json | null
          org_id?: string
          rel_attribute?: string | null
          source_id?: string | null
          source_type?: string
          source_url?: string | null
          status?: string | null
          target_id?: string | null
          target_type?: string
          target_url?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "social_links_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      social_messages: {
        Row: {
          attachments: Json | null
          author_handle: string | null
          author_id: string | null
          author_name: string | null
          author_profile_image: string | null
          channel_type: string
          content: string
          content_type: string | null
          created_at: string | null
          direction: string
          external_message_id: string
          flagged_reason: string | null
          id: string
          importance_score: number | null
          intent_labels: string[] | null
          is_flagged: boolean | null
          message: string | null
          message_type: string | null
          metadata: Json | null
          parent_message_id: string | null
          provider: string
          read_at: string | null
          replied_at: string | null
          sender_handle: string | null
          sent_at: string
          sentiment: number | null
          sentiment_label: string | null
          sentiment_score: number | null
          social_account_id: string
          social_inbox_account_id: string | null
          spam_score: number | null
          status: string | null
          thread_id: string | null
          triage_notes: string | null
          triage_status: string | null
          triaged_at: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          attachments?: Json | null
          author_handle?: string | null
          author_id?: string | null
          author_name?: string | null
          author_profile_image?: string | null
          channel_type: string
          content: string
          content_type?: string | null
          created_at?: string | null
          direction: string
          external_message_id: string
          flagged_reason?: string | null
          id?: string
          importance_score?: number | null
          intent_labels?: string[] | null
          is_flagged?: boolean | null
          message?: string | null
          message_type?: string | null
          metadata?: Json | null
          parent_message_id?: string | null
          provider: string
          read_at?: string | null
          replied_at?: string | null
          sender_handle?: string | null
          sent_at: string
          sentiment?: number | null
          sentiment_label?: string | null
          sentiment_score?: number | null
          social_account_id: string
          social_inbox_account_id?: string | null
          spam_score?: number | null
          status?: string | null
          thread_id?: string | null
          triage_notes?: string | null
          triage_status?: string | null
          triaged_at?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          attachments?: Json | null
          author_handle?: string | null
          author_id?: string | null
          author_name?: string | null
          author_profile_image?: string | null
          channel_type?: string
          content?: string
          content_type?: string | null
          created_at?: string | null
          direction?: string
          external_message_id?: string
          flagged_reason?: string | null
          id?: string
          importance_score?: number | null
          intent_labels?: string[] | null
          is_flagged?: boolean | null
          message?: string | null
          message_type?: string | null
          metadata?: Json | null
          parent_message_id?: string | null
          provider?: string
          read_at?: string | null
          replied_at?: string | null
          sender_handle?: string | null
          sent_at?: string
          sentiment?: number | null
          sentiment_label?: string | null
          sentiment_score?: number | null
          social_account_id?: string
          social_inbox_account_id?: string | null
          spam_score?: number | null
          status?: string | null
          thread_id?: string | null
          triage_notes?: string | null
          triage_status?: string | null
          triaged_at?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "social_messages_parent_message_id_fkey"
            columns: ["parent_message_id"]
            isOneToOne: false
            referencedRelation: "social_messages"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_messages_social_account_id_fkey"
            columns: ["social_account_id"]
            isOneToOne: false
            referencedRelation: "social_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_messages_thread_id_fkey"
            columns: ["thread_id"]
            isOneToOne: false
            referencedRelation: "social_threads"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_messages_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      social_playbooks: {
        Row: {
          client_id: string | null
          created_at: string
          created_by: string | null
          description: string | null
          id: string
          name: string
          platforms: string[] | null
          primary_goal: string | null
          primary_persona: string | null
          status: string
          updated_at: string
          workspace_id: string
        }
        Insert: {
          client_id?: string | null
          created_at?: string
          created_by?: string | null
          description?: string | null
          id?: string
          name: string
          platforms?: string[] | null
          primary_goal?: string | null
          primary_persona?: string | null
          status?: string
          updated_at?: string
          workspace_id: string
        }
        Update: {
          client_id?: string | null
          created_at?: string
          created_by?: string | null
          description?: string | null
          id?: string
          name?: string
          platforms?: string[] | null
          primary_goal?: string | null
          primary_persona?: string | null
          status?: string
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "social_playbooks_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_playbooks_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      social_posts: {
        Row: {
          content: string
          created_at: string | null
          deployment_id: string | null
          edit_url: string | null
          excerpt: string | null
          external_blog_id: string | null
          external_post_id: string | null
          id: string
          metadata: Json | null
          og_image_url: string | null
          org_id: string
          platform: string
          post_url: string | null
          published_at: string | null
          scheduled_at: string | null
          schema_json: Json | null
          seed: number | null
          status: string | null
          title: string
          updated_at: string | null
          variant_index: number | null
        }
        Insert: {
          content: string
          created_at?: string | null
          deployment_id?: string | null
          edit_url?: string | null
          excerpt?: string | null
          external_blog_id?: string | null
          external_post_id?: string | null
          id?: string
          metadata?: Json | null
          og_image_url?: string | null
          org_id: string
          platform: string
          post_url?: string | null
          published_at?: string | null
          scheduled_at?: string | null
          schema_json?: Json | null
          seed?: number | null
          status?: string | null
          title: string
          updated_at?: string | null
          variant_index?: number | null
        }
        Update: {
          content?: string
          created_at?: string | null
          deployment_id?: string | null
          edit_url?: string | null
          excerpt?: string | null
          external_blog_id?: string | null
          external_post_id?: string | null
          id?: string
          metadata?: Json | null
          og_image_url?: string | null
          org_id?: string
          platform?: string
          post_url?: string | null
          published_at?: string | null
          scheduled_at?: string | null
          schema_json?: Json | null
          seed?: number | null
          status?: string | null
          title?: string
          updated_at?: string | null
          variant_index?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "social_posts_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      social_reply_templates: {
        Row: {
          channel_types: string[] | null
          created_at: string | null
          created_by: string | null
          description: string | null
          id: string
          intent_triggers: string[] | null
          is_ai_template: boolean | null
          name: string
          providers: string[] | null
          sentiment_triggers: string[] | null
          success_rate: number | null
          template_text: string
          updated_at: string | null
          usage_count: number | null
          variables: string[] | null
          workspace_id: string
        }
        Insert: {
          channel_types?: string[] | null
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          id?: string
          intent_triggers?: string[] | null
          is_ai_template?: boolean | null
          name: string
          providers?: string[] | null
          sentiment_triggers?: string[] | null
          success_rate?: number | null
          template_text: string
          updated_at?: string | null
          usage_count?: number | null
          variables?: string[] | null
          workspace_id: string
        }
        Update: {
          channel_types?: string[] | null
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          id?: string
          intent_triggers?: string[] | null
          is_ai_template?: boolean | null
          name?: string
          providers?: string[] | null
          sentiment_triggers?: string[] | null
          success_rate?: number | null
          template_text?: string
          updated_at?: string | null
          usage_count?: number | null
          variables?: string[] | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "social_reply_templates_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      social_sync_logs: {
        Row: {
          completed_at: string | null
          created_at: string | null
          errors: Json | null
          id: string
          messages_synced: number | null
          messages_triaged: number | null
          social_account_id: string
          started_at: string | null
          status: string | null
          sync_cursor: string | null
          sync_type: string
          threads_synced: number | null
          workspace_id: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string | null
          errors?: Json | null
          id?: string
          messages_synced?: number | null
          messages_triaged?: number | null
          social_account_id: string
          started_at?: string | null
          status?: string | null
          sync_cursor?: string | null
          sync_type: string
          threads_synced?: number | null
          workspace_id: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string | null
          errors?: Json | null
          id?: string
          messages_synced?: number | null
          messages_triaged?: number | null
          social_account_id?: string
          started_at?: string | null
          status?: string | null
          sync_cursor?: string | null
          sync_type?: string
          threads_synced?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "social_sync_logs_social_account_id_fkey"
            columns: ["social_account_id"]
            isOneToOne: false
            referencedRelation: "social_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_sync_logs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      social_threads: {
        Row: {
          assigned_to: string | null
          channel_type: string
          created_at: string | null
          external_thread_id: string
          id: string
          labels: string[] | null
          last_message_at: string | null
          message_count: number | null
          metadata: Json | null
          participant_handles: string[] | null
          participant_ids: string[] | null
          provider: string
          snippet: string | null
          social_account_id: string
          status: string | null
          subject: string | null
          unread_count: number | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          assigned_to?: string | null
          channel_type: string
          created_at?: string | null
          external_thread_id: string
          id?: string
          labels?: string[] | null
          last_message_at?: string | null
          message_count?: number | null
          metadata?: Json | null
          participant_handles?: string[] | null
          participant_ids?: string[] | null
          provider: string
          snippet?: string | null
          social_account_id: string
          status?: string | null
          subject?: string | null
          unread_count?: number | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          assigned_to?: string | null
          channel_type?: string
          created_at?: string | null
          external_thread_id?: string
          id?: string
          labels?: string[] | null
          last_message_at?: string | null
          message_count?: number | null
          metadata?: Json | null
          participant_handles?: string[] | null
          participant_ids?: string[] | null
          provider?: string
          snippet?: string | null
          social_account_id?: string
          status?: string | null
          subject?: string | null
          unread_count?: number | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "social_threads_social_account_id_fkey"
            columns: ["social_account_id"]
            isOneToOne: false
            referencedRelation: "social_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_threads_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      social_variants: {
        Row: {
          content_blocks: Json | null
          created_at: string | null
          cta_variant: string | null
          heading_style: string | null
          id: string
          image_placement: string | null
          intro_variant: string | null
          layout_template: string | null
          metadata: Json | null
          paragraph_style: string | null
          post_id: string
          publish_delay_ms: number | null
          seed: number
          title_variant: string | null
          variant_index: number
        }
        Insert: {
          content_blocks?: Json | null
          created_at?: string | null
          cta_variant?: string | null
          heading_style?: string | null
          id?: string
          image_placement?: string | null
          intro_variant?: string | null
          layout_template?: string | null
          metadata?: Json | null
          paragraph_style?: string | null
          post_id: string
          publish_delay_ms?: number | null
          seed: number
          title_variant?: string | null
          variant_index: number
        }
        Update: {
          content_blocks?: Json | null
          created_at?: string | null
          cta_variant?: string | null
          heading_style?: string | null
          id?: string
          image_placement?: string | null
          intro_variant?: string | null
          layout_template?: string | null
          metadata?: Json | null
          paragraph_style?: string | null
          post_id?: string
          publish_delay_ms?: number | null
          seed?: number
          title_variant?: string | null
          variant_index?: number
        }
        Relationships: [
          {
            foreignKeyName: "social_variants_post_id_fkey"
            columns: ["post_id"]
            isOneToOne: false
            referencedRelation: "social_posts"
            referencedColumns: ["id"]
          },
        ]
      }
      sorie_objectives: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          kpi_targets: Json | null
          priority: number
          tenant_id: string
          time_horizon: string
          title: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          kpi_targets?: Json | null
          priority?: number
          tenant_id: string
          time_horizon?: string
          title: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          kpi_targets?: Json | null
          priority?: number
          tenant_id?: string
          time_horizon?: string
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "sorie_objectives_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      sorie_recommendations: {
        Row: {
          created_at: string | null
          expected_impact: Json | null
          id: string
          objective_id: string | null
          recommendation: string
          requires_hsoe: boolean
          risk_level: string
          status: string
          tenant_id: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          expected_impact?: Json | null
          id?: string
          objective_id?: string | null
          recommendation: string
          requires_hsoe?: boolean
          risk_level?: string
          status?: string
          tenant_id: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          expected_impact?: Json | null
          id?: string
          objective_id?: string | null
          recommendation?: string
          requires_hsoe?: boolean
          risk_level?: string
          status?: string
          tenant_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "sorie_recommendations_objective_fk"
            columns: ["objective_id"]
            isOneToOne: false
            referencedRelation: "sorie_objectives"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sorie_recommendations_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      sorie_roadmaps: {
        Row: {
          confidence: number
          created_at: string | null
          id: string
          impact_assessment: string | null
          objective_id: string
          roadmap_items: Json | null
          tenant_id: string
          updated_at: string | null
        }
        Insert: {
          confidence?: number
          created_at?: string | null
          id?: string
          impact_assessment?: string | null
          objective_id: string
          roadmap_items?: Json | null
          tenant_id: string
          updated_at?: string | null
        }
        Update: {
          confidence?: number
          created_at?: string | null
          id?: string
          impact_assessment?: string | null
          objective_id?: string
          roadmap_items?: Json | null
          tenant_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "sorie_roadmaps_objective_fk"
            columns: ["objective_id"]
            isOneToOne: false
            referencedRelation: "sorie_objectives"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sorie_roadmaps_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      stabilisation_events: {
        Row: {
          affected_engines: Json
          confidence: number
          corrective_actions: Json
          created_at: string
          detected_pattern: Json
          id: string
          status: string
          uncertainty_notes: string | null
        }
        Insert: {
          affected_engines: Json
          confidence: number
          corrective_actions?: Json
          created_at?: string
          detected_pattern: Json
          id?: string
          status?: string
          uncertainty_notes?: string | null
        }
        Update: {
          affected_engines?: Json
          confidence?: number
          corrective_actions?: Json
          created_at?: string
          detected_pattern?: Json
          id?: string
          status?: string
          uncertainty_notes?: string | null
        }
        Relationships: []
      }
      stability_enforcement_records: {
        Row: {
          acknowledged_by: string | null
          affected_systems: Json
          auto_recovery_eligible: boolean | null
          confidence: number
          created_at: string
          enforced_state: Json | null
          enforcement_type: string
          founder_acknowledgement_required: boolean | null
          id: string
          previous_state: Json | null
          resolved_at: string | null
          status: string
          tenant_id: string | null
          trigger_reason: string
          uncertainty_notes: string | null
        }
        Insert: {
          acknowledged_by?: string | null
          affected_systems?: Json
          auto_recovery_eligible?: boolean | null
          confidence: number
          created_at?: string
          enforced_state?: Json | null
          enforcement_type: string
          founder_acknowledgement_required?: boolean | null
          id?: string
          previous_state?: Json | null
          resolved_at?: string | null
          status?: string
          tenant_id?: string | null
          trigger_reason: string
          uncertainty_notes?: string | null
        }
        Update: {
          acknowledged_by?: string | null
          affected_systems?: Json
          auto_recovery_eligible?: boolean | null
          confidence?: number
          created_at?: string
          enforced_state?: Json | null
          enforcement_type?: string
          founder_acknowledgement_required?: boolean | null
          id?: string
          previous_state?: Json | null
          resolved_at?: string | null
          status?: string
          tenant_id?: string | null
          trigger_reason?: string
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "stability_enforcement_records_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      strategic_insights: {
        Row: {
          confidence: number
          content: Json
          created_at: string | null
          id: string
          insight_type: string
          org_id: string
        }
        Insert: {
          confidence?: number
          content: Json
          created_at?: string | null
          id?: string
          insight_type: string
          org_id: string
        }
        Update: {
          confidence?: number
          content?: Json
          created_at?: string | null
          id?: string
          insight_type?: string
          org_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategic_insights_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      strategic_objectives: {
        Row: {
          coalition_id: string
          constraints: string[] | null
          context: string | null
          created_at: string | null
          created_by: string | null
          description: string | null
          id: string
          priority: string
          status: string
          success_criteria: string[] | null
          title: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          coalition_id: string
          constraints?: string[] | null
          context?: string | null
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          id?: string
          priority?: string
          status?: string
          success_criteria?: string[] | null
          title: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          coalition_id?: string
          constraints?: string[] | null
          context?: string | null
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          id?: string
          priority?: string
          status?: string
          success_criteria?: string[] | null
          title?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategic_objectives_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      strategic_opportunities: {
        Row: {
          category: string
          confidence: number
          created_at: string | null
          description: string
          id: string
          impact_score: number
          metadata: Json | null
          org_id: string
        }
        Insert: {
          category: string
          confidence?: number
          created_at?: string | null
          description: string
          id?: string
          impact_score?: number
          metadata?: Json | null
          org_id: string
        }
        Update: {
          category?: string
          confidence?: number
          created_at?: string | null
          description?: string
          id?: string
          impact_score?: number
          metadata?: Json | null
          org_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategic_opportunities_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_archives: {
        Row: {
          actual_metrics: Json
          archived_at: string | null
          completion_rate: number
          cost_efficiency: number
          detected_patterns: string[] | null
          id: string
          insights: string[] | null
          lessons_learned: string[] | null
          outcome_status: string
          strategy_hierarchy_id: string
          time_efficiency: number
          workspace_id: string
        }
        Insert: {
          actual_metrics: Json
          archived_at?: string | null
          completion_rate: number
          cost_efficiency: number
          detected_patterns?: string[] | null
          id?: string
          insights?: string[] | null
          lessons_learned?: string[] | null
          outcome_status?: string
          strategy_hierarchy_id: string
          time_efficiency: number
          workspace_id: string
        }
        Update: {
          actual_metrics?: Json
          archived_at?: string | null
          completion_rate?: number
          cost_efficiency?: number
          detected_patterns?: string[] | null
          id?: string
          insights?: string[] | null
          lessons_learned?: string[] | null
          outcome_status?: string
          strategy_hierarchy_id?: string
          time_efficiency?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategy_archives_strategy_hierarchy_id_fkey"
            columns: ["strategy_hierarchy_id"]
            isOneToOne: false
            referencedRelation: "strategy_hierarchies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_archives_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_edges: {
        Row: {
          created_at: string
          description: string | null
          edge_type: string
          id: string
          is_critical: boolean
          metadata: Json | null
          organization_id: string
          source_node_id: string
          target_node_id: string
          weight: number
        }
        Insert: {
          created_at?: string
          description?: string | null
          edge_type: string
          id?: string
          is_critical?: boolean
          metadata?: Json | null
          organization_id: string
          source_node_id: string
          target_node_id: string
          weight?: number
        }
        Update: {
          created_at?: string
          description?: string | null
          edge_type?: string
          id?: string
          is_critical?: boolean
          metadata?: Json | null
          organization_id?: string
          source_node_id?: string
          target_node_id?: string
          weight?: number
        }
        Relationships: [
          {
            foreignKeyName: "strategy_edges_source_node_id_fkey"
            columns: ["source_node_id"]
            isOneToOne: false
            referencedRelation: "strategy_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_edges_target_node_id_fkey"
            columns: ["target_node_id"]
            isOneToOne: false
            referencedRelation: "strategy_nodes"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_evaluations: {
        Row: {
          confidence: number
          created_at: string
          data_sources: Json | null
          effectiveness_score: number | null
          efficiency_score: number | null
          evaluated_by: string | null
          evaluation_type: string
          id: string
          impact_score: number | null
          metrics_snapshot: Json | null
          opportunities: string[] | null
          organization_id: string
          recommendations: string[] | null
          strengths: string[] | null
          target_id: string
          target_type: string
          threats: string[] | null
          weaknesses: string[] | null
        }
        Insert: {
          confidence?: number
          created_at?: string
          data_sources?: Json | null
          effectiveness_score?: number | null
          efficiency_score?: number | null
          evaluated_by?: string | null
          evaluation_type?: string
          id?: string
          impact_score?: number | null
          metrics_snapshot?: Json | null
          opportunities?: string[] | null
          organization_id: string
          recommendations?: string[] | null
          strengths?: string[] | null
          target_id: string
          target_type: string
          threats?: string[] | null
          weaknesses?: string[] | null
        }
        Update: {
          confidence?: number
          created_at?: string
          data_sources?: Json | null
          effectiveness_score?: number | null
          efficiency_score?: number | null
          evaluated_by?: string | null
          evaluation_type?: string
          id?: string
          impact_score?: number | null
          metrics_snapshot?: Json | null
          opportunities?: string[] | null
          organization_id?: string
          recommendations?: string[] | null
          strengths?: string[] | null
          target_id?: string
          target_type?: string
          threats?: string[] | null
          weaknesses?: string[] | null
        }
        Relationships: []
      }
      strategy_execution_phases: {
        Row: {
          actual_completion_date: string | null
          completion_percentage: number | null
          created_at: string | null
          estimated_completion_date: string | null
          id: string
          output_data: Json | null
          phase_name: string
          phase_number: number
          status: string | null
          strategy_id: string | null
          updated_at: string | null
        }
        Insert: {
          actual_completion_date?: string | null
          completion_percentage?: number | null
          created_at?: string | null
          estimated_completion_date?: string | null
          id?: string
          output_data?: Json | null
          phase_name: string
          phase_number: number
          status?: string | null
          strategy_id?: string | null
          updated_at?: string | null
        }
        Update: {
          actual_completion_date?: string | null
          completion_percentage?: number | null
          created_at?: string | null
          estimated_completion_date?: string | null
          id?: string
          output_data?: Json | null
          phase_name?: string
          phase_number?: number
          status?: string | null
          strategy_id?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "strategy_execution_phases_strategy_id_fkey"
            columns: ["strategy_id"]
            isOneToOne: false
            referencedRelation: "managed_service_strategies"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_executions: {
        Row: {
          completed_at: string | null
          completed_tasks: number | null
          created_at: string
          failed_tasks: number | null
          health_metrics: Json | null
          id: string
          metrics: Json | null
          started_at: string
          status: string
          strategy_id: string
          total_tasks: number | null
          updated_at: string
          user_id: string
          workspace_id: string
        }
        Insert: {
          completed_at?: string | null
          completed_tasks?: number | null
          created_at?: string
          failed_tasks?: number | null
          health_metrics?: Json | null
          id: string
          metrics?: Json | null
          started_at?: string
          status?: string
          strategy_id: string
          total_tasks?: number | null
          updated_at?: string
          user_id: string
          workspace_id: string
        }
        Update: {
          completed_at?: string | null
          completed_tasks?: number | null
          created_at?: string
          failed_tasks?: number | null
          health_metrics?: Json | null
          id?: string
          metrics?: Json | null
          started_at?: string
          status?: string
          strategy_id?: string
          total_tasks?: number | null
          updated_at?: string
          user_id?: string
          workspace_id?: string
        }
        Relationships: []
      }
      strategy_hierarchies: {
        Row: {
          coalition_id: string
          completed_at: string | null
          created_at: string | null
          hierarchy_score: number
          id: string
          l1_strategic_objective: Json
          l2_strategic_pillars: Json
          l3_strategic_tactics: Json
          l4_operational_tasks: Json
          objective_id: string
          status: string
          updated_at: string | null
          validated_at: string | null
          workspace_id: string
        }
        Insert: {
          coalition_id: string
          completed_at?: string | null
          created_at?: string | null
          hierarchy_score?: number
          id?: string
          l1_strategic_objective: Json
          l2_strategic_pillars: Json
          l3_strategic_tactics: Json
          l4_operational_tasks: Json
          objective_id: string
          status?: string
          updated_at?: string | null
          validated_at?: string | null
          workspace_id: string
        }
        Update: {
          coalition_id?: string
          completed_at?: string | null
          created_at?: string | null
          hierarchy_score?: number
          id?: string
          l1_strategic_objective?: Json
          l2_strategic_pillars?: Json
          l3_strategic_tactics?: Json
          l4_operational_tasks?: Json
          objective_id?: string
          status?: string
          updated_at?: string | null
          validated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategy_hierarchies_objective_id_fkey"
            columns: ["objective_id"]
            isOneToOne: false
            referencedRelation: "strategic_objectives"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_hierarchies_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_mutations: {
        Row: {
          cons: string[] | null
          created_at: string | null
          description: string | null
          id: string
          mutated_data: Json | null
          mutation_name: string
          original_data: Json | null
          pros: string[] | null
          risk_level: string | null
          strategy_id: string | null
        }
        Insert: {
          cons?: string[] | null
          created_at?: string | null
          description?: string | null
          id?: string
          mutated_data?: Json | null
          mutation_name: string
          original_data?: Json | null
          pros?: string[] | null
          risk_level?: string | null
          strategy_id?: string | null
        }
        Update: {
          cons?: string[] | null
          created_at?: string | null
          description?: string | null
          id?: string
          mutated_data?: Json | null
          mutation_name?: string
          original_data?: Json | null
          pros?: string[] | null
          risk_level?: string | null
          strategy_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "strategy_mutations_strategy_id_fkey"
            columns: ["strategy_id"]
            isOneToOne: false
            referencedRelation: "managed_service_strategies"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_nodes: {
        Row: {
          actual_duration_hours: number | null
          assigned_to: string | null
          created_at: string
          created_by: string | null
          deadline: string | null
          description: string | null
          domain: string
          end_date: string | null
          estimated_duration_hours: number | null
          id: string
          input_data: Json | null
          name: string
          node_type: string
          organization_id: string
          output_data: Json | null
          priority: number
          progress: number
          risk_level: string
          start_date: string | null
          status: string
          tags: string[] | null
          updated_at: string
        }
        Insert: {
          actual_duration_hours?: number | null
          assigned_to?: string | null
          created_at?: string
          created_by?: string | null
          deadline?: string | null
          description?: string | null
          domain: string
          end_date?: string | null
          estimated_duration_hours?: number | null
          id?: string
          input_data?: Json | null
          name: string
          node_type: string
          organization_id: string
          output_data?: Json | null
          priority?: number
          progress?: number
          risk_level?: string
          start_date?: string | null
          status?: string
          tags?: string[] | null
          updated_at?: string
        }
        Update: {
          actual_duration_hours?: number | null
          assigned_to?: string | null
          created_at?: string
          created_by?: string | null
          deadline?: string | null
          description?: string | null
          domain?: string
          end_date?: string | null
          estimated_duration_hours?: number | null
          id?: string
          input_data?: Json | null
          name?: string
          node_type?: string
          organization_id?: string
          output_data?: Json | null
          priority?: number
          progress?: number
          risk_level?: string
          start_date?: string | null
          status?: string
          tags?: string[] | null
          updated_at?: string
        }
        Relationships: []
      }
      strategy_objectives: {
        Row: {
          category: string
          created_at: string
          description: string | null
          id: string
          kpi_current_value: number | null
          kpi_name: string
          kpi_target_value: number
          kpi_unit: string | null
          organization_id: string
          owner_id: string | null
          progress: number
          root_node_id: string | null
          start_date: string
          status: string
          supporting_node_ids: string[] | null
          target_date: string
          title: string
          updated_at: string
        }
        Insert: {
          category: string
          created_at?: string
          description?: string | null
          id?: string
          kpi_current_value?: number | null
          kpi_name: string
          kpi_target_value: number
          kpi_unit?: string | null
          organization_id: string
          owner_id?: string | null
          progress?: number
          root_node_id?: string | null
          start_date?: string
          status?: string
          supporting_node_ids?: string[] | null
          target_date: string
          title: string
          updated_at?: string
        }
        Update: {
          category?: string
          created_at?: string
          description?: string | null
          id?: string
          kpi_current_value?: number | null
          kpi_name?: string
          kpi_target_value?: number
          kpi_unit?: string | null
          organization_id?: string
          owner_id?: string | null
          progress?: number
          root_node_id?: string | null
          start_date?: string
          status?: string
          supporting_node_ids?: string[] | null
          target_date?: string
          title?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategy_objectives_root_node_id_fkey"
            columns: ["root_node_id"]
            isOneToOne: false
            referencedRelation: "strategy_nodes"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_patterns: {
        Row: {
          description: string | null
          detected_at: string | null
          efficacy: number
          frequency: number | null
          id: string
          pattern_name: string
          pattern_type: string
          related_strategies: string[] | null
          success_rate: number
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          description?: string | null
          detected_at?: string | null
          efficacy: number
          frequency?: number | null
          id?: string
          pattern_name: string
          pattern_type: string
          related_strategies?: string[] | null
          success_rate: number
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          description?: string | null
          detected_at?: string | null
          efficacy?: number
          frequency?: number | null
          id?: string
          pattern_name?: string
          pattern_type?: string
          related_strategies?: string[] | null
          success_rate?: number
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategy_patterns_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_playbooks: {
        Row: {
          agents_involved: string[]
          created_at: string | null
          description: string
          id: string
          name: string
          priority: string
          status: string | null
          theme: string
          workflows: Json
        }
        Insert: {
          agents_involved: string[]
          created_at?: string | null
          description: string
          id?: string
          name: string
          priority: string
          status?: string | null
          theme: string
          workflows: Json
        }
        Update: {
          agents_involved?: string[]
          created_at?: string | null
          description?: string
          id?: string
          name?: string
          priority?: string
          status?: string | null
          theme?: string
          workflows?: Json
        }
        Relationships: []
      }
      strategy_proposals: {
        Row: {
          approved_at: string | null
          approved_by: string | null
          assigned_to: string | null
          completed_steps: number
          created_at: string
          created_by: string | null
          description: string | null
          expected_outcomes: Json | null
          id: string
          organization_id: string
          proposal_type: string
          requires_approval: boolean
          risk_assessment: Json | null
          source_objective_id: string | null
          status: string
          steps: Json
          title: string
          total_steps: number
          trigger_data: Json | null
          trigger_type: string
          updated_at: string
        }
        Insert: {
          approved_at?: string | null
          approved_by?: string | null
          assigned_to?: string | null
          completed_steps?: number
          created_at?: string
          created_by?: string | null
          description?: string | null
          expected_outcomes?: Json | null
          id?: string
          organization_id: string
          proposal_type: string
          requires_approval?: boolean
          risk_assessment?: Json | null
          source_objective_id?: string | null
          status?: string
          steps?: Json
          title: string
          total_steps?: number
          trigger_data?: Json | null
          trigger_type: string
          updated_at?: string
        }
        Update: {
          approved_at?: string | null
          approved_by?: string | null
          assigned_to?: string | null
          completed_steps?: number
          created_at?: string
          created_by?: string | null
          description?: string | null
          expected_outcomes?: Json | null
          id?: string
          organization_id?: string
          proposal_type?: string
          requires_approval?: boolean
          risk_assessment?: Json | null
          source_objective_id?: string | null
          status?: string
          steps?: Json
          title?: string
          total_steps?: number
          trigger_data?: Json | null
          trigger_type?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategy_proposals_source_objective_id_fkey"
            columns: ["source_objective_id"]
            isOneToOne: false
            referencedRelation: "strategy_objectives"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_recommendations: {
        Row: {
          actions: Json | null
          assigned_to_user_id: string | null
          client_id: string
          created_at: string | null
          description: string
          due_date: string | null
          estimated_impact: string | null
          id: string
          implemented_at: string | null
          pillar_id: string
          priority: string
          status: string | null
          title: string
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          actions?: Json | null
          assigned_to_user_id?: string | null
          client_id: string
          created_at?: string | null
          description: string
          due_date?: string | null
          estimated_impact?: string | null
          id?: string
          implemented_at?: string | null
          pillar_id: string
          priority: string
          status?: string | null
          title: string
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          actions?: Json | null
          assigned_to_user_id?: string | null
          client_id?: string
          created_at?: string | null
          description?: string
          due_date?: string | null
          estimated_impact?: string | null
          id?: string
          implemented_at?: string | null
          pillar_id?: string
          priority?: string
          status?: string | null
          title?: string
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategy_recommendations_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "client_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_recommendations_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_sub_agent_executions: {
        Row: {
          completed_at: string | null
          error_message: string | null
          execution_result: Json | null
          execution_time_ms: number | null
          id: string
          started_at: string | null
          status: string | null
          strategy_id: string | null
          sub_agent_type: string
          task_description: string | null
        }
        Insert: {
          completed_at?: string | null
          error_message?: string | null
          execution_result?: Json | null
          execution_time_ms?: number | null
          id?: string
          started_at?: string | null
          status?: string | null
          strategy_id?: string | null
          sub_agent_type: string
          task_description?: string | null
        }
        Update: {
          completed_at?: string | null
          error_message?: string | null
          execution_result?: Json | null
          execution_time_ms?: number | null
          id?: string
          started_at?: string | null
          status?: string | null
          strategy_id?: string | null
          sub_agent_type?: string
          task_description?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "strategy_sub_agent_executions_strategy_id_fkey"
            columns: ["strategy_id"]
            isOneToOne: false
            referencedRelation: "managed_service_strategies"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_validations: {
        Row: {
          agent_validations: Json
          conflicting_views: string[] | null
          conflicts_detected: Json | null
          consensus_level: number
          detected_at: string | null
          id: string
          overall_status: string
          recommendations: string[] | null
          strategy_hierarchy_id: string
          updated_at: string | null
          validation_score: number
          validation_timestamp: string | null
          workspace_id: string
        }
        Insert: {
          agent_validations: Json
          conflicting_views?: string[] | null
          conflicts_detected?: Json | null
          consensus_level: number
          detected_at?: string | null
          id?: string
          overall_status?: string
          recommendations?: string[] | null
          strategy_hierarchy_id: string
          updated_at?: string | null
          validation_score: number
          validation_timestamp?: string | null
          workspace_id: string
        }
        Update: {
          agent_validations?: Json
          conflicting_views?: string[] | null
          conflicts_detected?: Json | null
          consensus_level?: number
          detected_at?: string | null
          id?: string
          overall_status?: string
          recommendations?: string[] | null
          strategy_hierarchy_id?: string
          updated_at?: string | null
          validation_score?: number
          validation_timestamp?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategy_validations_strategy_hierarchy_id_fkey"
            columns: ["strategy_hierarchy_id"]
            isOneToOne: false
            referencedRelation: "strategy_hierarchies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_validations_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      stripe_customers: {
        Row: {
          created_at: string | null
          current_period_end: string | null
          current_period_start: string | null
          id: string
          org_id: string
          status: string
          stripe_customer_id: string
          stripe_subscription_id: string | null
          tier: string
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          current_period_end?: string | null
          current_period_start?: string | null
          id?: string
          org_id: string
          status?: string
          stripe_customer_id: string
          stripe_subscription_id?: string | null
          tier?: string
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          current_period_end?: string | null
          current_period_start?: string | null
          id?: string
          org_id?: string
          status?: string
          stripe_customer_id?: string
          stripe_subscription_id?: string | null
          tier?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "stripe_customers_org_fk"
            columns: ["org_id"]
            isOneToOne: true
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      subscriptions: {
        Row: {
          amount: number | null
          cancel_at: string | null
          cancel_at_period_end: boolean | null
          canceled_at: string | null
          created_at: string | null
          currency: string | null
          current_period_end: string | null
          current_period_start: string | null
          id: string
          interval: string | null
          metadata: Json | null
          org_id: string
          plan: string
          seats: number | null
          status: string
          stripe_customer_id: string | null
          stripe_price_id: string | null
          stripe_product_id: string | null
          stripe_subscription_id: string | null
          trial_end: string | null
          trial_start: string | null
          updated_at: string | null
          usage_limits: Json | null
        }
        Insert: {
          amount?: number | null
          cancel_at?: string | null
          cancel_at_period_end?: boolean | null
          canceled_at?: string | null
          created_at?: string | null
          currency?: string | null
          current_period_end?: string | null
          current_period_start?: string | null
          id?: string
          interval?: string | null
          metadata?: Json | null
          org_id: string
          plan?: string
          seats?: number | null
          status?: string
          stripe_customer_id?: string | null
          stripe_price_id?: string | null
          stripe_product_id?: string | null
          stripe_subscription_id?: string | null
          trial_end?: string | null
          trial_start?: string | null
          updated_at?: string | null
          usage_limits?: Json | null
        }
        Update: {
          amount?: number | null
          cancel_at?: string | null
          cancel_at_period_end?: boolean | null
          canceled_at?: string | null
          created_at?: string | null
          currency?: string | null
          current_period_end?: string | null
          current_period_start?: string | null
          id?: string
          interval?: string | null
          metadata?: Json | null
          org_id?: string
          plan?: string
          seats?: number | null
          status?: string
          stripe_customer_id?: string | null
          stripe_price_id?: string | null
          stripe_product_id?: string | null
          stripe_subscription_id?: string | null
          trial_end?: string | null
          trial_start?: string | null
          updated_at?: string | null
          usage_limits?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "subscriptions_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      success_prediction_snapshots: {
        Row: {
          confidence: number
          created_at: string
          domain: string
          horizon_days: number | null
          id: string
          prediction_payload: Json
          region_id: string | null
          success_probability: number
          tenant_id: string | null
          uncertainty_notes: string | null
        }
        Insert: {
          confidence: number
          created_at?: string
          domain: string
          horizon_days?: number | null
          id?: string
          prediction_payload: Json
          region_id?: string | null
          success_probability: number
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number
          created_at?: string
          domain?: string
          horizon_days?: number | null
          id?: string
          prediction_payload?: Json
          region_id?: string | null
          success_probability?: number
          tenant_id?: string | null
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "success_prediction_snapshots_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "success_prediction_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      support_sessions: {
        Row: {
          assistant_type: string
          created_at: string | null
          id: string
          messages: Json | null
          resolved: boolean
          ticket_id: string
        }
        Insert: {
          assistant_type?: string
          created_at?: string | null
          id?: string
          messages?: Json | null
          resolved?: boolean
          ticket_id: string
        }
        Update: {
          assistant_type?: string
          created_at?: string | null
          id?: string
          messages?: Json | null
          resolved?: boolean
          ticket_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "support_sessions_ticket_fk"
            columns: ["ticket_id"]
            isOneToOne: false
            referencedRelation: "support_tickets"
            referencedColumns: ["id"]
          },
        ]
      }
      support_tickets: {
        Row: {
          category: string
          created_at: string | null
          id: string
          metadata: Json | null
          org_id: string
          resolution: Json | null
          severity: string
          status: string
          user_id: string | null
        }
        Insert: {
          category: string
          created_at?: string | null
          id?: string
          metadata?: Json | null
          org_id: string
          resolution?: Json | null
          severity?: string
          status?: string
          user_id?: string | null
        }
        Update: {
          category?: string
          created_at?: string | null
          id?: string
          metadata?: Json | null
          org_id?: string
          resolution?: Json | null
          severity?: string
          status?: string
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "support_tickets_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      surroundings_insights: {
        Row: {
          confidence: number
          created_at: string
          environment_description: string
          environment_type: string
          focus_opportunities: Json
          focus_score: number
          hazard_warnings: Json
          id: string
          insight_id: string
          interaction_reasoning: string
          likely_activity: string
          owner_id: string
          recommended_complexity: string
          recommended_pace: string
          recommended_response_length: string
          safety_score: number
          social_context: string
          social_pressure_score: number
          timestamp: string
          visual_context_id: string
          workspace_id: string
        }
        Insert: {
          confidence?: number
          created_at?: string
          environment_description: string
          environment_type: string
          focus_opportunities?: Json
          focus_score: number
          hazard_warnings?: Json
          id?: string
          insight_id: string
          interaction_reasoning: string
          likely_activity: string
          owner_id: string
          recommended_complexity: string
          recommended_pace: string
          recommended_response_length: string
          safety_score: number
          social_context: string
          social_pressure_score: number
          timestamp?: string
          visual_context_id: string
          workspace_id: string
        }
        Update: {
          confidence?: number
          created_at?: string
          environment_description?: string
          environment_type?: string
          focus_opportunities?: Json
          focus_score?: number
          hazard_warnings?: Json
          id?: string
          insight_id?: string
          interaction_reasoning?: string
          likely_activity?: string
          owner_id?: string
          recommended_complexity?: string
          recommended_pace?: string
          recommended_response_length?: string
          safety_score?: number
          social_context?: string
          social_pressure_score?: number
          timestamp?: string
          visual_context_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "surroundings_insights_visual_context_id_fkey"
            columns: ["visual_context_id"]
            isOneToOne: false
            referencedRelation: "visual_context_events"
            referencedColumns: ["id"]
          },
        ]
      }
      synthex_automation_schedules: {
        Row: {
          configuration: Json | null
          consecutive_failures: number | null
          created_at: string | null
          domain: string
          enabled: boolean | null
          frequency: string | null
          id: string
          last_run: string | null
          last_run_status: string | null
          next_run: string | null
          scheduled_time: string | null
          sync_type: string
          updated_at: string | null
        }
        Insert: {
          configuration?: Json | null
          consecutive_failures?: number | null
          created_at?: string | null
          domain: string
          enabled?: boolean | null
          frequency?: string | null
          id?: string
          last_run?: string | null
          last_run_status?: string | null
          next_run?: string | null
          scheduled_time?: string | null
          sync_type: string
          updated_at?: string | null
        }
        Update: {
          configuration?: Json | null
          consecutive_failures?: number | null
          created_at?: string | null
          domain?: string
          enabled?: boolean | null
          frequency?: string | null
          id?: string
          last_run?: string | null
          last_run_status?: string | null
          next_run?: string | null
          scheduled_time?: string | null
          sync_type?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      synthex_autonomous_integrations: {
        Row: {
          configuration: Json | null
          created_at: string | null
          dataforseo_api_key_id: string | null
          dataforseo_status: string | null
          domain: string
          ga4_property_id: string | null
          ga4_status: string | null
          gsc_site_url: string | null
          gsc_status: string | null
          id: string
          integration_type: string
          semrush_api_key_id: string | null
          semrush_status: string | null
          setup_completed_at: string | null
          setup_initiated_at: string | null
          updated_at: string | null
        }
        Insert: {
          configuration?: Json | null
          created_at?: string | null
          dataforseo_api_key_id?: string | null
          dataforseo_status?: string | null
          domain: string
          ga4_property_id?: string | null
          ga4_status?: string | null
          gsc_site_url?: string | null
          gsc_status?: string | null
          id?: string
          integration_type?: string
          semrush_api_key_id?: string | null
          semrush_status?: string | null
          setup_completed_at?: string | null
          setup_initiated_at?: string | null
          updated_at?: string | null
        }
        Update: {
          configuration?: Json | null
          created_at?: string | null
          dataforseo_api_key_id?: string | null
          dataforseo_status?: string | null
          domain?: string
          ga4_property_id?: string | null
          ga4_status?: string | null
          gsc_site_url?: string | null
          gsc_status?: string | null
          id?: string
          integration_type?: string
          semrush_api_key_id?: string | null
          semrush_status?: string | null
          setup_completed_at?: string | null
          setup_initiated_at?: string | null
          updated_at?: string | null
        }
        Relationships: []
      }
      synthex_brands: {
        Row: {
          brand_color_primary: string | null
          brand_color_secondary: string | null
          brand_name: string
          brand_slug: string
          created_at: string
          id: string
          primary_domain: string | null
          primary_platform: string | null
          status: string
          tagline: string | null
          target_audience: string | null
          tenant_id: string
          tone_voice: string | null
          updated_at: string
          value_proposition: string | null
        }
        Insert: {
          brand_color_primary?: string | null
          brand_color_secondary?: string | null
          brand_name: string
          brand_slug: string
          created_at?: string
          id?: string
          primary_domain?: string | null
          primary_platform?: string | null
          status?: string
          tagline?: string | null
          target_audience?: string | null
          tenant_id: string
          tone_voice?: string | null
          updated_at?: string
          value_proposition?: string | null
        }
        Update: {
          brand_color_primary?: string | null
          brand_color_secondary?: string | null
          brand_name?: string
          brand_slug?: string
          created_at?: string
          id?: string
          primary_domain?: string | null
          primary_platform?: string | null
          status?: string
          tagline?: string | null
          target_audience?: string | null
          tenant_id?: string
          tone_voice?: string | null
          updated_at?: string
          value_proposition?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "synthex_brands_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "synthex_tenants"
            referencedColumns: ["id"]
          },
        ]
      }
      synthex_core_vitals_metrics: {
        Row: {
          created_at: string | null
          crux_data: Json | null
          domain: string
          id: string
          metric_date: string
          overall_status: string | null
          pagespeed_data: Json | null
          recommendations: Json | null
          synced_at: string
        }
        Insert: {
          created_at?: string | null
          crux_data?: Json | null
          domain: string
          id?: string
          metric_date: string
          overall_status?: string | null
          pagespeed_data?: Json | null
          recommendations?: Json | null
          synced_at?: string
        }
        Update: {
          created_at?: string | null
          crux_data?: Json | null
          domain?: string
          id?: string
          metric_date?: string
          overall_status?: string | null
          pagespeed_data?: Json | null
          recommendations?: Json | null
          synced_at?: string
        }
        Relationships: []
      }
      synthex_ga4_metrics: {
        Row: {
          created_at: string | null
          date_range: Json | null
          devices: Json | null
          domain: string
          id: string
          main_metrics: Json | null
          metric_date: string
          property_id: string
          raw_data: Json | null
          synced_at: string
          top_pages: Json | null
          traffic_sources: Json | null
        }
        Insert: {
          created_at?: string | null
          date_range?: Json | null
          devices?: Json | null
          domain: string
          id?: string
          main_metrics?: Json | null
          metric_date: string
          property_id: string
          raw_data?: Json | null
          synced_at?: string
          top_pages?: Json | null
          traffic_sources?: Json | null
        }
        Update: {
          created_at?: string | null
          date_range?: Json | null
          devices?: Json | null
          domain?: string
          id?: string
          main_metrics?: Json | null
          metric_date?: string
          property_id?: string
          raw_data?: Json | null
          synced_at?: string
          top_pages?: Json | null
          traffic_sources?: Json | null
        }
        Relationships: []
      }
      synthex_gsc_metrics: {
        Row: {
          countries: Json | null
          created_at: string | null
          date_range: Json | null
          devices: Json | null
          domain: string
          id: string
          metric_date: string
          raw_data: Json | null
          site_url: string
          synced_at: string
          top_pages: Json | null
          top_queries: Json | null
          total_metrics: Json | null
        }
        Insert: {
          countries?: Json | null
          created_at?: string | null
          date_range?: Json | null
          devices?: Json | null
          domain: string
          id?: string
          metric_date: string
          raw_data?: Json | null
          site_url: string
          synced_at?: string
          top_pages?: Json | null
          top_queries?: Json | null
          total_metrics?: Json | null
        }
        Update: {
          countries?: Json | null
          created_at?: string | null
          date_range?: Json | null
          devices?: Json | null
          domain?: string
          id?: string
          metric_date?: string
          raw_data?: Json | null
          site_url?: string
          synced_at?: string
          top_pages?: Json | null
          top_queries?: Json | null
          total_metrics?: Json | null
        }
        Relationships: []
      }
      synthex_job_results: {
        Row: {
          created_at: string
          error_json: Json | null
          id: string
          job_id: string
          result_json: Json
          result_type: string
        }
        Insert: {
          created_at?: string
          error_json?: Json | null
          id?: string
          job_id: string
          result_json?: Json
          result_type: string
        }
        Update: {
          created_at?: string
          error_json?: Json | null
          id?: string
          job_id?: string
          result_json?: Json
          result_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "synthex_job_results_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "synthex_project_jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      synthex_offer_counters: {
        Row: {
          consumed: number
          counter_key: string
          created_at: string
          id: string
          label: string
          limit_count: number
          tier: string
          updated_at: string
        }
        Insert: {
          consumed?: number
          counter_key: string
          created_at?: string
          id?: string
          label: string
          limit_count: number
          tier: string
          updated_at?: string
        }
        Update: {
          consumed?: number
          counter_key?: string
          created_at?: string
          id?: string
          label?: string
          limit_count?: number
          tier?: string
          updated_at?: string
        }
        Relationships: []
      }
      synthex_plan_subscriptions: {
        Row: {
          base_price_aud: number
          billing_cycle: string
          billing_status: string
          cancelled_at: string | null
          created_at: string
          discount_percentage: number
          effective_price_aud: number
          id: string
          offer_tier: string
          plan_code: string
          renews_at: string
          started_at: string
          tenant_id: string
          updated_at: string
        }
        Insert: {
          base_price_aud: number
          billing_cycle?: string
          billing_status?: string
          cancelled_at?: string | null
          created_at?: string
          discount_percentage?: number
          effective_price_aud: number
          id?: string
          offer_tier?: string
          plan_code: string
          renews_at: string
          started_at?: string
          tenant_id: string
          updated_at?: string
        }
        Update: {
          base_price_aud?: number
          billing_cycle?: string
          billing_status?: string
          cancelled_at?: string | null
          created_at?: string
          discount_percentage?: number
          effective_price_aud?: number
          id?: string
          offer_tier?: string
          plan_code?: string
          renews_at?: string
          started_at?: string
          tenant_id?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "synthex_plan_subscriptions_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "synthex_tenants"
            referencedColumns: ["id"]
          },
        ]
      }
      synthex_project_jobs: {
        Row: {
          assigned_agent: string | null
          brand_id: string | null
          completed_at: string | null
          created_at: string
          error_message: string | null
          id: string
          job_type: string
          payload_json: Json
          started_at: string | null
          status: string
          tenant_id: string
        }
        Insert: {
          assigned_agent?: string | null
          brand_id?: string | null
          completed_at?: string | null
          created_at?: string
          error_message?: string | null
          id?: string
          job_type: string
          payload_json?: Json
          started_at?: string | null
          status?: string
          tenant_id: string
        }
        Update: {
          assigned_agent?: string | null
          brand_id?: string | null
          completed_at?: string | null
          created_at?: string
          error_message?: string | null
          id?: string
          job_type?: string
          payload_json?: Json
          started_at?: string | null
          status?: string
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "synthex_project_jobs_brand_id_fkey"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "synthex_brands"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "synthex_project_jobs_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "synthex_tenants"
            referencedColumns: ["id"]
          },
        ]
      }
      synthex_seo_daily_summary: {
        Row: {
          average_position: number | null
          confidence_score: number | null
          created_at: string
          id: string
          lost_keywords: number
          new_keywords: number
          summary_date: string
          top_10_count: number
          top_20_count: number
          total_keywords_tracked: number
          updated_at: string
          updated_keywords: number
          visibility_score: number | null
        }
        Insert: {
          average_position?: number | null
          confidence_score?: number | null
          created_at?: string
          id?: string
          lost_keywords?: number
          new_keywords?: number
          summary_date: string
          top_10_count?: number
          top_20_count?: number
          total_keywords_tracked?: number
          updated_at?: string
          updated_keywords?: number
          visibility_score?: number | null
        }
        Update: {
          average_position?: number | null
          confidence_score?: number | null
          created_at?: string
          id?: string
          lost_keywords?: number
          new_keywords?: number
          summary_date?: string
          top_10_count?: number
          top_20_count?: number
          total_keywords_tracked?: number
          updated_at?: string
          updated_keywords?: number
          visibility_score?: number | null
        }
        Relationships: []
      }
      synthex_seo_metrics: {
        Row: {
          confidence_score: number | null
          created_at: string
          data: Json | null
          difficulty_score: number | null
          id: string
          keyword: string
          metric_date: string
          position: number | null
          provider: string
          search_volume: number | null
          trend: string | null
          trend_days: number | null
          visibility_score: number | null
        }
        Insert: {
          confidence_score?: number | null
          created_at?: string
          data?: Json | null
          difficulty_score?: number | null
          id?: string
          keyword: string
          metric_date: string
          position?: number | null
          provider: string
          search_volume?: number | null
          trend?: string | null
          trend_days?: number | null
          visibility_score?: number | null
        }
        Update: {
          confidence_score?: number | null
          created_at?: string
          data?: Json | null
          difficulty_score?: number | null
          id?: string
          keyword?: string
          metric_date?: string
          position?: number | null
          provider?: string
          search_volume?: number | null
          trend?: string | null
          trend_days?: number | null
          visibility_score?: number | null
        }
        Relationships: []
      }
      synthex_sync_logs: {
        Row: {
          data_summary: Json | null
          domain: string
          duration_ms: number | null
          error_count: number | null
          error_message: string | null
          id: string
          records_synced: number | null
          started_at: string | null
          status: string
          sync_type: string
          synced_at: string
        }
        Insert: {
          data_summary?: Json | null
          domain: string
          duration_ms?: number | null
          error_count?: number | null
          error_message?: string | null
          id?: string
          records_synced?: number | null
          started_at?: string | null
          status: string
          sync_type: string
          synced_at?: string
        }
        Update: {
          data_summary?: Json | null
          domain?: string
          duration_ms?: number | null
          error_count?: number | null
          error_message?: string | null
          id?: string
          records_synced?: number | null
          started_at?: string | null
          status?: string
          sync_type?: string
          synced_at?: string
        }
        Relationships: []
      }
      synthex_tenants: {
        Row: {
          business_name: string
          created_at: string
          id: string
          industry: string
          owner_user_id: string
          region: string | null
          status: string
          subscription_id: string | null
          updated_at: string
          website_url: string | null
        }
        Insert: {
          business_name: string
          created_at?: string
          id?: string
          industry: string
          owner_user_id: string
          region?: string | null
          status?: string
          subscription_id?: string | null
          updated_at?: string
          website_url?: string | null
        }
        Update: {
          business_name?: string
          created_at?: string
          id?: string
          industry?: string
          owner_user_id?: string
          region?: string | null
          status?: string
          subscription_id?: string | null
          updated_at?: string
          website_url?: string | null
        }
        Relationships: []
      }
      synthex_tier_limits: {
        Row: {
          ai_agent_access: boolean
          ai_content_generation: boolean
          ai_extended_thinking: boolean
          api_access: boolean
          campaigns_limit: number
          competitor_analysis: boolean
          contacts_limit: number
          created_at: string
          custom_domain: boolean
          drip_campaigns_limit: number
          emails_per_month: number
          priority_support: boolean
          seo_reports: boolean
          storage_limit_mb: number
          visual_images_monthly: number | null
          visual_videos_monthly: number | null
          visual_video_max_duration_seconds: number | null
          tier: string
          updated_at: string
          white_label: boolean
        }
        Insert: {
          ai_agent_access?: boolean
          ai_content_generation?: boolean
          ai_extended_thinking?: boolean
          api_access?: boolean
          campaigns_limit: number
          competitor_analysis?: boolean
          contacts_limit: number
          created_at?: string
          custom_domain?: boolean
          drip_campaigns_limit?: number
          emails_per_month: number
          priority_support?: boolean
          seo_reports?: boolean
          storage_limit_mb?: number
          tier: string
          updated_at?: string
          white_label?: boolean
        }
        Update: {
          ai_agent_access?: boolean
          ai_content_generation?: boolean
          ai_extended_thinking?: boolean
          api_access?: boolean
          campaigns_limit?: number
          competitor_analysis?: boolean
          contacts_limit?: number
          created_at?: string
          custom_domain?: boolean
          drip_campaigns_limit?: number
          emails_per_month?: number
          priority_support?: boolean
          seo_reports?: boolean
          storage_limit_mb?: number
          tier?: string
          updated_at?: string
          white_label?: boolean
        }
        Relationships: []
      }
      synthex_usage_logs: {
        Row: {
          created_at: string
          event_type: string
          feature: string | null
          id: string
          metadata_json: Json | null
          tenant_id: string
        }
        Insert: {
          created_at?: string
          event_type: string
          feature?: string | null
          id?: string
          metadata_json?: Json | null
          tenant_id: string
        }
        Update: {
          created_at?: string
          event_type?: string
          feature?: string | null
          id?: string
          metadata_json?: Json | null
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "synthex_usage_logs_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "synthex_tenants"
            referencedColumns: ["id"]
          },
        ]
      }
      synthex_usage_tracking: {
        Row: {
          ai_requests_count: number
          ai_tokens_used: number
          campaigns_count: number
          contacts_count: number
          created_at: string
          drip_campaigns_count: number
          emails_sent: number
          id: string
          period_end: string
          period_start: string
          storage_used_mb: number
          updated_at: string
          workspace_id: string
        }
        Insert: {
          ai_requests_count?: number
          ai_tokens_used?: number
          campaigns_count?: number
          contacts_count?: number
          created_at?: string
          drip_campaigns_count?: number
          emails_sent?: number
          id?: string
          period_end: string
          period_start: string
          storage_used_mb?: number
          updated_at?: string
          workspace_id: string
        }
        Update: {
          ai_requests_count?: number
          ai_tokens_used?: number
          campaigns_count?: number
          contacts_count?: number
          created_at?: string
          drip_campaigns_count?: number
          emails_sent?: number
          id?: string
          period_end?: string
          period_start?: string
          storage_used_mb?: number
          updated_at?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "synthex_usage_tracking_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      sys_platform_mode: {
        Row: {
          ai_mode: string | null
          dataforseo_mode: string | null
          id: number
          mode: string
          semrush_mode: string | null
          stripe_mode: string
          updated_at: string | null
          updated_by: string | null
        }
        Insert: {
          ai_mode?: string | null
          dataforseo_mode?: string | null
          id?: number
          mode?: string
          semrush_mode?: string | null
          stripe_mode?: string
          updated_at?: string | null
          updated_by?: string | null
        }
        Update: {
          ai_mode?: string | null
          dataforseo_mode?: string | null
          id?: number
          mode?: string
          semrush_mode?: string | null
          stripe_mode?: string
          updated_at?: string | null
          updated_by?: string | null
        }
        Relationships: []
      }
      sys_platform_mode_audit: {
        Row: {
          changed_at: string | null
          changed_by: string | null
          id: string
          new_mode: string
          old_mode: string
          reason: string | null
          service: string | null
        }
        Insert: {
          changed_at?: string | null
          changed_by?: string | null
          id?: string
          new_mode: string
          old_mode: string
          reason?: string | null
          service?: string | null
        }
        Update: {
          changed_at?: string | null
          changed_by?: string | null
          id?: string
          new_mode?: string
          old_mode?: string
          reason?: string | null
          service?: string | null
        }
        Relationships: []
      }
      system_errors: {
        Row: {
          context: Json | null
          created_at: string | null
          environment: string | null
          error_code: string | null
          error_type: string
          id: string
          message: string
          metadata: Json | null
          method: string | null
          priority: string
          request_id: string | null
          resolution_notes: string | null
          resolved: boolean | null
          resolved_at: string | null
          resolved_by: string | null
          route: string | null
          severity: string
          stack_trace: string | null
          user_id: string | null
          version: string | null
          workspace_id: string | null
        }
        Insert: {
          context?: Json | null
          created_at?: string | null
          environment?: string | null
          error_code?: string | null
          error_type: string
          id?: string
          message: string
          metadata?: Json | null
          method?: string | null
          priority: string
          request_id?: string | null
          resolution_notes?: string | null
          resolved?: boolean | null
          resolved_at?: string | null
          resolved_by?: string | null
          route?: string | null
          severity: string
          stack_trace?: string | null
          user_id?: string | null
          version?: string | null
          workspace_id?: string | null
        }
        Update: {
          context?: Json | null
          created_at?: string | null
          environment?: string | null
          error_code?: string | null
          error_type?: string
          id?: string
          message?: string
          metadata?: Json | null
          method?: string | null
          priority?: string
          request_id?: string | null
          resolution_notes?: string | null
          resolved?: boolean | null
          resolved_at?: string | null
          resolved_by?: string | null
          route?: string | null
          severity?: string
          stack_trace?: string | null
          user_id?: string | null
          version?: string | null
          workspace_id?: string | null
        }
        Relationships: []
      }
      system_health_checks: {
        Row: {
          checks: Json
          created_at: string | null
          critical_issues: string[] | null
          environment: string | null
          execution_time_ms: number | null
          failed_checks: number
          id: string
          overall_status: string
          passed_checks: number
          total_checks: number
          version: string | null
          warnings: number
          warnings_list: string[] | null
        }
        Insert: {
          checks?: Json
          created_at?: string | null
          critical_issues?: string[] | null
          environment?: string | null
          execution_time_ms?: number | null
          failed_checks?: number
          id?: string
          overall_status: string
          passed_checks?: number
          total_checks?: number
          version?: string | null
          warnings?: number
          warnings_list?: string[] | null
        }
        Update: {
          checks?: Json
          created_at?: string | null
          critical_issues?: string[] | null
          environment?: string | null
          execution_time_ms?: number | null
          failed_checks?: number
          id?: string
          overall_status?: string
          passed_checks?: number
          total_checks?: number
          version?: string | null
          warnings?: number
          warnings_list?: string[] | null
        }
        Relationships: []
      }
      system_stability_mode: {
        Row: {
          current_mode: string
          frozen_regions: Json | null
          id: string
          last_oscillation_at: string | null
          mode_reason: string | null
          oscillation_count: number | null
          safeguards_active: Json | null
          tenant_id: string | null
          updated_at: string
        }
        Insert: {
          current_mode?: string
          frozen_regions?: Json | null
          id?: string
          last_oscillation_at?: string | null
          mode_reason?: string | null
          oscillation_count?: number | null
          safeguards_active?: Json | null
          tenant_id?: string | null
          updated_at?: string
        }
        Update: {
          current_mode?: string
          frozen_regions?: Json | null
          id?: string
          last_oscillation_at?: string | null
          mode_reason?: string | null
          oscillation_count?: number | null
          safeguards_active?: Json | null
          tenant_id?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "system_stability_mode_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: true
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      task_executions: {
        Row: {
          action: string
          agent: string
          attempts: number
          completed_at: string | null
          created_at: string | null
          duration_ms: number | null
          error: string | null
          id: string
          params: Json
          result: Json | null
          started_at: string | null
          status: string
          task_id: string
          workflow_id: string
        }
        Insert: {
          action: string
          agent: string
          attempts?: number
          completed_at?: string | null
          created_at?: string | null
          duration_ms?: number | null
          error?: string | null
          id?: string
          params: Json
          result?: Json | null
          started_at?: string | null
          status: string
          task_id: string
          workflow_id: string
        }
        Update: {
          action?: string
          agent?: string
          attempts?: number
          completed_at?: string | null
          created_at?: string | null
          duration_ms?: number | null
          error?: string | null
          id?: string
          params?: Json
          result?: Json | null
          started_at?: string | null
          status?: string
          task_id?: string
          workflow_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "task_executions_workflow_id_fkey"
            columns: ["workflow_id"]
            isOneToOne: false
            referencedRelation: "workflow_executions"
            referencedColumns: ["id"]
          },
        ]
      }
      task_marketplace_analytics: {
        Row: {
          agent_win_stats: Json | null
          avg_bid_value: number | null
          avg_bids_per_auction: number | null
          bundles_used_count: number | null
          complexity_band_stats: Json | null
          created_at: string | null
          detected_patterns: Json | null
          id: string
          last_updated: string | null
          safety_filter_triggered_count: number | null
          total_agent_bids: number | null
          total_auctions: number | null
          workspace_id: string
        }
        Insert: {
          agent_win_stats?: Json | null
          avg_bid_value?: number | null
          avg_bids_per_auction?: number | null
          bundles_used_count?: number | null
          complexity_band_stats?: Json | null
          created_at?: string | null
          detected_patterns?: Json | null
          id?: string
          last_updated?: string | null
          safety_filter_triggered_count?: number | null
          total_agent_bids?: number | null
          total_auctions?: number | null
          workspace_id: string
        }
        Update: {
          agent_win_stats?: Json | null
          avg_bid_value?: number | null
          avg_bids_per_auction?: number | null
          bundles_used_count?: number | null
          complexity_band_stats?: Json | null
          created_at?: string | null
          detected_patterns?: Json | null
          id?: string
          last_updated?: string | null
          safety_filter_triggered_count?: number | null
          total_agent_bids?: number | null
          total_auctions?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "task_marketplace_analytics_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      task_marketplace_auctions: {
        Row: {
          auction_margin: number | null
          auction_type: string | null
          bundle_used: boolean | null
          completed_at: string | null
          created_at: string | null
          disqualified_count: number | null
          execution_time_ms: number | null
          explainability_report: Json | null
          id: string
          outcome: string | null
          price_paid: number
          runner_up_agent_id: string | null
          safety_filter_triggered: boolean | null
          status: string
          task_complexity: number
          task_id: string
          task_title: string
          total_bids_received: number | null
          updated_at: string | null
          winning_agent_id: string | null
          winning_bid: number
          workspace_id: string
        }
        Insert: {
          auction_margin?: number | null
          auction_type?: string | null
          bundle_used?: boolean | null
          completed_at?: string | null
          created_at?: string | null
          disqualified_count?: number | null
          execution_time_ms?: number | null
          explainability_report?: Json | null
          id?: string
          outcome?: string | null
          price_paid?: number
          runner_up_agent_id?: string | null
          safety_filter_triggered?: boolean | null
          status: string
          task_complexity: number
          task_id: string
          task_title: string
          total_bids_received?: number | null
          updated_at?: string | null
          winning_agent_id?: string | null
          winning_bid?: number
          workspace_id: string
        }
        Update: {
          auction_margin?: number | null
          auction_type?: string | null
          bundle_used?: boolean | null
          completed_at?: string | null
          created_at?: string | null
          disqualified_count?: number | null
          execution_time_ms?: number | null
          explainability_report?: Json | null
          id?: string
          outcome?: string | null
          price_paid?: number
          runner_up_agent_id?: string | null
          safety_filter_triggered?: boolean | null
          status?: string
          task_complexity?: number
          task_id?: string
          task_title?: string
          total_bids_received?: number | null
          updated_at?: string | null
          winning_agent_id?: string | null
          winning_bid?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "task_marketplace_auctions_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      task_marketplace_bids: {
        Row: {
          agent_id: string
          auction_id: string
          bid_components: Json | null
          capability_match: number | null
          confidence: number | null
          context_relevance: number | null
          created_at: string | null
          disqualification_reason: string | null
          disqualified: boolean | null
          final_bid: number
          id: string
          load_factor: number | null
          raw_score: number
          risk_score: number | null
          success_rate: number | null
        }
        Insert: {
          agent_id: string
          auction_id: string
          bid_components?: Json | null
          capability_match?: number | null
          confidence?: number | null
          context_relevance?: number | null
          created_at?: string | null
          disqualification_reason?: string | null
          disqualified?: boolean | null
          final_bid: number
          id?: string
          load_factor?: number | null
          raw_score: number
          risk_score?: number | null
          success_rate?: number | null
        }
        Update: {
          agent_id?: string
          auction_id?: string
          bid_components?: Json | null
          capability_match?: number | null
          confidence?: number | null
          context_relevance?: number | null
          created_at?: string | null
          disqualification_reason?: string | null
          disqualified?: boolean | null
          final_bid?: number
          id?: string
          load_factor?: number | null
          raw_score?: number
          risk_score?: number | null
          success_rate?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "task_marketplace_bids_auction_id_fkey"
            columns: ["auction_id"]
            isOneToOne: false
            referencedRelation: "task_marketplace_auctions"
            referencedColumns: ["id"]
          },
        ]
      }
      task_marketplace_history: {
        Row: {
          auction_id: string
          bundle_agents: string[] | null
          created_at: string | null
          explainability_report: Json | null
          id: string
          margin: number | null
          pattern_type: string | null
          runner_up_agent_id: string | null
          synergy_bonus: number | null
          winning_agent_id: string
          workspace_id: string
        }
        Insert: {
          auction_id: string
          bundle_agents?: string[] | null
          created_at?: string | null
          explainability_report?: Json | null
          id?: string
          margin?: number | null
          pattern_type?: string | null
          runner_up_agent_id?: string | null
          synergy_bonus?: number | null
          winning_agent_id: string
          workspace_id: string
        }
        Update: {
          auction_id?: string
          bundle_agents?: string[] | null
          created_at?: string | null
          explainability_report?: Json | null
          id?: string
          margin?: number | null
          pattern_type?: string | null
          runner_up_agent_id?: string | null
          synergy_bonus?: number | null
          winning_agent_id?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "task_marketplace_history_auction_id_fkey"
            columns: ["auction_id"]
            isOneToOne: false
            referencedRelation: "task_marketplace_auctions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "task_marketplace_history_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      task_migrations: {
        Row: {
          completed_at: string | null
          created_at: string
          id: string
          is_idempotent: boolean
          migration_reason: string
          new_context: Json
          original_context: Json
          original_queue: string
          original_region: string
          status: string
          target_queue: string
          target_region: string
          task_id: string
          tenant_id: string | null
        }
        Insert: {
          completed_at?: string | null
          created_at?: string
          id?: string
          is_idempotent: boolean
          migration_reason: string
          new_context: Json
          original_context: Json
          original_queue: string
          original_region: string
          status?: string
          target_queue: string
          target_region: string
          task_id: string
          tenant_id?: string | null
        }
        Update: {
          completed_at?: string | null
          created_at?: string
          id?: string
          is_idempotent?: boolean
          migration_reason?: string
          new_context?: Json
          original_context?: Json
          original_queue?: string
          original_region?: string
          status?: string
          target_queue?: string
          target_region?: string
          task_id?: string
          tenant_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "task_migrations_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      task_propagation_logs: {
        Row: {
          created_at: string
          created_tasks: string[]
          execution_id: string
          id: number
          l4_item_id: string
          propagation_rules: Json | null
          source_l4_id: string | null
        }
        Insert: {
          created_at?: string
          created_tasks: string[]
          execution_id: string
          id?: number
          l4_item_id: string
          propagation_rules?: Json | null
          source_l4_id?: string | null
        }
        Update: {
          created_at?: string
          created_tasks?: string[]
          execution_id?: string
          id?: number
          l4_item_id?: string
          propagation_rules?: Json | null
          source_l4_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "task_propagation_logs_execution_id_fkey"
            columns: ["execution_id"]
            isOneToOne: false
            referencedRelation: "strategy_executions"
            referencedColumns: ["id"]
          },
        ]
      }
      tcpqel_engine_licenses: {
        Row: {
          created_at: string | null
          engine_name: string
          id: string
          licensed: boolean | null
          quota: Json | null
          tenant_id: string
        }
        Insert: {
          created_at?: string | null
          engine_name: string
          id?: string
          licensed?: boolean | null
          quota?: Json | null
          tenant_id: string
        }
        Update: {
          created_at?: string | null
          engine_name?: string
          id?: string
          licensed?: boolean | null
          quota?: Json | null
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "tcpqel_engine_licenses_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      tcpqel_plans: {
        Row: {
          created_at: string | null
          id: string
          included_engines: Json | null
          plan_name: string
          price_monthly: number
          usage_limits: Json | null
        }
        Insert: {
          created_at?: string | null
          id?: string
          included_engines?: Json | null
          plan_name: string
          price_monthly?: number
          usage_limits?: Json | null
        }
        Update: {
          created_at?: string | null
          id?: string
          included_engines?: Json | null
          plan_name?: string
          price_monthly?: number
          usage_limits?: Json | null
        }
        Relationships: []
      }
      tcpqel_tenant_plans: {
        Row: {
          active: boolean | null
          created_at: string | null
          id: string
          plan_id: string
          quota_usage: Json | null
          tenant_id: string
        }
        Insert: {
          active?: boolean | null
          created_at?: string | null
          id?: string
          plan_id: string
          quota_usage?: Json | null
          tenant_id: string
        }
        Update: {
          active?: boolean | null
          created_at?: string | null
          id?: string
          plan_id?: string
          quota_usage?: Json | null
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "tcpqel_tenant_plans_plan_fk"
            columns: ["plan_id"]
            isOneToOne: false
            referencedRelation: "tcpqel_plans"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tcpqel_tenant_plans_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      template_sanitisation_logs: {
        Row: {
          created_at: string | null
          detected_term: string
          id: string
          location: string
          org_id: string
          replacement: string
          template_name: string
        }
        Insert: {
          created_at?: string | null
          detected_term: string
          id?: string
          location: string
          org_id: string
          replacement: string
          template_name: string
        }
        Update: {
          created_at?: string | null
          detected_term?: string
          id?: string
          location?: string
          org_id?: string
          replacement?: string
          template_name?: string
        }
        Relationships: [
          {
            foreignKeyName: "template_sanitisation_logs_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      temporal_trend_snapshots: {
        Row: {
          confidence: number
          created_at: string
          cycle_patterns: Json
          id: string
          region_id: string | null
          scope: string
          seasonality_signals: Json
          tenant_id: string | null
          trend_vectors: Json
          uncertainty_notes: string | null
        }
        Insert: {
          confidence: number
          created_at?: string
          cycle_patterns?: Json
          id?: string
          region_id?: string | null
          scope: string
          seasonality_signals?: Json
          tenant_id?: string | null
          trend_vectors: Json
          uncertainty_notes?: string | null
        }
        Update: {
          confidence?: number
          created_at?: string
          cycle_patterns?: Json
          id?: string
          region_id?: string | null
          scope?: string
          seasonality_signals?: Json
          tenant_id?: string | null
          trend_vectors?: Json
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "temporal_trend_snapshots_region_id_fkey"
            columns: ["region_id"]
            isOneToOne: false
            referencedRelation: "regions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "temporal_trend_snapshots_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      tenant_benchmark_reports: {
        Row: {
          cohort_id: string
          comparison_notes: string | null
          confidence: number
          created_at: string
          id: string
          metric_type: string
          percentile_position: number | null
          tenant_id: string | null
          tenant_value: number
          uncertainty_notes: string | null
        }
        Insert: {
          cohort_id: string
          comparison_notes?: string | null
          confidence: number
          created_at?: string
          id?: string
          metric_type: string
          percentile_position?: number | null
          tenant_id?: string | null
          tenant_value: number
          uncertainty_notes?: string | null
        }
        Update: {
          cohort_id?: string
          comparison_notes?: string | null
          confidence?: number
          created_at?: string
          id?: string
          metric_type?: string
          percentile_position?: number | null
          tenant_id?: string | null
          tenant_value?: number
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "tenant_benchmark_reports_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      tenant_cohort_memberships: {
        Row: {
          cohort_id: string | null
          id: string
          joined_at: string
          tenant_hash: string
        }
        Insert: {
          cohort_id?: string | null
          id?: string
          joined_at?: string
          tenant_hash: string
        }
        Update: {
          cohort_id?: string | null
          id?: string
          joined_at?: string
          tenant_hash?: string
        }
        Relationships: [
          {
            foreignKeyName: "tenant_cohort_memberships_cohort_id_fkey"
            columns: ["cohort_id"]
            isOneToOne: false
            referencedRelation: "tenant_cohorts"
            referencedColumns: ["id"]
          },
        ]
      }
      tenant_cohorts: {
        Row: {
          clustering_criteria: Json
          cohort_label: string
          created_at: string
          description: string | null
          id: string
          is_active: boolean | null
          member_count: number
          min_members_required: number
          similarity_index: number | null
          updated_at: string
        }
        Insert: {
          clustering_criteria: Json
          cohort_label: string
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean | null
          member_count?: number
          min_members_required?: number
          similarity_index?: number | null
          updated_at?: string
        }
        Update: {
          clustering_criteria?: Json
          cohort_label?: string
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean | null
          member_count?: number
          min_members_required?: number
          similarity_index?: number | null
          updated_at?: string
        }
        Relationships: []
      }
      tenant_insight_packets: {
        Row: {
          benchmark_updates: Json | null
          confidence: number
          created_at: string
          id: string
          insights: Json
          pattern_suggestions: Json | null
          run_id: string | null
          tenant_id: string | null
          uncertainty_notes: string | null
          was_delivered: boolean | null
        }
        Insert: {
          benchmark_updates?: Json | null
          confidence: number
          created_at?: string
          id?: string
          insights?: Json
          pattern_suggestions?: Json | null
          run_id?: string | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
          was_delivered?: boolean | null
        }
        Update: {
          benchmark_updates?: Json | null
          confidence?: number
          created_at?: string
          id?: string
          insights?: Json
          pattern_suggestions?: Json | null
          run_id?: string | null
          tenant_id?: string | null
          uncertainty_notes?: string | null
          was_delivered?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "tenant_insight_packets_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "learning_loop_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tenant_insight_packets_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      test_fk: {
        Row: {
          id: string
          name: string
          workspace_id: string
        }
        Insert: {
          id?: string
          name: string
          workspace_id: string
        }
        Update: {
          id?: string
          name?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_test_workspace"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      test_table_simple: {
        Row: {
          id: string
          name: string
        }
        Insert: {
          id?: string
          name: string
        }
        Update: {
          id?: string
          name?: string
        }
        Relationships: []
      }
      test_table_with_fk: {
        Row: {
          id: string
          name: string
          workspace_id: string
        }
        Insert: {
          id?: string
          name: string
          workspace_id: string
        }
        Update: {
          id?: string
          name?: string
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "test_table_with_fk_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      thinking_cost_summary: {
        Row: {
          average_cost: number | null
          average_duration_ms: number | null
          created_at: string
          high_count: number | null
          id: string
          low_count: number | null
          max_operation_cost: number | null
          medium_count: number | null
          summary_date: string
          summary_period: string
          total_cache_tokens: number
          total_cost: number
          total_input_tokens: number
          total_operations: number
          total_output_tokens: number
          total_thinking_tokens: number
          updated_at: string
          very_high_count: number | null
          workspace_id: string
        }
        Insert: {
          average_cost?: number | null
          average_duration_ms?: number | null
          created_at?: string
          high_count?: number | null
          id?: string
          low_count?: number | null
          max_operation_cost?: number | null
          medium_count?: number | null
          summary_date: string
          summary_period: string
          total_cache_tokens?: number
          total_cost?: number
          total_input_tokens?: number
          total_operations?: number
          total_output_tokens?: number
          total_thinking_tokens?: number
          updated_at?: string
          very_high_count?: number | null
          workspace_id: string
        }
        Update: {
          average_cost?: number | null
          average_duration_ms?: number | null
          created_at?: string
          high_count?: number | null
          id?: string
          low_count?: number | null
          max_operation_cost?: number | null
          medium_count?: number | null
          summary_date?: string
          summary_period?: string
          total_cache_tokens?: number
          total_cost?: number
          total_input_tokens?: number
          total_operations?: number
          total_output_tokens?: number
          total_thinking_tokens?: number
          updated_at?: string
          very_high_count?: number | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "thinking_cost_summary_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      thinking_operation_feedback: {
        Row: {
          accuracy_score: number | null
          actionability_score: number | null
          completeness_score: number | null
          created_at: string
          feedback_text: string | null
          id: string
          operation_id: string
          user_id: string
          user_rating: number
          was_useful: boolean | null
        }
        Insert: {
          accuracy_score?: number | null
          actionability_score?: number | null
          completeness_score?: number | null
          created_at?: string
          feedback_text?: string | null
          id?: string
          operation_id: string
          user_id: string
          user_rating: number
          was_useful?: boolean | null
        }
        Update: {
          accuracy_score?: number | null
          actionability_score?: number | null
          completeness_score?: number | null
          created_at?: string
          feedback_text?: string | null
          id?: string
          operation_id?: string
          user_id?: string
          user_rating?: number
          was_useful?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "thinking_operation_feedback_operation_id_fkey"
            columns: ["operation_id"]
            isOneToOne: false
            referencedRelation: "extended_thinking_operations"
            referencedColumns: ["id"]
          },
        ]
      }
      thinking_prompts_used: {
        Row: {
          average_duration_ms: number | null
          average_output_tokens: number | null
          average_rating: number | null
          average_thinking_tokens: number | null
          complexity_level: string | null
          created_at: string
          first_used: string
          id: string
          last_used: string
          prompt_category: string | null
          prompt_name: string
          total_cost: number
          usage_count: number
          workspace_id: string
        }
        Insert: {
          average_duration_ms?: number | null
          average_output_tokens?: number | null
          average_rating?: number | null
          average_thinking_tokens?: number | null
          complexity_level?: string | null
          created_at?: string
          first_used?: string
          id?: string
          last_used?: string
          prompt_category?: string | null
          prompt_name: string
          total_cost?: number
          usage_count?: number
          workspace_id: string
        }
        Update: {
          average_duration_ms?: number | null
          average_output_tokens?: number | null
          average_rating?: number | null
          average_thinking_tokens?: number | null
          complexity_level?: string | null
          created_at?: string
          first_used?: string
          id?: string
          last_used?: string
          prompt_category?: string | null
          prompt_name?: string
          total_cost?: number
          usage_count?: number
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "thinking_prompts_used_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      threshold_adjustment_executions: {
        Row: {
          adjustment_id: string
          approved_by: string | null
          calibration_cycle_id: string
          constraint_reason: string | null
          created_at: string
          current_value: number
          executed_at: string
          final_value: number
          id: string
          parameter_name: string
          safety_constraint_active: boolean | null
          workspace_id: string
        }
        Insert: {
          adjustment_id: string
          approved_by?: string | null
          calibration_cycle_id: string
          constraint_reason?: string | null
          created_at?: string
          current_value: number
          executed_at?: string
          final_value: number
          id?: string
          parameter_name: string
          safety_constraint_active?: boolean | null
          workspace_id: string
        }
        Update: {
          adjustment_id?: string
          approved_by?: string | null
          calibration_cycle_id?: string
          constraint_reason?: string | null
          created_at?: string
          current_value?: number
          executed_at?: string
          final_value?: number
          id?: string
          parameter_name?: string
          safety_constraint_active?: boolean | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "threshold_adjustment_executions_calibration_cycle_id_fkey"
            columns: ["calibration_cycle_id"]
            isOneToOne: false
            referencedRelation: "autonomy_calibration_cycles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "threshold_adjustment_executions_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      threshold_adjustment_proposals: {
        Row: {
          adjustment_id: string
          calibration_cycle_id: string
          confidence_score: number | null
          created_at: string
          current_value: number
          delta_absolute: number | null
          delta_percentage: number | null
          id: string
          metrics_justification: string | null
          parameter_category: string
          parameter_name: string
          proposed_value: number
          rationale: string | null
          requires_approval: boolean | null
          workspace_id: string
        }
        Insert: {
          adjustment_id: string
          calibration_cycle_id: string
          confidence_score?: number | null
          created_at?: string
          current_value: number
          delta_absolute?: number | null
          delta_percentage?: number | null
          id?: string
          metrics_justification?: string | null
          parameter_category: string
          parameter_name: string
          proposed_value: number
          rationale?: string | null
          requires_approval?: boolean | null
          workspace_id: string
        }
        Update: {
          adjustment_id?: string
          calibration_cycle_id?: string
          confidence_score?: number | null
          created_at?: string
          current_value?: number
          delta_absolute?: number | null
          delta_percentage?: number | null
          id?: string
          metrics_justification?: string | null
          parameter_category?: string
          parameter_name?: string
          proposed_value?: number
          rationale?: string | null
          requires_approval?: boolean | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "threshold_adjustment_proposals_calibration_cycle_id_fkey"
            columns: ["calibration_cycle_id"]
            isOneToOne: false
            referencedRelation: "autonomy_calibration_cycles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "threshold_adjustment_proposals_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      tier_change_events: {
        Row: {
          approved_by: string | null
          created_at: string | null
          id: string
          new_tier: string
          old_tier: string
          org_id: string
          trigger: string
        }
        Insert: {
          approved_by?: string | null
          created_at?: string | null
          id?: string
          new_tier: string
          old_tier: string
          org_id: string
          trigger: string
        }
        Update: {
          approved_by?: string | null
          created_at?: string | null
          id?: string
          new_tier?: string
          old_tier?: string
          org_id?: string
          trigger?: string
        }
        Relationships: [
          {
            foreignKeyName: "tier_change_events_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      tier_recommendations: {
        Row: {
          confidence: number
          created_at: string | null
          current_tier: string
          id: string
          is_auto_generated: boolean
          is_seen: boolean
          org_id: string
          reason_code: string
          recommended_tier: string
        }
        Insert: {
          confidence?: number
          created_at?: string | null
          current_tier: string
          id?: string
          is_auto_generated?: boolean
          is_seen?: boolean
          org_id: string
          reason_code: string
          recommended_tier: string
        }
        Update: {
          confidence?: number
          created_at?: string | null
          current_tier?: string
          id?: string
          is_auto_generated?: boolean
          is_seen?: boolean
          org_id?: string
          reason_code?: string
          recommended_tier?: string
        }
        Relationships: [
          {
            foreignKeyName: "tier_recommendations_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      title_meta_tests: {
        Row: {
          completed_at: string | null
          created_at: string
          end_date: string | null
          founder_business_id: string | null
          id: string
          keyword: string
          start_date: string | null
          started_at: string | null
          statistical_confidence: number | null
          statistical_significance: number | null
          status: string
          updated_at: string
          url: string
          variant_a: Json | null
          variant_a_avg_position: number | null
          variant_a_clicks: number | null
          variant_a_ctr: number | null
          variant_a_impressions: number | null
          variant_a_meta: string
          variant_a_title: string
          variant_b: Json | null
          variant_b_avg_position: number | null
          variant_b_clicks: number | null
          variant_b_ctr: number | null
          variant_b_impressions: number | null
          variant_b_meta: string
          variant_b_title: string
          winner: string | null
          workspace_id: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string
          end_date?: string | null
          founder_business_id?: string | null
          id?: string
          keyword: string
          start_date?: string | null
          started_at?: string | null
          statistical_confidence?: number | null
          statistical_significance?: number | null
          status?: string
          updated_at?: string
          url: string
          variant_a?: Json | null
          variant_a_avg_position?: number | null
          variant_a_clicks?: number | null
          variant_a_ctr?: number | null
          variant_a_impressions?: number | null
          variant_a_meta: string
          variant_a_title: string
          variant_b?: Json | null
          variant_b_avg_position?: number | null
          variant_b_clicks?: number | null
          variant_b_ctr?: number | null
          variant_b_impressions?: number | null
          variant_b_meta: string
          variant_b_title: string
          winner?: string | null
          workspace_id: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string
          end_date?: string | null
          founder_business_id?: string | null
          id?: string
          keyword?: string
          start_date?: string | null
          started_at?: string | null
          statistical_confidence?: number | null
          statistical_significance?: number | null
          status?: string
          updated_at?: string
          url?: string
          variant_a?: Json | null
          variant_a_avg_position?: number | null
          variant_a_clicks?: number | null
          variant_a_ctr?: number | null
          variant_a_impressions?: number | null
          variant_a_meta?: string
          variant_a_title?: string
          variant_b?: Json | null
          variant_b_avg_position?: number | null
          variant_b_clicks?: number | null
          variant_b_ctr?: number | null
          variant_b_impressions?: number | null
          variant_b_meta?: string
          variant_b_title?: string
          winner?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "title_meta_tests_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      token_usage_events: {
        Row: {
          amount: number
          created_at: string | null
          event_type: string
          id: string
          metadata: Json | null
          org_id: string
          remaining: number
        }
        Insert: {
          amount: number
          created_at?: string | null
          event_type: string
          id?: string
          metadata?: Json | null
          org_id: string
          remaining: number
        }
        Update: {
          amount?: number
          created_at?: string | null
          event_type?: string
          id?: string
          metadata?: Json | null
          org_id?: string
          remaining?: number
        }
        Relationships: [
          {
            foreignKeyName: "token_usage_events_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      token_wallets: {
        Row: {
          auto_topup: boolean
          created_at: string | null
          id: string
          org_id: string
          renew_day: number
          text_budget_aud: number
          text_tokens: number
          tier: string
          topup_amount_aud: number | null
          updated_at: string | null
          voice_budget_aud: number
          voice_tokens: number
        }
        Insert: {
          auto_topup?: boolean
          created_at?: string | null
          id?: string
          org_id: string
          renew_day?: number
          text_budget_aud?: number
          text_tokens?: number
          tier?: string
          topup_amount_aud?: number | null
          updated_at?: string | null
          voice_budget_aud?: number
          voice_tokens?: number
        }
        Update: {
          auto_topup?: boolean
          created_at?: string | null
          id?: string
          org_id?: string
          renew_day?: number
          text_budget_aud?: number
          text_tokens?: number
          tier?: string
          topup_amount_aud?: number | null
          updated_at?: string | null
          voice_budget_aud?: number
          voice_tokens?: number
        }
        Relationships: [
          {
            foreignKeyName: "token_wallets_org_fk"
            columns: ["org_id"]
            isOneToOne: true
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      topics: {
        Row: {
          audience_segment: string | null
          client_id: string
          created_at: string | null
          id: string
          name: string
          pillar_id: string
          priority_level: number | null
          problem_statement: string | null
          slug: string
          status: string | null
          updated_at: string | null
          workspace_id: string
        }
        Insert: {
          audience_segment?: string | null
          client_id: string
          created_at?: string | null
          id?: string
          name: string
          pillar_id: string
          priority_level?: number | null
          problem_statement?: string | null
          slug: string
          status?: string | null
          updated_at?: string | null
          workspace_id: string
        }
        Update: {
          audience_segment?: string | null
          client_id?: string
          created_at?: string | null
          id?: string
          name?: string
          pillar_id?: string
          priority_level?: number | null
          problem_statement?: string | null
          slug?: string
          status?: string | null
          updated_at?: string | null
          workspace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "topics_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "client_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "topics_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      topup_queue: {
        Row: {
          amount_aud: number
          created_at: string | null
          error_message: string | null
          id: string
          org_id: string
          processed_at: string | null
          reason: string
          status: string
          stripe_payment_intent_id: string | null
        }
        Insert: {
          amount_aud: number
          created_at?: string | null
          error_message?: string | null
          id?: string
          org_id: string
          processed_at?: string | null
          reason: string
          status?: string
          stripe_payment_intent_id?: string | null
        }
        Update: {
          amount_aud?: number
          created_at?: string | null
          error_message?: string | null
          id?: string
          org_id?: string
          processed_at?: string | null
          reason?: string
          status?: string
          stripe_payment_intent_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "topup_queue_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      training_badges: {
        Row: {
          created_at: string | null
          criteria: Json
          description: string | null
          icon: string | null
          id: string
          is_active: boolean | null
          name: string
        }
        Insert: {
          created_at?: string | null
          criteria?: Json
          description?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean | null
          name: string
        }
        Update: {
          created_at?: string | null
          criteria?: Json
          description?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean | null
          name?: string
        }
        Relationships: []
      }
      training_insights: {
        Row: {
          audience_type: string
          capability_gap: string | null
          confidence: number
          created_at: string
          id: string
          priority: string
          recommended_modules: Json | null
          source_signals: Json
          status: string
          tenant_id: string | null
          topic: string
          uncertainty_notes: string | null
        }
        Insert: {
          audience_type: string
          capability_gap?: string | null
          confidence: number
          created_at?: string
          id?: string
          priority?: string
          recommended_modules?: Json | null
          source_signals?: Json
          status?: string
          tenant_id?: string | null
          topic: string
          uncertainty_notes?: string | null
        }
        Update: {
          audience_type?: string
          capability_gap?: string | null
          confidence?: number
          created_at?: string
          id?: string
          priority?: string
          recommended_modules?: Json | null
          source_signals?: Json
          status?: string
          tenant_id?: string | null
          topic?: string
          uncertainty_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "training_insights_tenant_id_fkey"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "agencies"
            referencedColumns: ["id"]
          },
        ]
      }
      training_lessons: {
        Row: {
          content: Json
          content_type: string
          created_at: string | null
          description: string | null
          duration_seconds: number | null
          id: string
          is_published: boolean | null
          module_id: string
          order_index: number
          title: string
          updated_at: string | null
          video_script: string | null
          voice_script: string | null
        }
        Insert: {
          content?: Json
          content_type: string
          created_at?: string | null
          description?: string | null
          duration_seconds?: number | null
          id?: string
          is_published?: boolean | null
          module_id: string
          order_index?: number
          title: string
          updated_at?: string | null
          video_script?: string | null
          voice_script?: string | null
        }
        Update: {
          content?: Json
          content_type?: string
          created_at?: string | null
          description?: string | null
          duration_seconds?: number | null
          id?: string
          is_published?: boolean | null
          module_id?: string
          order_index?: number
          title?: string
          updated_at?: string | null
          video_script?: string | null
          voice_script?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "training_lessons_module_id_fkey"
            columns: ["module_id"]
            isOneToOne: false
            referencedRelation: "training_modules"
            referencedColumns: ["id"]
          },
        ]
      }
      training_modules: {
        Row: {
          category: string
          created_at: string | null
          description: string | null
          difficulty: string
          estimated_minutes: number
          id: string
          is_published: boolean | null
          is_required: boolean | null
          learning_outcomes: Json | null
          order_index: number | null
          prerequisites: Json | null
          slug: string
          thumbnail_url: string | null
          title: string
          updated_at: string | null
        }
        Insert: {
          category: string
          created_at?: string | null
          description?: string | null
          difficulty?: string
          estimated_minutes?: number
          id?: string
          is_published?: boolean | null
          is_required?: boolean | null
          learning_outcomes?: Json | null
          order_index?: number | null
          prerequisites?: Json | null
          slug: string
          thumbnail_url?: string | null
          title: string
          updated_at?: string | null
        }
        Update: {
          category?: string
          created_at?: string | null
          description?: string | null
          difficulty?: string
          estimated_minutes?: number
          id?: string
          is_published?: boolean | null
          is_required?: boolean | null
          learning_outcomes?: Json | null
          order_index?: number | null
          prerequisites?: Json | null
          slug?: string
          thumbnail_url?: string | null
          title?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      training_progress: {
        Row: {
          completed_at: string | null
          created_at: string | null
          id: string
          lesson_id: string | null
          module_id: string
          notes: string | null
          organization_id: string
          progress_percent: number | null
          quiz_score: number | null
          status: string
          time_spent_seconds: number | null
          updated_at: string | null
          user_id: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string | null
          id?: string
          lesson_id?: string | null
          module_id: string
          notes?: string | null
          organization_id: string
          progress_percent?: number | null
          quiz_score?: number | null
          status?: string
          time_spent_seconds?: number | null
          updated_at?: string | null
          user_id: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string | null
          id?: string
          lesson_id?: string | null
          module_id?: string
          notes?: string | null
          organization_id?: string
          progress_percent?: number | null
          quiz_score?: number | null
          status?: string
          time_spent_seconds?: number | null
          updated_at?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "training_progress_lesson_id_fkey"
            columns: ["lesson_id"]
            isOneToOne: false
            referencedRelation: "training_lessons"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "training_progress_module_id_fkey"
            columns: ["module_id"]
            isOneToOne: false
            referencedRelation: "training_modules"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "training_progress_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      tuning_profiles: {
        Row: {
          agent: string
          auto_applied: boolean
          created_at: string | null
          decided_at: string | null
          founder_decision: string | null
          id: string
          param: string
          reason: string
          requires_founder_approval: boolean
          value: Json | null
        }
        Insert: {
          agent: string
          auto_applied?: boolean
          created_at?: string | null
          decided_at?: string | null
          founder_decision?: string | null
          id?: string
          param: string
          reason: string
          requires_founder_approval?: boolean
          value?: Json | null
        }
        Update: {
          agent?: string
          auto_applied?: boolean
          created_at?: string | null
          decided_at?: string | null
          founder_decision?: string | null
          id?: string
          param?: string
          reason?: string
          requires_founder_approval?: boolean
          value?: Json | null
        }
        Relationships: []
      }
      ucscel_contracts: {
        Row: {
          compliance_terms: Json | null
          contract_body: Json | null
          created_at: string | null
          effective_date: string
          id: string
          sla_terms: Json | null
          tenant_id: string
        }
        Insert: {
          compliance_terms?: Json | null
          contract_body?: Json | null
          created_at?: string | null
          effective_date: string
          id?: string
          sla_terms?: Json | null
          tenant_id: string
        }
        Update: {
          compliance_terms?: Json | null
          contract_body?: Json | null
          created_at?: string | null
          effective_date?: string
          id?: string
          sla_terms?: Json | null
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ucscel_contracts_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      ucscel_enforcement_log: {
        Row: {
          created_at: string | null
          details: Json | null
          event_type: string
          id: string
          tenant_id: string
        }
        Insert: {
          created_at?: string | null
          details?: Json | null
          event_type: string
          id?: string
          tenant_id: string
        }
        Update: {
          created_at?: string | null
          details?: Json | null
          event_type?: string
          id?: string
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ucscel_enforcement_log_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      ufc_module_access: {
        Row: {
          access_level: string
          created_at: string | null
          id: string
          module_name: string
          tenant_id: string
          user_id: string
        }
        Insert: {
          access_level?: string
          created_at?: string | null
          id?: string
          module_name: string
          tenant_id: string
          user_id: string
        }
        Update: {
          access_level?: string
          created_at?: string | null
          id?: string
          module_name?: string
          tenant_id?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ufc_module_access_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      ufc_user_preferences: {
        Row: {
          created_at: string | null
          default_tenant_id: string | null
          favorite_modules: Json | null
          id: string
          sidebar_collapsed: boolean | null
          theme: string | null
          updated_at: string | null
          user_id: string
        }
        Insert: {
          created_at?: string | null
          default_tenant_id?: string | null
          favorite_modules?: Json | null
          id?: string
          sidebar_collapsed?: boolean | null
          theme?: string | null
          updated_at?: string | null
          user_id: string
        }
        Update: {
          created_at?: string | null
          default_tenant_id?: string | null
          favorite_modules?: Json | null
          id?: string
          sidebar_collapsed?: boolean | null
          theme?: string | null
          updated_at?: string | null
          user_id?: string
        }
        Relationships: []
      }
      unified_agent_memory: {
        Row: {
          agent: string
          created_at: string | null
          expires_at: string | null
          id: string
          importance: number
          payload: Json
          scope: string
          tags: string[] | null
          topic: string
        }
        Insert: {
          agent: string
          created_at?: string | null
          expires_at?: string | null
          id?: string
          importance: number
          payload: Json
          scope: string
          tags?: string[] | null
          topic: string
        }
        Update: {
          agent?: string
          created_at?: string | null
          expires_at?: string | null
          id?: string
          importance?: number
          payload?: Json
          scope?: string
          tags?: string[] | null
          topic?: string
        }
        Relationships: []
      }
      unified_signal_matrix: {
        Row: {
          anomaly_score: number
          client_id: string | null
          completeness_score: number
          confidence_score: number
          created_at: string
          fatigue_score: number
          id: string
          scope: string
          signal_json: Json
          trend_shift_score: number
        }
        Insert: {
          anomaly_score: number
          client_id?: string | null
          completeness_score: number
          confidence_score: number
          created_at?: string
          fatigue_score: number
          id?: string
          scope: string
          signal_json?: Json
          trend_shift_score: number
        }
        Update: {
          anomaly_score?: number
          client_id?: string | null
          completeness_score?: number
          confidence_score?: number
          created_at?: string
          fatigue_score?: number
          id?: string
          scope?: string
          signal_json?: Json
          trend_shift_score?: number
        }
        Relationships: [
          {
            foreignKeyName: "unified_signal_matrix_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      upewe_forecast_events: {
        Row: {
          confidence: number
          created_at: string | null
          forecast_window: string
          id: string
          raw_features: Json | null
          recommended_action: string
          risk_type: string
          signal_source: string
          tenant_id: string
        }
        Insert: {
          confidence?: number
          created_at?: string | null
          forecast_window: string
          id?: string
          raw_features?: Json | null
          recommended_action?: string
          risk_type: string
          signal_source: string
          tenant_id: string
        }
        Update: {
          confidence?: number
          created_at?: string | null
          forecast_window?: string
          id?: string
          raw_features?: Json | null
          recommended_action?: string
          risk_type?: string
          signal_source?: string
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "upewe_forecast_events_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      upewe_policy_rules: {
        Row: {
          created_at: string | null
          enabled: boolean
          id: string
          recommended_action: string
          rule_name: string
          tenant_id: string
          trigger_conditions: Json | null
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          enabled?: boolean
          id?: string
          recommended_action?: string
          rule_name: string
          tenant_id: string
          trigger_conditions?: Json | null
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          enabled?: boolean
          id?: string
          recommended_action?: string
          rule_name?: string
          tenant_id?: string
          trigger_conditions?: Json | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "upewe_policy_rules_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      upewe_signal_cache: {
        Row: {
          id: string
          payload: Json | null
          received_at: string | null
          signal_type: string
          tenant_id: string
        }
        Insert: {
          id?: string
          payload?: Json | null
          received_at?: string | null
          signal_type: string
          tenant_id: string
        }
        Update: {
          id?: string
          payload?: Json | null
          received_at?: string | null
          signal_type?: string
          tenant_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "upewe_signal_cache_tenant_fk"
            columns: ["tenant_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      upsell_triggers: {
        Row: {
          accepted_at: string | null
          context: Json | null
          credit_pack_id: string | null
          dismissed_at: string | null
          id: string
          offer_type: string
          org_id: string
          recommended_tier: string | null
          shown_at: string | null
          trigger_type: string
        }
        Insert: {
          accepted_at?: string | null
          context?: Json | null
          credit_pack_id?: string | null
          dismissed_at?: string | null
          id?: string
          offer_type: string
          org_id: string
          recommended_tier?: string | null
          shown_at?: string | null
          trigger_type: string
        }
        Update: {
          accepted_at?: string | null
          context?: Json | null
          credit_pack_id?: string | null
          dismissed_at?: string | null
          id?: string
          offer_type?: string
          org_id?: string
          recommended_tier?: string | null
          shown_at?: string | null
          trigger_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "upsell_triggers_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "upsell_triggers_pack_fk"
            columns: ["credit_pack_id"]
            isOneToOne: false
            referencedRelation: "credit_packs"
            referencedColumns: ["id"]
          },
        ]
      }
      uptime_checks: {
        Row: {
          actual_status: number | null
          created_at: string | null
          endpoint: string
          error_message: string | null
          expected_status: number | null
          id: string
          is_up: boolean | null
          metadata: Json | null
          method: string
          response_time_ms: number | null
        }
        Insert: {
          actual_status?: number | null
          created_at?: string | null
          endpoint: string
          error_message?: string | null
          expected_status?: number | null
          id?: string
          is_up?: boolean | null
          metadata?: Json | null
          method?: string
          response_time_ms?: number | null
        }
        Update: {
          actual_status?: number | null
          created_at?: string | null
          endpoint?: string
          error_message?: string | null
          expected_status?: number | null
          id?: string
          is_up?: boolean | null
          metadata?: Json | null
          method?: string
          response_time_ms?: number | null
        }
        Relationships: []
      }
      usage_lockouts: {
        Row: {
          id: string
          locked_at: string | null
          lockout_type: string
          metadata: Json | null
          org_id: string
          reason: string
          unlocked_at: string | null
          unlocked_by: string | null
        }
        Insert: {
          id?: string
          locked_at?: string | null
          lockout_type: string
          metadata?: Json | null
          org_id: string
          reason: string
          unlocked_at?: string | null
          unlocked_by?: string | null
        }
        Update: {
          id?: string
          locked_at?: string | null
          lockout_type?: string
          metadata?: Json | null
          org_id?: string
          reason?: string
          unlocked_at?: string | null
          unlocked_by?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "usage_lockouts_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      usage_rollups: {
        Row: {
          ai_request_count: number | null
          api_call_count: number | null
          campaign_count: number | null
          contact_count: number | null
          created_at: string | null
          email_count: number | null
          id: string
          metadata: Json | null
          org_id: string
          overage_cost: number | null
          period_end: string
          period_start: string
          period_type: string
          report_count: number | null
          storage_bytes: number | null
          total_cost: number | null
          workspace_id: string | null
        }
        Insert: {
          ai_request_count?: number | null
          api_call_count?: number | null
          campaign_count?: number | null
          contact_count?: number | null
          created_at?: string | null
          email_count?: number | null
          id?: string
          metadata?: Json | null
          org_id: string
          overage_cost?: number | null
          period_end: string
          period_start: string
          period_type: string
          report_count?: number | null
          storage_bytes?: number | null
          total_cost?: number | null
          workspace_id?: string | null
        }
        Update: {
          ai_request_count?: number | null
          api_call_count?: number | null
          campaign_count?: number | null
          contact_count?: number | null
          created_at?: string | null
          email_count?: number | null
          id?: string
          metadata?: Json | null
          org_id?: string
          overage_cost?: number | null
          period_end?: string
          period_start?: string
          period_type?: string
          report_count?: number | null
          storage_bytes?: number | null
          total_cost?: number | null
          workspace_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "usage_rollups_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "usage_rollups_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      usage_warnings: {
        Row: {
          acknowledged_at: string | null
          acknowledged_by: string | null
          created_at: string | null
          id: string
          message: string
          org_id: string
          threshold_percent: number
          warning_type: string
        }
        Insert: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          created_at?: string | null
          id?: string
          message: string
          org_id: string
          threshold_percent: number
          warning_type: string
        }
        Update: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          created_at?: string | null
          id?: string
          message?: string
          org_id?: string
          threshold_percent?: number
          warning_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "usage_warnings_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      user_badges: {
        Row: {
          badge_id: string
          earned_at: string | null
          id: string
          metadata: Json | null
          user_id: string
        }
        Insert: {
          badge_id: string
          earned_at?: string | null
          id?: string
          metadata?: Json | null
          user_id: string
        }
        Update: {
          badge_id?: string
          earned_at?: string | null
          id?: string
          metadata?: Json | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "user_badges_badge_id_fkey"
            columns: ["badge_id"]
            isOneToOne: false
            referencedRelation: "training_badges"
            referencedColumns: ["id"]
          },
        ]
      }
      user_language_settings: {
        Row: {
          content_language: string
          created_at: string | null
          id: string
          org_id: string
          preferred_voice_id: string | null
          ui_language: string
          updated_at: string | null
          user_id: string
          voice_language: string
        }
        Insert: {
          content_language?: string
          created_at?: string | null
          id?: string
          org_id: string
          preferred_voice_id?: string | null
          ui_language?: string
          updated_at?: string | null
          user_id: string
          voice_language?: string
        }
        Update: {
          content_language?: string
          created_at?: string | null
          id?: string
          org_id?: string
          preferred_voice_id?: string | null
          ui_language?: string
          updated_at?: string | null
          user_id?: string
          voice_language?: string
        }
        Relationships: [
          {
            foreignKeyName: "user_language_settings_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      user_onboarding: {
        Row: {
          completed_gmail_integration: boolean | null
          completed_profile: boolean | null
          completed_workspace_setup: boolean | null
          created_at: string
          id: string
          onboarding_completed: boolean | null
          org_id: string
          updated_at: string
          user_id: string
        }
        Insert: {
          completed_gmail_integration?: boolean | null
          completed_profile?: boolean | null
          completed_workspace_setup?: boolean | null
          created_at?: string
          id?: string
          onboarding_completed?: boolean | null
          org_id: string
          updated_at?: string
          user_id: string
        }
        Update: {
          completed_gmail_integration?: boolean | null
          completed_profile?: boolean | null
          completed_workspace_setup?: boolean | null
          created_at?: string
          id?: string
          onboarding_completed?: boolean | null
          org_id?: string
          updated_at?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "user_onboarding_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      user_organizations: {
        Row: {
          created_at: string | null
          id: string
          is_active: boolean
          joined_at: string | null
          org_id: string
          role: string
          updated_at: string | null
          user_id: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          is_active?: boolean
          joined_at?: string | null
          org_id: string
          role?: string
          updated_at?: string | null
          user_id: string
        }
        Update: {
          created_at?: string | null
          id?: string
          is_active?: boolean
          joined_at?: string | null
          org_id?: string
          role?: string
          updated_at?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "user_organizations_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      user_profiles: {
        Row: {
          avatar_url: string | null
          bio: string | null
          business_name: string | null
          created_at: string | null
          email: string
          full_name: string
          id: string
          notification_preferences: Json | null
          phone: string | null
          timezone: string | null
          updated_at: string | null
          username: string | null
          website: string | null
        }
        Insert: {
          avatar_url?: string | null
          bio?: string | null
          business_name?: string | null
          created_at?: string | null
          email: string
          full_name: string
          id: string
          notification_preferences?: Json | null
          phone?: string | null
          timezone?: string | null
          updated_at?: string | null
          username?: string | null
          website?: string | null
        }
        Update: {
          avatar_url?: string | null
          bio?: string | null
          business_name?: string | null
          created_at?: string | null
          email?: string
          full_name?: string
          id?: string
          notification_preferences?: Json | null
          phone?: string | null
          timezone?: string | null
          updated_at?: string | null
          username?: string | null
          website?: string | null
        }
        Relationships: []
      }
      visual_asset_variants: {
        Row: {
          asset_url: string | null
          created_at: string | null
          id: string
          metadata: Json | null
          model_used: string
          variant_label: string | null
          visual_asset_id: string
        }
        Insert: {
          asset_url?: string | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          model_used: string
          variant_label?: string | null
          visual_asset_id: string
        }
        Update: {
          asset_url?: string | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          model_used?: string
          variant_label?: string | null
          visual_asset_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "visual_asset_variants_visual_asset_id_fkey"
            columns: ["visual_asset_id"]
            isOneToOne: false
            referencedRelation: "visual_assets"
            referencedColumns: ["id"]
          },
        ]
      }
      visual_assets: {
        Row: {
          asset_url: string | null
          client_id: string
          context: string
          created_at: string | null
          description: string | null
          id: string
          label: string | null
          metadata: Json | null
          model_used: string
          status: string | null
          thumbnail_url: string | null
          type: string
          updated_at: string | null
        }
        Insert: {
          asset_url?: string | null
          client_id: string
          context: string
          created_at?: string | null
          description?: string | null
          id?: string
          label?: string | null
          metadata?: Json | null
          model_used: string
          status?: string | null
          thumbnail_url?: string | null
          type: string
          updated_at?: string | null
        }
        Update: {
          asset_url?: string | null
          client_id?: string
          context?: string
          created_at?: string | null
          description?: string | null
          id?: string
          label?: string | null
          metadata?: Json | null
          model_used?: string
          status?: string | null
          thumbnail_url?: string | null
          type?: string
          updated_at?: string | null
        }
        Relationships: []
      }
      visual_context_events: {
        Row: {
          analysis_timestamp: string | null
          analyzed: boolean
          created_at: string
          detected_objects: Json
          environment_type: string
          event_id: string
          expires_at: string | null
          extracted_text: Json
          glasses_model: string
          id: string
          overall_confidence: number
          owner_id: string
          safety_markers: Json
          scene_hash: string
          scene_summary: string
          semantic_tags: string[]
          time_of_day: string
          timestamp: string
          workspace_id: string
        }
        Insert: {
          analysis_timestamp?: string | null
          analyzed?: boolean
          created_at?: string
          detected_objects?: Json
          environment_type: string
          event_id: string
          expires_at?: string | null
          extracted_text?: Json
          glasses_model: string
          id?: string
          overall_confidence?: number
          owner_id: string
          safety_markers?: Json
          scene_hash: string
          scene_summary: string
          semantic_tags?: string[]
          time_of_day: string
          timestamp?: string
          workspace_id: string
        }
        Update: {
          analysis_timestamp?: string | null
          analyzed?: boolean
          created_at?: string
          detected_objects?: Json
          environment_type?: string
          event_id?: string
          expires_at?: string | null
          extracted_text?: Json
          glasses_model?: string
          id?: string
          overall_confidence?: number
          owner_id?: string
          safety_markers?: Json
          scene_hash?: string
          scene_summary?: string
          semantic_tags?: string[]
          time_of_day?: string
          timestamp?: string
          workspace_id?: string
        }
        Relationships: []
      }
      visual_demo_entries: {
        Row: {
          category: string
          config: Json
          created_at: string
          description: string | null
          id: string
          persona: string | null
          slug: string
          title: string
          updated_at: string
          workspace_id: string | null
        }
        Insert: {
          category: string
          config?: Json
          created_at?: string
          description?: string | null
          id?: string
          persona?: string | null
          slug: string
          title: string
          updated_at?: string
          workspace_id?: string | null
        }
        Update: {
          category?: string
          config?: Json
          created_at?: string
          description?: string | null
          id?: string
          persona?: string | null
          slug?: string
          title?: string
          updated_at?: string
          workspace_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "visual_demo_entries_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      voice_command_audit: {
        Row: {
          action_name: string
          created_at: string | null
          id: string
          result_status: string
          session_id: string
          token_cost_estimate: number | null
        }
        Insert: {
          action_name: string
          created_at?: string | null
          id?: string
          result_status: string
          session_id: string
          token_cost_estimate?: number | null
        }
        Update: {
          action_name?: string
          created_at?: string | null
          id?: string
          result_status?: string
          session_id?: string
          token_cost_estimate?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "voice_command_audit_session_fk"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "voice_command_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      voice_command_sessions: {
        Row: {
          created_at: string | null
          id: string
          language_code: string
          orchestrator_run_id: string | null
          org_id: string
          parsed_intent: Json | null
          status: string
          transcript: string | null
          user_id: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          language_code?: string
          orchestrator_run_id?: string | null
          org_id: string
          parsed_intent?: Json | null
          status?: string
          transcript?: string | null
          user_id: string
        }
        Update: {
          created_at?: string | null
          id?: string
          language_code?: string
          orchestrator_run_id?: string | null
          org_id?: string
          parsed_intent?: Json | null
          status?: string
          transcript?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "voice_command_sessions_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      voice_logs: {
        Row: {
          audio_path: string
          created_at: string | null
          created_by_agent: string | null
          duration_seconds: number | null
          id: string
          language: string
          org_id: string
          text_hash: string
          use_case: string
          user_id: string | null
          voice_id: string
        }
        Insert: {
          audio_path: string
          created_at?: string | null
          created_by_agent?: string | null
          duration_seconds?: number | null
          id?: string
          language: string
          org_id: string
          text_hash: string
          use_case: string
          user_id?: string | null
          voice_id: string
        }
        Update: {
          audio_path?: string
          created_at?: string | null
          created_by_agent?: string | null
          duration_seconds?: number | null
          id?: string
          language?: string
          org_id?: string
          text_hash?: string
          use_case?: string
          user_id?: string | null
          voice_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "voice_logs_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      voice_navigation_events: {
        Row: {
          command_text: string
          created_at: string | null
          error_message: string | null
          id: string
          processing_time_ms: number | null
          recognized_intent: string | null
          success: boolean | null
          target_route: string | null
          user_id: string
          user_role: string
        }
        Insert: {
          command_text: string
          created_at?: string | null
          error_message?: string | null
          id?: string
          processing_time_ms?: number | null
          recognized_intent?: string | null
          success?: boolean | null
          target_route?: string | null
          user_id: string
          user_role: string
        }
        Update: {
          command_text?: string
          created_at?: string | null
          error_message?: string | null
          id?: string
          processing_time_ms?: number | null
          recognized_intent?: string | null
          success?: boolean | null
          target_route?: string | null
          user_id?: string
          user_role?: string
        }
        Relationships: []
      }
      voice_profiles: {
        Row: {
          accent: string | null
          auto_adjust_based_on_budget: boolean
          cost_modifier: number
          created_at: string | null
          id: string
          language_code: string
          org_id: string
          region: string | null
          speed: number
          tone: string
          tts_voice_id: string
          updated_at: string | null
        }
        Insert: {
          accent?: string | null
          auto_adjust_based_on_budget?: boolean
          cost_modifier?: number
          created_at?: string | null
          id?: string
          language_code?: string
          org_id: string
          region?: string | null
          speed?: number
          tone?: string
          tts_voice_id: string
          updated_at?: string | null
        }
        Update: {
          accent?: string | null
          auto_adjust_based_on_budget?: boolean
          cost_modifier?: number
          created_at?: string | null
          id?: string
          language_code?: string
          org_id?: string
          region?: string | null
          speed?: number
          tone?: string
          tts_voice_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "voice_profiles_org_fk"
            columns: ["org_id"]
            isOneToOne: true
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      webhook_events: {
        Row: {
          created_at: string | null
          error_message: string | null
          event_type: string
          id: number
          processed_at: string | null
          raw_event: Json | null
          status: string
          stripe_event_id: string
        }
        Insert: {
          created_at?: string | null
          error_message?: string | null
          event_type: string
          id?: number
          processed_at?: string | null
          raw_event?: Json | null
          status: string
          stripe_event_id: string
        }
        Update: {
          created_at?: string | null
          error_message?: string | null
          event_type?: string
          id?: number
          processed_at?: string | null
          raw_event?: Json | null
          status?: string
          stripe_event_id?: string
        }
        Relationships: []
      }
      workflow_executions: {
        Row: {
          approval_status: string
          brand_id: string
          completed_at: string | null
          created_at: string | null
          description: string | null
          duration_ms: number | null
          estimated_remaining_ms: number | null
          founder_decision: string | null
          id: string
          insights: Json | null
          objective: string
          progress_percent: number
          recommendations: Json | null
          requires_founder_review: boolean
          results: Json | null
          risk_level: string
          risk_score: number
          started_at: string | null
          status: string
          task_count: number
          tasks: Json
        }
        Insert: {
          approval_status?: string
          brand_id: string
          completed_at?: string | null
          created_at?: string | null
          description?: string | null
          duration_ms?: number | null
          estimated_remaining_ms?: number | null
          founder_decision?: string | null
          id?: string
          insights?: Json | null
          objective: string
          progress_percent?: number
          recommendations?: Json | null
          requires_founder_review?: boolean
          results?: Json | null
          risk_level?: string
          risk_score?: number
          started_at?: string | null
          status?: string
          task_count: number
          tasks: Json
        }
        Update: {
          approval_status?: string
          brand_id?: string
          completed_at?: string | null
          created_at?: string | null
          description?: string | null
          duration_ms?: number | null
          estimated_remaining_ms?: number | null
          founder_decision?: string | null
          id?: string
          insights?: Json | null
          objective?: string
          progress_percent?: number
          recommendations?: Json | null
          requires_founder_review?: boolean
          results?: Json | null
          risk_level?: string
          risk_score?: number
          started_at?: string | null
          status?: string
          task_count?: number
          tasks?: Json
        }
        Relationships: [
          {
            foreignKeyName: "valid_brand"
            columns: ["brand_id"]
            isOneToOne: false
            referencedRelation: "brand_metadata"
            referencedColumns: ["brand_id"]
          },
        ]
      }
      workflow_executions_v2: {
        Row: {
          agents: Json
          completed_at: string | null
          created_at: string | null
          estimated_duration: number | null
          failure_reason: string | null
          id: string
          objective: string
          outcome: Json | null
          play_id: string | null
          priority: string
          status: string
          workflow_template: string
        }
        Insert: {
          agents: Json
          completed_at?: string | null
          created_at?: string | null
          estimated_duration?: number | null
          failure_reason?: string | null
          id?: string
          objective: string
          outcome?: Json | null
          play_id?: string | null
          priority: string
          status?: string
          workflow_template: string
        }
        Update: {
          agents?: Json
          completed_at?: string | null
          created_at?: string | null
          estimated_duration?: number | null
          failure_reason?: string | null
          id?: string
          objective?: string
          outcome?: Json | null
          play_id?: string | null
          priority?: string
          status?: string
          workflow_template?: string
        }
        Relationships: []
      }
      workflow_failures: {
        Row: {
          context: Json | null
          detected_at: string | null
          failure_reason: string
          id: string
          org_id: string
          resolved: boolean
          workflow_name: string
        }
        Insert: {
          context?: Json | null
          detected_at?: string | null
          failure_reason: string
          id?: string
          org_id: string
          resolved?: boolean
          workflow_name: string
        }
        Update: {
          context?: Json | null
          detected_at?: string | null
          failure_reason?: string
          id?: string
          org_id?: string
          resolved?: boolean
          workflow_name?: string
        }
        Relationships: [
          {
            foreignKeyName: "workflow_failures_org_fk"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      workflow_heal_attempts: {
        Row: {
          attempted_at: string | null
          details: Json | null
          failure_id: string
          id: string
          result: string
          strategy: string
        }
        Insert: {
          attempted_at?: string | null
          details?: Json | null
          failure_id: string
          id?: string
          result: string
          strategy: string
        }
        Update: {
          attempted_at?: string | null
          details?: Json | null
          failure_id?: string
          id?: string
          result?: string
          strategy?: string
        }
        Relationships: [
          {
            foreignKeyName: "workflow_heal_attempts_failure_fk"
            columns: ["failure_id"]
            isOneToOne: false
            referencedRelation: "workflow_failures"
            referencedColumns: ["id"]
          },
        ]
      }
      workflow_metrics: {
        Row: {
          avg_task_duration_ms: number | null
          created_at: string | null
          critical_path_duration_ms: number
          efficiency_score: number | null
          id: string
          parallelization_factor: number | null
          success_rate: number | null
          tasks_completed: number
          tasks_failed: number
          tasks_retried: number | null
          total_duration_ms: number
          workflow_id: string
        }
        Insert: {
          avg_task_duration_ms?: number | null
          created_at?: string | null
          critical_path_duration_ms: number
          efficiency_score?: number | null
          id?: string
          parallelization_factor?: number | null
          success_rate?: number | null
          tasks_completed: number
          tasks_failed: number
          tasks_retried?: number | null
          total_duration_ms: number
          workflow_id: string
        }
        Update: {
          avg_task_duration_ms?: number | null
          created_at?: string | null
          critical_path_duration_ms?: number
          efficiency_score?: number | null
          id?: string
          parallelization_factor?: number | null
          success_rate?: number | null
          tasks_completed?: number
          tasks_failed?: number
          tasks_retried?: number | null
          total_duration_ms?: number
          workflow_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "workflow_metrics_workflow_id_fkey"
            columns: ["workflow_id"]
            isOneToOne: false
            referencedRelation: "workflow_executions"
            referencedColumns: ["id"]
          },
        ]
      }
      workflow_templates: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          last_used: string | null
          pattern: string
          task_template: Json
          template_name: string
          usage_count: number | null
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          last_used?: string | null
          pattern: string
          task_template: Json
          template_name: string
          usage_count?: number | null
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          last_used?: string | null
          pattern?: string
          task_template?: Json
          template_name?: string
          usage_count?: number | null
        }
        Relationships: []
      }
      workspaces: {
        Row: {
          created_at: string | null
          current_tier: string | null
          id: string
          name: string
          org_id: string
          status: string | null
          stripe_customer_id: string | null
          stripe_subscription_id: string | null
          subscription_status: string | null
          trial_ends_at: string | null
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          current_tier?: string | null
          id?: string
          name: string
          org_id: string
          status?: string | null
          stripe_customer_id?: string | null
          stripe_subscription_id?: string | null
          subscription_status?: string | null
          trial_ends_at?: string | null
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          current_tier?: string | null
          id?: string
          name?: string
          org_id?: string
          status?: string | null
          stripe_customer_id?: string | null
          stripe_subscription_id?: string | null
          subscription_status?: string | null
          trial_ends_at?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "workspaces_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      xero_tokens: {
        Row: {
          access_token: string
          account_label: string | null
          created_at: string | null
          expires_at: number
          id: string
          id_token: string | null
          is_primary: boolean | null
          organization_id: string
          refresh_token: string
          scope: string | null
          tenant_id: string | null
          tenant_name: string | null
          updated_at: string | null
        }
        Insert: {
          access_token: string
          account_label?: string | null
          created_at?: string | null
          expires_at: number
          id?: string
          id_token?: string | null
          is_primary?: boolean | null
          organization_id: string
          refresh_token: string
          scope?: string | null
          tenant_id?: string | null
          tenant_name?: string | null
          updated_at?: string | null
        }
        Update: {
          access_token?: string
          account_label?: string | null
          created_at?: string | null
          expires_at?: number
          id?: string
          id_token?: string | null
          is_primary?: boolean | null
          organization_id?: string
          refresh_token?: string
          scope?: string | null
          tenant_id?: string | null
          tenant_name?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "xero_tokens_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
    }
    Views: {
      ai_daily_summary: {
        Row: {
          avg_cost_per_request: number | null
          avg_latency_ms: number | null
          date: string | null
          failed_requests: number | null
          max_latency_ms: number | null
          min_latency_ms: number | null
          provider: string | null
          successful_requests: number | null
          total_cached_tokens: number | null
          total_cost_usd: number | null
          total_input_tokens: number | null
          total_output_tokens: number | null
          total_requests: number | null
          total_thinking_tokens: number | null
          workspace_id: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_usage_logs_workspace_id_fkey"
            columns: ["workspace_id"]
            isOneToOne: false
            referencedRelation: "workspaces"
            referencedColumns: ["id"]
          },
        ]
      }
      client_profitability: {
        Row: {
          client_company: string | null
          client_email: string | null
          client_id: string | null
          client_name: string | null
          invoice_date: string | null
          monthly_costs: number | null
          monthly_profit: number | null
          monthly_revenue: number | null
          profit_margin_percentage: number | null
          tier: string | null
          total_api_calls: number | null
        }
        Relationships: [
          {
            foreignKeyName: "client_invoices_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      client_profitability_mv: {
        Row: {
          client_company: string | null
          client_email: string | null
          client_id: string | null
          client_name: string | null
          invoice_date: string | null
          monthly_costs: number | null
          monthly_profit: number | null
          monthly_revenue: number | null
          profit_margin_percentage: number | null
          tier: string | null
          total_api_calls: number | null
        }
        Relationships: [
          {
            foreignKeyName: "client_invoices_client_id_fkey"
            columns: ["client_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      rate_limit_analytics: {
        Row: {
          allowed_count: number | null
          blocked_count: number | null
          date: string | null
          endpoint: string | null
          tier: string | null
          total_requests: number | null
          unique_clients: number | null
        }
        Relationships: []
      }
      xero_accounts_summary: {
        Row: {
          account_label: string | null
          created_at: string | null
          expires_at: number | null
          is_primary: boolean | null
          organization_id: string | null
          tenant_id: string | null
          total_cost: number | null
          total_expenses: number | null
          total_invoices: number | null
          total_revenue: number | null
          updated_at: string | null
          xero_org_name: string | null
        }
        Relationships: [
          {
            foreignKeyName: "xero_tokens_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
    }
    Functions: {
      add_correction_graph_node: {
        Args: {
          p_confidence?: number
          p_cycle_id: string
          p_link_type?: string
          p_node_type: string
          p_notes?: string
          p_related_agent?: string
          p_related_memory_id?: string
          p_related_task_id?: string
          p_severity: number
        }
        Returns: string
      }
      add_memory_signal: {
        Args: {
          p_memory_id: string
          p_signal_type: string
          p_signal_value: number
          p_source_agent: string
          p_workspace_id: string
        }
        Returns: string
      }
      add_orchestrator_signal: {
        Args: {
          p_message: string
          p_severity: number
          p_signal_type: string
          p_task_id: string
        }
        Returns: string
      }
      aggregate_region_intelligence: {
        Args: { p_region_id: string }
        Returns: Json
      }
      aggregate_tenant_intelligence: {
        Args: { p_tenant_id: string }
        Returns: Json
      }
      approve_admin_access: {
        Args: { approval_id: string; approver_id: string }
        Returns: boolean
      }
      archive_safety_action: {
        Args: {
          p_action: string
          p_affected_agents?: string[]
          p_metadata?: Json
          p_risk_after: number
          p_risk_before: number
          p_trigger_event: string
          p_uncertainty_after?: number
          p_uncertainty_before?: number
          p_workspace_id: string
        }
        Returns: string
      }
      calculate_action_risk: {
        Args: {
          p_action_type: string
          p_client_score?: number
          p_payload: Json
        }
        Returns: {
          risk_factors: Json
          risk_level: string
          risk_score: number
        }[]
      }
      calculate_agent_risk: { Args: { p_plan: Json }; Returns: number }
      calculate_channel_health: {
        Args: {
          p_engagement: number
          p_fatigue: number
          p_momentum: number
          p_visibility: number
        }
        Returns: number
      }
      calculate_cultural_distance: {
        Args: { source_region: string; target_region: string }
        Returns: number
      }
      calculate_daily_seo_summary: {
        Args: { target_date: string }
        Returns: Json
      }
      calculate_domain_health: {
        Args: {
          p_business_id?: string
          p_domain: string
          p_owner_user_id: string
        }
        Returns: number
      }
      calculate_expected_ctr: {
        Args: { serp_position: number }
        Returns: number
      }
      calculate_overall_improvement: {
        Args: { p_lookback_days?: number; p_workspace_id: string }
        Returns: {
          avg_confidence: number
          avg_improvement: number
          total_calibrations: number
        }[]
      }
      calculate_pre_client_score: {
        Args: { p_pre_client_id: string }
        Returns: number
      }
      calculate_scaling_health: {
        Args: {
          p_ai_cost_pressure: number
          p_churn_risk: number
          p_infra_health: number
          p_warning_density: number
        }
        Returns: number
      }
      calculate_seo_score: {
        Args: {
          content: number
          mobile: number
          performance: number
          technical: number
        }
        Returns: number
      }
      can_scale_up: {
        Args: {
          p_current_health: number
          p_current_utilisation: number
          p_environment: string
        }
        Returns: boolean
      }
      check_ai_budget: {
        Args: { p_period?: string; p_workspace_id: string }
        Returns: Json
      }
      check_and_decrement_budget: {
        Args: {
          p_agency_id?: string
          p_amount: number
          p_job_type?: string
          p_region_id: string
        }
        Returns: boolean
      }
      check_connection_pool_status: {
        Args: never
        Returns: {
          current_connections: number
          max_connections: number
          pool_active: boolean
        }[]
      }
      check_system_health: { Args: never; Returns: Json }
      check_tier_limit: {
        Args: { p_agency_id: string; p_limit_type: string }
        Returns: boolean
      }
      cleanup_expired_notifications: { Args: never; Returns: number }
      cleanup_monitoring_logs: { Args: never; Returns: number }
      cleanup_old_observability_logs: {
        Args: { days_to_keep?: number }
        Returns: number
      }
      cleanup_rate_limit_logs: {
        Args: { days_to_keep?: number }
        Returns: number
      }
      complete_managed_task: {
        Args: { p_notes: string; p_output_data: Json; p_task_id: string }
        Returns: undefined
      }
      complete_posting_attempt: {
        Args: {
          p_attempt_id: string
          p_error_message?: string
          p_platform_response?: Json
          p_status: string
        }
        Returns: {
          approved_by: string | null
          attempted_at: string
          channel: string
          client_id: string
          completed_at: string | null
          confidence_score: number | null
          created_at: string
          error_code: string | null
          error_message: string | null
          execution_payload: Json | null
          id: string
          platform_post_id: string | null
          platform_response: Json | null
          retry_count: number
          safety_checks: Json
          schedule_id: string
          status: string
          triggered_by: string
          truth_compliant: boolean
          truth_notes: string | null
          workspace_id: string
        }
        SetofOptions: {
          from: "*"
          to: "posting_attempts"
          isOneToOne: true
          isSetofReturn: false
        }
      }
      compute_region_pressure: {
        Args: { p_region_id: string }
        Returns: number
      }
      convex_get_workspace_stats: {
        Args: { p_workspace_id: string }
        Returns: {
          active_strategies: number
          avg_seo_score: number
          avg_strategy_score: number
          top_framework_id: string
          top_framework_usage: number
          total_seo_analyses: number
          total_strategies: number
        }[]
      }
      convex_increment_framework_usage: {
        Args: {
          p_framework_category: string
          p_framework_id: string
          p_score?: number
          p_workspace_id: string
        }
        Returns: undefined
      }
      create_agent_plan: {
        Args: {
          p_agent_name: string
          p_complexity_score?: number
          p_confidence_score?: number
          p_objective: string
          p_plan: Json
          p_reasoning_trace?: Json
          p_workspace_id: string
        }
        Returns: string
      }
      create_agent_session: {
        Args: {
          p_agent_version: string
          p_user_id: string
          p_workspace_id: string
        }
        Returns: string
      }
      create_calibration_cycle: {
        Args: {
          p_analysis_end_time: string
          p_analysis_start_time: string
          p_change_rationale?: string
          p_metrics_analyzed?: Json
          p_proposed_changes?: Json
          p_requires_approval?: boolean
          p_workspace_id: string
        }
        Returns: string
      }
      create_correction_cycle: {
        Args: {
          p_cycle_type: string
          p_description?: string
          p_user_id?: string
          p_workspace_id: string
        }
        Returns: string
      }
      create_global_autonomy_run: {
        Args: {
          p_description?: string
          p_objective: string
          p_user_id?: string
          p_workspace_id: string
        }
        Returns: string
      }
      create_orchestrator_task: {
        Args: {
          p_agent_chain?: string[]
          p_description?: string
          p_objective: string
          p_workspace_id: string
        }
        Returns: string
      }
      create_safety_event: {
        Args: {
          p_details?: Json
          p_event_type: string
          p_risk_level: number
          p_severity: number
          p_source: string
          p_workspace_id: string
        }
        Returns: string
      }
      delete_expired_oauth_states: { Args: never; Returns: undefined }
      delete_old_webhook_events: { Args: never; Returns: undefined }
      detect_keyword_trend: {
        Args: {
          p_current_date: string
          p_keyword: string
          p_lookback_days?: number
        }
        Returns: string
      }
      expire_old_opportunity_windows: { Args: never; Returns: number }
      finalize_agent_run: {
        Args: { p_run_id: string; p_status: string }
        Returns: undefined
      }
      finalize_reasoning_run: {
        Args: {
          p_final_memory_id: string
          p_risk_score: number
          p_run_id: string
          p_status: string
          p_uncertainty_score: number
        }
        Returns: undefined
      }
      find_connected_nodes: {
        Args: { p_max_depth?: number; p_node_id: string }
        Returns: {
          depth: number
          node_id: string
          path: string[]
        }[]
      }
      generate_usage_rollup: {
        Args: {
          p_org_id: string
          p_period_end: string
          p_period_start: string
          p_period_type: string
          p_workspace_id: string
        }
        Returns: string
      }
      get_active_boost_jobs: {
        Args: { p_business_id: string }
        Returns: {
          boost_type: string
          boosts_remaining: number
          id: string
          keyword_primary: string
          scheduled_at: string
          status: string
          url: string
        }[]
      }
      get_active_coalition_proposals: {
        Args: { p_workspace_id: string }
        Returns: {
          agent_count: number
          created_at: string
          proposal_id: string
          recommended_leader: string
          safety_approved: boolean
          synergy_score: number
          task_id: string
        }[]
      }
      get_active_marketplace_auctions: {
        Args: { p_workspace_id: string }
        Returns: {
          auction_id: string
          bid_count: number
          created_at: string
          status: string
          task_title: string
          winning_agent_id: string
        }[]
      }
      get_active_negotiation_session: {
        Args: { p_workspace_id: string }
        Returns: {
          created_at: string
          objective: string
          participating_agents: string[]
          proposals_count: number
          session_id: string
          status: string
        }[]
      }
      get_active_parameters: {
        Args: { p_workspace_id: string }
        Returns: {
          baseline_value: number
          confidence_score: number
          current_value: number
          improvement_trend: number
          parameter_name: string
        }[]
      }
      get_active_policies: {
        Args: { p_platform: string; p_region_slug: string }
        Returns: {
          description_markdown: string
          example_patterns: Json
          id: string
          policy_code: string
          severity: string
        }[]
      }
      get_active_projects: {
        Args: { p_tenant_id: string }
        Returns: {
          id: string
          project_name: string
          service_type: string
          start_date: string
          status: string
        }[]
      }
      get_active_strategies: {
        Args: { p_coalition_id: string }
        Returns: {
          created_at: string
          hierarchy_score: number
          id: string
          objective_id: string
          status: string
        }[]
      }
      get_adjustment_history: {
        Args: { p_limit?: number; p_workspace_id: string }
        Returns: {
          executed_at: string
          final_value: number
          parameter_name: string
          safety_constraint_active: boolean
        }[]
      }
      get_adjustment_proposals_for_cycle: {
        Args: { p_cycle_id: string }
        Returns: {
          adjustment_id: string
          confidence_score: number
          current_value: number
          delta_percentage: number
          parameter_name: string
          proposed_value: number
          requires_approval: boolean
        }[]
      }
      get_agency_license: {
        Args: { p_agency_id: string }
        Returns: {
          current_clients: number
          current_users: number
          expires_on: string
          license_id: string
          max_clients: number
          max_users: number
          region_name: string
          status: string
          tier_name: string
        }[]
      }
      get_agent_capabilities: {
        Args: { p_workspace_id: string }
        Returns: {
          category: string
          command_name: string
          description: string
          id: string
          parameters: Json
          requires_approval: boolean
          risk_level: string
          version: string
        }[]
      }
      get_ai_cost_breakdown: {
        Args: {
          p_end_date?: string
          p_start_date?: string
          p_workspace_id: string
        }
        Returns: {
          avg_cost_usd: number
          avg_latency_ms: number
          provider: string
          request_count: number
          task_type: string
          total_cost_usd: number
          total_tokens: number
        }[]
      }
      get_all_regions_health: {
        Args: never
        Returns: {
          budget_percent_remaining: number
          capacity_score: number
          overall_pressure: number
          region_id: string
          region_name: string
          scaling_mode: string
          warning_index: number
        }[]
      }
      get_audit_events: {
        Args: {
          p_category?: string
          p_end_date?: string
          p_limit?: number
          p_org_id: string
          p_severity?: string
          p_start_date?: string
        }
        Returns: {
          action: string
          created_at: string
          event_category: string
          event_type: string
          id: string
          metadata: Json
          severity: string
          user_id: string
        }[]
      }
      get_autonomous_task_summary: {
        Args: {
          p_hours_back?: number
          p_task_type?: string
          p_workspace_id: string
        }
        Returns: {
          avg_duration_ms: number
          failed_executions: number
          last_execution: string
          successful_executions: number
          task_type: string
          total_cost_usd: number
          total_executions: number
        }[]
      }
      get_autopilot_stats: {
        Args: { p_days?: number; p_workspace_id: string }
        Returns: Json
      }
      get_boost_performance_summary: {
        Args: { p_job_id: string }
        Returns: {
          avg_ctr_improvement: number
          avg_rank_improvement: number
          best_rank_achieved: number
          total_executions: number
        }[]
      }
      get_calibration_improvement_history: {
        Args: { p_lookback_days?: number; p_workspace_id: string }
        Returns: {
          archived_at: string
          cycle_number: number
          improvement_percentage: number
          system_health_after: number
          system_health_before: number
        }[]
      }
      get_child_agencies: {
        Args: { p_parent_id: string }
        Returns: {
          agency_id: string
          agency_name: string
          agency_slug: string
          license_status: string
          region_name: string
          tier_name: string
        }[]
      }
      get_client_email_intelligence: {
        Args: { p_client_id: string; p_workspace_id: string }
        Returns: {
          avg_sentiment: number
          last_email_at: string
          pending_ideas: number
          top_topics: string[]
          total_ideas: number
          total_messages: number
          total_threads: number
        }[]
      }
      get_coalition_analytics: {
        Args: { p_workspace_id: string }
        Returns: {
          average_synergy: number
          failed_coalitions: number
          most_effective_pair: string
          most_successful_leader: string
          successful_coalitions: number
          total_coalitions: number
        }[]
      }
      get_cognitive_twin_dashboard: {
        Args: { p_owner_user_id: string }
        Returns: {
          domain: string
          last_updated: string
          momentum: Json
          opportunity_count: number
          overall_health: number
          risk_count: number
        }[]
      }
      get_combat_stats: {
        Args: { p_days?: number; p_workspace_id: string }
        Returns: Json
      }
      get_compliance_incident_summary: {
        Args: { p_agency_id: string }
        Returns: Json
      }
      get_correction_cycle_summary: {
        Args: { p_cycle_id: string }
        Returns: {
          affected_agents: string[]
          confidence: number
          critical_nodes: number
          cycle_id: string
          cycle_type: string
          effectiveness_score: number
          memory_contradictions: number
          predicted_failure_probability: number
          risk_score: number
          status: string
          total_graph_nodes: number
        }[]
      }
      get_digest_history: {
        Args: {
          p_digest_type?: string
          p_limit?: number
          p_owner_user_id: string
        }
        Returns: {
          action_item_count: number
          created_at: string
          digest_type: string
          id: string
          key_metrics: Json
        }[]
      }
      get_error_stats: { Args: { p_hours?: number }; Returns: Json }
      get_execution_stats: {
        Args: { p_days?: number; p_workspace_id: string }
        Returns: Json
      }
      get_global_autonomy_summary: {
        Args: { p_run_id: string }
        Returns: {
          active_agents: string[]
          autonomy_score: number
          critical_events: number
          memory_influences: number
          objective: string
          orchestrator_links: number
          reasoning_links: number
          risk_score: number
          run_id: string
          status: string
          total_events: number
          uncertainty_score: number
        }[]
      }
      get_global_mesh_overview: { Args: never; Returns: Json }
      get_hot_pre_clients: {
        Args: { p_limit?: number; p_owner_user_id: string }
        Returns: {
          company: string
          days_since_contact: number
          email: string
          id: string
          latest_insight: string
          name: string
          relationship_score: number
        }[]
      }
      get_keyword_opportunities: {
        Args: { p_business_id: string; p_limit?: number }
        Returns: {
          keyword: string
          opportunity_score: number
          search_engine: string
          serp_position: number
          trend: string
        }[]
      }
      get_latest_founder_momentum: {
        Args: { p_founder_id: string; p_workspace_id: string }
        Returns: {
          clients_score: number
          delivery_score: number
          engineering_score: number
          finance_score: number
          marketing_score: number
          overall_score: number
          period_end: string
          product_score: number
          sales_score: number
        }[]
      }
      get_latest_navigator_snapshot: {
        Args: { p_tenant_id: string }
        Returns: {
          action_suggestions: Json | null
          confidence: number
          created_at: string
          id: string
          metadata: Json | null
          priority_map: Json
          region_id: string | null
          summary: Json
          tenant_id: string | null
        }[]
        SetofOptions: {
          from: "*"
          to: "navigator_snapshots"
          isOneToOne: false
          isSetofReturn: true
        }
      }
      get_latest_sync_status: {
        Args: { p_domain: string }
        Returns: {
          duration_ms: number
          error_count: number
          last_run: string
          status: string
          sync_type: string
        }[]
      }
      get_latest_tuning_result: {
        Args: { p_workspace_id: string }
        Returns: {
          calibration_cycle_id: string
          confidence_score: number
          created_at: string
          parameters_locked: boolean
          tuning_id: string
        }[]
      }
      get_locale_profile: {
        Args: { p_locale_code?: string; p_region_slug: string }
        Returns: Json
      }
      get_marketplace_statistics: {
        Args: { p_workspace_id: string }
        Returns: {
          avg_bids_per_auction: number
          bundles_used: number
          most_winning_agent: string
          safety_filters_triggered: number
          total_auctions: number
          total_bids: number
        }[]
      }
      get_media_with_analysis: {
        Args: { p_project_id: string }
        Returns: {
          action_items: Json
          file_name: string
          key_points: Json
          media_id: string
          media_type: string
          sentiment: string
          storage_url: string
          suggested_nodes: Json
          summary: string
          thumbnail_url: string
          transcript: string
          uploaded_at: string
        }[]
      }
      get_mindmap_structure: { Args: { p_mindmap_id: string }; Returns: Json }
      get_mode_limits: {
        Args: { p_environment: string; p_mode: string }
        Returns: Json
      }
      get_negotiation_stats: {
        Args: { p_lookback_days?: number; p_workspace_id: string }
        Returns: {
          avg_resolution_time: number
          consensus_rate: number
          pattern_count: number
          success_rate: number
          total_negotiations: number
        }[]
      }
      get_next_scheduled_sync: {
        Args: { p_domain: string }
        Returns: {
          enabled: boolean
          next_run: string
          sync_type: string
        }[]
      }
      get_node_with_edges: { Args: { p_node_id: string }; Returns: Json }
      get_oauth_token: {
        Args: { p_provider: string; p_workspace_id: string }
        Returns: {
          access_token: string
          expires_at: string
          is_expired: boolean
          refresh_token: string
        }[]
      }
      get_opportunity_summary: {
        Args: { p_tenant_id?: string }
        Returns: {
          avg_confidence: number
          category: string
          high_confidence_count: number
          total_count: number
          window_type: string
        }[]
      }
      get_orchestrator_task_summary: {
        Args: { p_task_id: string }
        Returns: {
          completed_steps: number
          failed_steps: number
          objective: string
          risk_score: number
          status: string
          step_count: number
          task_id: string
          uncertainty_score: number
          unresolved_signals: number
        }[]
      }
      get_org_usage_summary: {
        Args: { p_org_id: string; p_period_end: string; p_period_start: string }
        Returns: {
          category: string
          total_count: number
          workspace_count: number
        }[]
      }
      get_pending_decisions: {
        Args: { p_owner_user_id: string }
        Returns: {
          ai_recommendation: string
          created_at: string
          days_pending: number
          decision_type: string
          id: string
          options_count: number
          scenario_title: string
        }[]
      }
      get_pending_email_actions: {
        Args: { p_limit?: number; p_workspace_id: string }
        Returns: {
          client_id: string
          client_name: string
          created_at: string
          description: string
          due_date: string
          idea_id: string
          idea_type: string
          priority: string
          thread_subject: string
          title: string
        }[]
      }
      get_pending_tasks: {
        Args: { p_project_id: string }
        Returns: {
          due_date: string
          id: string
          priority: string
          status: string
          task_name: string
          task_type: string
        }[]
      }
      get_platform_mode: { Args: never; Returns: string }
      get_portfolio_health_summary: {
        Args: { p_owner_user_id: string }
        Returns: {
          avg_health: number
          domains_critical: number
          domains_healthy: number
          domains_warning: number
          total_opportunities: number
          total_risks: number
        }[]
      }
      get_posting_engine_config: {
        Args: { p_workspace_id: string }
        Returns: {
          auto_publish_low_risk: boolean
          block_during_warnings: boolean
          created_at: string
          draft_mode_only: boolean
          engine_enabled: boolean
          id: string
          max_fatigue_score: number
          max_posts_per_day: number
          max_posts_per_hour: number
          metadata: Json
          min_confidence_score: number
          require_approval_high: boolean
          require_approval_medium: boolean
          updated_at: string
          updated_by: string | null
          workspace_id: string | null
        }
        SetofOptions: {
          from: "*"
          to: "posting_engine_config"
          isOneToOne: true
          isSetofReturn: false
        }
      }
      get_pre_client_overview: {
        Args: { p_owner_user_id: string }
        Returns: {
          company: string
          email: string
          id: string
          last_interaction: string
          name: string
          pending_insights: number
          relationship_score: number
          status: string
          thread_count: number
        }[]
      }
      get_priority_insights: {
        Args: { p_min_priority?: number; p_snapshot_id: string }
        Returns: {
          category: string
          confidence_band: string
          created_at: string
          detail: Json
          id: string
          priority: number
          snapshot_id: string
          source_signals: Json | null
          title: string
          uncertainty_notes: string | null
        }[]
        SetofOptions: {
          from: "*"
          to: "navigator_insights"
          isOneToOne: false
          isSetofReturn: true
        }
      }
      get_project_media_stats: {
        Args: { p_project_id: string }
        Returns: {
          audios: number
          completed: number
          documents: number
          images: number
          pending_processing: number
          sketches: number
          total_duration_seconds: number
          total_size_mb: number
          total_uploads: number
          videos: number
        }[]
      }
      get_rate_limit_override: {
        Args: {
          client_key_param: string
          endpoint_param: string
          workspace_id_param?: string
        }
        Returns: {
          max_requests: number
          tier: string
          window_seconds: number
        }[]
      }
      get_reasoning_trace: {
        Args: { p_run_id: string }
        Returns: {
          agent: string
          final_risk: number
          final_uncertainty: number
          objective: string
          passes: Json
          run_id: string
        }[]
      }
      get_region_scaling_summary: {
        Args: { p_region_id: string }
        Returns: Json
      }
      get_relevant_memory: {
        Args: { p_limit?: number; p_query: string; p_workspace_id: string }
        Returns: {
          confidence: number
          content: Json
          id: string
          importance: number
          memory_type: string
          recall_priority: number
        }[]
      }
      get_safety_status: {
        Args: { p_workspace_id: string }
        Returns: {
          active_events: number
          avg_risk_reduction: number
          expired_predictions: number
          high_risk_events: number
          pending_predictions: number
          recent_interventions: number
          status_summary: string
        }[]
      }
      get_social_inbox_summary: {
        Args: { p_business_id: string }
        Returns: {
          account_handle: string
          avg_sentiment: number
          provider: string
          total_messages: number
          unread_inbound: number
        }[]
      }
      get_strategy_analytics: {
        Args: { p_workspace_id: string }
        Returns: {
          avg_execution_time: number
          avg_hierarchy_score: number
          completed_strategies: number
          most_common_pattern: string
          successful_completion_rate: number
          total_strategies: number
        }[]
      }
      get_tenant_hierarchy: {
        Args: { p_tenant_id: string }
        Returns: {
          agency_id: string
          agency_name: string
          level: number
        }[]
      }
      get_tenant_stats: { Args: { p_tenant_id: string }; Returns: Json }
      get_top_founder_opportunities: {
        Args: { p_founder_id: string; p_limit?: number; p_workspace_id: string }
        Returns: {
          category: string
          effort_score: number
          estimated_value_score: number
          id: string
          status: string
          time_horizon_weeks: number
          title: string
        }[]
      }
      get_top_founder_risks: {
        Args: { p_founder_id: string; p_limit?: number; p_workspace_id: string }
        Returns: {
          category: string
          id: string
          impact_score: number
          likelihood_score: number
          mitigation_status: string
          risk_score: number
          title: string
        }[]
      }
      get_top_patterns: {
        Args: { p_limit?: number; p_workspace_id: string }
        Returns: {
          avg_confidence: number
          description: string
          occurrences: number
          pattern_name: string
          success_rate: number
        }[]
      }
      get_tuning_history: {
        Args: { p_limit?: number; p_workspace_id: string }
        Returns: {
          calibration_cycle_id: string
          confidence_score: number
          created_at: string
          parameters_locked: boolean
          tuning_id: string
        }[]
      }
      get_user_agencies: {
        Args: { p_user_id: string }
        Returns: {
          agency_id: string
          agency_name: string
          agency_slug: string
          is_active: boolean
          role: string
        }[]
      }
      get_user_role:
        | { Args: never; Returns: string }
        | { Args: { user_id: string }; Returns: string }
      get_user_workspaces: { Args: never; Returns: string[] }
      get_winner_stats: {
        Args: { p_days?: number; p_workspace_id: string }
        Returns: Json
      }
      get_workspace_limit: {
        Args: { limit_name: string; workspace_id_param: string }
        Returns: number
      }
      has_oauth_token: {
        Args: { p_provider: string; p_workspace_id: string }
        Returns: boolean
      }
      has_role: { Args: { allowed_roles: string[] }; Returns: boolean }
      is_admin_approved: {
        Args: { device_fingerprint: string; user_id: string }
        Returns: boolean
      }
      is_client: { Args: never; Returns: boolean }
      is_execution_safe: { Args: { p_preflight_id: string }; Returns: boolean }
      is_founder: { Args: never; Returns: boolean }
      is_ip_blocked: { Args: { ip_param: string }; Returns: boolean }
      is_org_member: { Args: { check_org_id: string }; Returns: boolean }
      is_platform_admin: { Args: { user_id: string }; Returns: boolean }
      is_posting_allowed: {
        Args: {
          p_confidence: number
          p_risk_level: string
          p_workspace_id: string
        }
        Returns: boolean
      }
      is_staff: { Args: never; Returns: boolean }
      is_workspace_admin: {
        Args: { check_workspace_id: string }
        Returns: boolean
      }
      is_workspace_member: {
        Args: { check_workspace_id: string }
        Returns: boolean
      }
      link_autonomy_to_memory: {
        Args: {
          p_agent: string
          p_confidence?: number
          p_link_type: string
          p_memory_id: string
          p_run_id: string
        }
        Returns: string
      }
      link_autonomy_to_orchestrator: {
        Args: {
          p_agent: string
          p_confidence?: number
          p_link_type: string
          p_run_id: string
          p_step_id: string
        }
        Returns: string
      }
      link_memories: {
        Args: {
          p_linked_memory_id: string
          p_memory_id: string
          p_relationship: string
          p_strength?: number
        }
        Returns: string
      }
      log_admin_access: {
        Args: {
          action: string
          device_fingerprint: string
          error_message?: string
          ip_address: unknown
          success?: boolean
          user_agent: string
          user_id: string
        }
        Returns: undefined
      }
      log_ai_usage: {
        Args: {
          p_cost_usd: number
          p_error_message?: string
          p_latency_ms?: number
          p_model_id: string
          p_provider: string
          p_success?: boolean
          p_task_type: string
          p_tokens_input: number
          p_tokens_output: number
          p_user_id: string
          p_workspace_id: string
        }
        Returns: string
      }
      log_audit_event: {
        Args: {
          p_action: string
          p_event_category: string
          p_event_type: string
          p_metadata?: Json
          p_new_value?: Json
          p_old_value?: Json
          p_org_id: string
          p_resource_id?: string
          p_resource_type?: string
          p_severity?: string
          p_user_id: string
          p_workspace_id: string
        }
        Returns: string
      }
      log_performance: {
        Args: {
          p_duration_ms: number
          p_metadata?: Json
          p_method?: string
          p_metric_type: string
          p_operation: string
          p_route?: string
          p_status_code?: number
        }
        Returns: string
      }
      log_rate_limit: {
        Args: {
          allowed_param: boolean
          client_key_param: string
          endpoint_param: string
          method_param?: string
          remaining_param: number
          reset_at_param: string
          status_param?: number
          tier_param: string
        }
        Returns: string
      }
      log_system_error: {
        Args: {
          p_context?: Json
          p_error_type: string
          p_message: string
          p_priority: string
          p_route?: string
          p_severity: string
          p_stack_trace?: string
          p_user_id?: string
          p_workspace_id?: string
        }
        Returns: string
      }
      mark_sync_completed: {
        Args: {
          p_domain: string
          p_error_message?: string
          p_records?: number
          p_status: string
          p_sync_type: string
        }
        Returns: undefined
      }
      purge_low_priority_memory: {
        Args: { p_threshold?: number; p_workspace_id: string }
        Returns: number
      }
      record_agent_command: {
        Args: {
          p_command_name: string
          p_parameters?: Json
          p_requires_approval?: boolean
          p_session_id: string
          p_user_id: string
          p_workspace_id: string
        }
        Returns: string
      }
      record_agent_step: {
        Args: {
          p_action_type: string
          p_command: Json
          p_description?: string
          p_plan_id: string
          p_promised_outcome?: string
          p_step_number: number
        }
        Returns: string
      }
      record_autonomy_event: {
        Args: {
          p_agent?: string
          p_event_type: string
          p_payload?: Json
          p_run_id: string
          p_severity?: number
          p_source_id?: string
          p_source_type?: string
        }
        Returns: string
      }
      record_calibration_metric: {
        Args: {
          p_agent_name?: string
          p_details?: Json
          p_metric_type: string
          p_metric_value: number
          p_workflow_type?: string
          p_workspace_id: string
        }
        Returns: string
      }
      record_decision_outcome: {
        Args: {
          p_decision_id: string
          p_human_decision: string
          p_outcome?: Json
        }
        Returns: undefined
      }
      record_orchestrator_step: {
        Args: {
          p_assigned_agent: string
          p_input_context: Json
          p_memory_created?: string[]
          p_memory_used?: string[]
          p_output_payload?: Json
          p_risk_score?: number
          p_step_index: number
          p_task_id: string
          p_uncertainty_score?: number
        }
        Returns: string
      }
      record_reasoning_artifact: {
        Args: {
          p_artifact_type: string
          p_content: Json
          p_pass_id: string
          p_quality_score: number
        }
        Returns: string
      }
      record_reasoning_pass: {
        Args: {
          p_confidence: number
          p_generated_content: Json
          p_input_context: Json
          p_memory_ids: string[]
          p_pass_number: number
          p_pass_type: string
          p_risk: number
          p_run_id: string
          p_uncertainty: number
        }
        Returns: string
      }
      record_safety_prediction: {
        Args: {
          p_action_priority?: string
          p_affected_agents: string[]
          p_confidence: number
          p_prediction_type: string
          p_probability: number
          p_recommended_action: string
          p_workspace_id: string
        }
        Returns: string
      }
      redact_memory: {
        Args: {
          p_memory_id: string
          p_redacted_by: string
          p_redaction_reason: string
        }
        Returns: undefined
      }
      refresh_ai_daily_summary: { Args: never; Returns: undefined }
      refresh_client_profitability_mv: { Args: never; Returns: undefined }
      refresh_oauth_token: {
        Args: {
          p_new_access_token: string
          p_new_expires_at: string
          p_provider: string
          p_workspace_id: string
        }
        Returns: boolean
      }
      request_admin_approval: {
        Args: { ip_address: unknown; user_agent: string; user_id: string }
        Returns: string
      }
      reset_daily_budget_spend: { Args: never; Returns: undefined }
      reset_monthly_budgets: { Args: never; Returns: undefined }
      resolve_orchestrator_signal: {
        Args: { p_resolution_notes?: string; p_signal_id: string }
        Returns: undefined
      }
      rollup_franchise_metrics: {
        Args: {
          p_parent_id: string
          p_period_end: string
          p_period_start: string
        }
        Returns: Json
      }
      search_media_by_content: {
        Args: { p_search_query: string; p_workspace_id: string }
        Returns: {
          file_name: string
          media_id: string
          media_type: string
          relevance: number
        }[]
      }
      set_autonomy_active_agents: {
        Args: { p_agents: string[]; p_run_id: string }
        Returns: undefined
      }
      set_correction_actions: {
        Args: { p_cycle_id: string; p_improvement_actions: Json }
        Returns: undefined
      }
      set_correction_affected_agents: {
        Args: { p_agents: string[]; p_cycle_id: string }
        Returns: undefined
      }
      show_limit: { Args: never; Returns: number }
      show_trgm: { Args: { "": string }; Returns: string[] }
      start_reasoning_run: {
        Args: {
          p_agent: string
          p_initial_memory_ids?: string[]
          p_objective: string
          p_workspace_id: string
        }
        Returns: string
      }
      store_agent_memory: {
        Args: {
          p_agent: string
          p_confidence?: number
          p_content: Json
          p_importance?: number
          p_keywords?: string[]
          p_memory_type: string
          p_source?: string
          p_uncertainty_notes?: string
          p_workspace_id: string
        }
        Returns: string
      }
      trust_admin_device: {
        Args: {
          approver_id: string
          device_fingerprint: string
          ip_address: unknown
          user_agent: string
          user_id: string
        }
        Returns: boolean
      }
      update_agent_step_status: {
        Args: {
          p_error_message?: string
          p_execution_time_ms?: number
          p_result?: Json
          p_status: string
          p_step_id: string
        }
        Returns: undefined
      }
      update_autonomy_scores: {
        Args: {
          p_autonomy_score?: number
          p_confidence_score?: number
          p_consistency_score?: number
          p_readiness_score?: number
          p_risk_score?: number
          p_run_id: string
          p_status?: string
          p_uncertainty_score?: number
        }
        Returns: undefined
      }
      update_autonomy_step_counts: {
        Args: {
          p_completed_steps?: number
          p_failed_steps?: number
          p_run_id: string
          p_total_steps?: number
        }
        Returns: undefined
      }
      update_calibration_parameters: {
        Args: {
          p_calibration_cycle_id?: string
          p_confidence_score?: number
          p_new_value: number
          p_parameter_name: string
          p_workspace_id: string
        }
        Returns: string
      }
      update_correction_scores: {
        Args: {
          p_confidence?: number
          p_cycle_id: string
          p_effectiveness_score?: number
          p_predicted_failure_probability?: number
          p_risk_score?: number
          p_status?: string
        }
        Returns: undefined
      }
      update_orchestrator_task: {
        Args: {
          p_final_output?: Json
          p_risk_score?: number
          p_status: string
          p_task_id: string
          p_uncertainty_score?: number
        }
        Returns: undefined
      }
      update_safety_event_status: {
        Args: {
          p_event_id: string
          p_intervention?: string
          p_resolution_notes?: string
          p_resolved?: boolean
        }
        Returns: undefined
      }
      upsert_self_healing_job: {
        Args: {
          p_ai_summary?: string
          p_error_category: string
          p_error_signature: string
          p_observability_log_id?: string
          p_route: string
          p_severity?: string
        }
        Returns: string
      }
      user_has_role_in_org: {
        Args: { p_org_id: string; p_required_role: string }
        Returns: boolean
      }
      user_has_tenant_access: {
        Args: { p_tenant_id: string; p_user_id: string }
        Returns: boolean
      }
      user_has_workspace_access: { Args: { ws_id: string }; Returns: boolean }
      workspace_has_feature: {
        Args: { feature_name: string; workspace_id_param: string }
        Returns: boolean
      }
      workspace_has_tier: {
        Args: { required_tier: string; workspace_id_param: string }
        Returns: boolean
      }
      workspace_within_limit: {
        Args: {
          current_count: number
          limit_name: string
          workspace_id_param: string
        }
        Returns: boolean
      }
    }
    Enums: {
      user_role: "FOUNDER" | "STAFF" | "CLIENT" | "ADMIN"
    }
    CompositeTypes: {
      [_ in never]: never
    }
  }
}

type DatabaseWithoutInternals = Omit<Database, "__InternalSupabase">

type DefaultSchema = DatabaseWithoutInternals[Extract<keyof Database, "public">]

export type Tables<
  DefaultSchemaTableNameOrOptions extends
    | keyof (DefaultSchema["Tables"] & DefaultSchema["Views"])
    | { schema: keyof DatabaseWithoutInternals },
  TableName extends DefaultSchemaTableNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
    ? keyof (DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"] &
        DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Views"])
    : never = never,
> = DefaultSchemaTableNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? (DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"] &
      DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Views"])[TableName] extends {
      Row: infer R
    }
    ? R
    : never
  : DefaultSchemaTableNameOrOptions extends keyof (DefaultSchema["Tables"] &
        DefaultSchema["Views"])
    ? (DefaultSchema["Tables"] &
        DefaultSchema["Views"])[DefaultSchemaTableNameOrOptions] extends {
        Row: infer R
      }
      ? R
      : never
    : never

export type TablesInsert<
  DefaultSchemaTableNameOrOptions extends
    | keyof DefaultSchema["Tables"]
    | { schema: keyof DatabaseWithoutInternals },
  TableName extends DefaultSchemaTableNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
    ? keyof DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"]
    : never = never,
> = DefaultSchemaTableNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"][TableName] extends {
      Insert: infer I
    }
    ? I
    : never
  : DefaultSchemaTableNameOrOptions extends keyof DefaultSchema["Tables"]
    ? DefaultSchema["Tables"][DefaultSchemaTableNameOrOptions] extends {
        Insert: infer I
      }
      ? I
      : never
    : never

export type TablesUpdate<
  DefaultSchemaTableNameOrOptions extends
    | keyof DefaultSchema["Tables"]
    | { schema: keyof DatabaseWithoutInternals },
  TableName extends DefaultSchemaTableNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
    ? keyof DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"]
    : never = never,
> = DefaultSchemaTableNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"][TableName] extends {
      Update: infer U
    }
    ? U
    : never
  : DefaultSchemaTableNameOrOptions extends keyof DefaultSchema["Tables"]
    ? DefaultSchema["Tables"][DefaultSchemaTableNameOrOptions] extends {
        Update: infer U
      }
      ? U
      : never
    : never

export type Enums<
  DefaultSchemaEnumNameOrOptions extends
    | keyof DefaultSchema["Enums"]
    | { schema: keyof DatabaseWithoutInternals },
  EnumName extends DefaultSchemaEnumNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
    ? keyof DatabaseWithoutInternals[DefaultSchemaEnumNameOrOptions["schema"]]["Enums"]
    : never = never,
> = DefaultSchemaEnumNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[DefaultSchemaEnumNameOrOptions["schema"]]["Enums"][EnumName]
  : DefaultSchemaEnumNameOrOptions extends keyof DefaultSchema["Enums"]
    ? DefaultSchema["Enums"][DefaultSchemaEnumNameOrOptions]
    : never

export type CompositeTypes<
  PublicCompositeTypeNameOrOptions extends
    | keyof DefaultSchema["CompositeTypes"]
    | { schema: keyof DatabaseWithoutInternals },
  CompositeTypeName extends PublicCompositeTypeNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
    ? keyof DatabaseWithoutInternals[PublicCompositeTypeNameOrOptions["schema"]]["CompositeTypes"]
    : never = never,
> = PublicCompositeTypeNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[PublicCompositeTypeNameOrOptions["schema"]]["CompositeTypes"][CompositeTypeName]
  : PublicCompositeTypeNameOrOptions extends keyof DefaultSchema["CompositeTypes"]
    ? DefaultSchema["CompositeTypes"][PublicCompositeTypeNameOrOptions]
    : never

export const Constants = {
  public: {
    Enums: {
      user_role: ["FOUNDER", "STAFF", "CLIENT", "ADMIN"],
    },
  },
} as const
